var k_=t=>{throw TypeError(t)};var py=(t,e,n)=>e.has(t)||k_("Cannot "+n);var Q=(t,e,n)=>(py(t,e,"read from private field"),n?n.call(t):e.get(t)),Je=(t,e,n)=>e.has(t)?k_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Oe=(t,e,n,s)=>(py(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),Cn=(t,e,n)=>(py(t,e,"access private method"),n);var zf=(t,e,n,s)=>({set _(r){Oe(t,e,r,n)},get _(){return Q(t,e,s)}});function dF(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(s,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function cP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uP={exports:{}},_g={},dP={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh=Symbol.for("react.element"),hF=Symbol.for("react.portal"),fF=Symbol.for("react.fragment"),mF=Symbol.for("react.strict_mode"),pF=Symbol.for("react.profiler"),gF=Symbol.for("react.provider"),xF=Symbol.for("react.context"),yF=Symbol.for("react.forward_ref"),vF=Symbol.for("react.suspense"),wF=Symbol.for("react.memo"),bF=Symbol.for("react.lazy"),R_=Symbol.iterator;function jF(t){return t===null||typeof t!="object"?null:(t=R_&&t[R_]||t["@@iterator"],typeof t=="function"?t:null)}var hP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fP=Object.assign,mP={};function uu(t,e,n){this.props=t,this.context=e,this.refs=mP,this.updater=n||hP}uu.prototype.isReactComponent={};uu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};uu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pP(){}pP.prototype=uu.prototype;function ab(t,e,n){this.props=t,this.context=e,this.refs=mP,this.updater=n||hP}var lb=ab.prototype=new pP;lb.constructor=ab;fP(lb,uu.prototype);lb.isPureReactComponent=!0;var D_=Array.isArray,gP=Object.prototype.hasOwnProperty,cb={current:null},xP={key:!0,ref:!0,__self:!0,__source:!0};function yP(t,e,n){var s,r={},o=null,a=null;if(e!=null)for(s in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)gP.call(e,s)&&!xP.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:zh,type:t,key:o,ref:a,props:r,_owner:cb.current}}function NF(t,e){return{$$typeof:zh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ub(t){return typeof t=="object"&&t!==null&&t.$$typeof===zh}function _F(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var M_=/\/+/g;function gy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_F(""+t.key):e.toString(36)}function Cm(t,e,n,s,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case zh:case hF:a=!0}}if(a)return a=t,r=r(a),t=s===""?"."+gy(a,0):s,D_(r)?(n="",t!=null&&(n=t.replace(M_,"$&/")+"/"),Cm(r,e,n,"",function(u){return u})):r!=null&&(ub(r)&&(r=NF(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(M_,"$&/")+"/")+t)),e.push(r)),1;if(a=0,s=s===""?".":s+":",D_(t))for(var l=0;l<t.length;l++){o=t[l];var c=s+gy(o,l);a+=Cm(o,e,n,c,r)}else if(c=jF(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=s+gy(o,l++),a+=Cm(o,e,n,c,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Bf(t,e,n){if(t==null)return t;var s=[],r=0;return Cm(t,s,"","",function(o){return e.call(n,o,r++)}),s}function SF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kn={current:null},Am={transition:null},EF={ReactCurrentDispatcher:Kn,ReactCurrentBatchConfig:Am,ReactCurrentOwner:cb};function vP(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:Bf,forEach:function(t,e,n){Bf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bf(t,function(){e++}),e},toArray:function(t){return Bf(t,function(e){return e})||[]},only:function(t){if(!ub(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ze.Component=uu;ze.Fragment=fF;ze.Profiler=pF;ze.PureComponent=ab;ze.StrictMode=mF;ze.Suspense=vF;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EF;ze.act=vP;ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=fP({},t.props),r=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=cb.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)gP.call(e,c)&&!xP.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:zh,type:t.type,key:r,ref:o,props:s,_owner:a}};ze.createContext=function(t){return t={$$typeof:xF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gF,_context:t},t.Consumer=t};ze.createElement=yP;ze.createFactory=function(t){var e=yP.bind(null,t);return e.type=t,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(t){return{$$typeof:yF,render:t}};ze.isValidElement=ub;ze.lazy=function(t){return{$$typeof:bF,_payload:{_status:-1,_result:t},_init:SF}};ze.memo=function(t,e){return{$$typeof:wF,type:t,compare:e===void 0?null:e}};ze.startTransition=function(t){var e=Am.transition;Am.transition={};try{t()}finally{Am.transition=e}};ze.unstable_act=vP;ze.useCallback=function(t,e){return Kn.current.useCallback(t,e)};ze.useContext=function(t){return Kn.current.useContext(t)};ze.useDebugValue=function(){};ze.useDeferredValue=function(t){return Kn.current.useDeferredValue(t)};ze.useEffect=function(t,e){return Kn.current.useEffect(t,e)};ze.useId=function(){return Kn.current.useId()};ze.useImperativeHandle=function(t,e,n){return Kn.current.useImperativeHandle(t,e,n)};ze.useInsertionEffect=function(t,e){return Kn.current.useInsertionEffect(t,e)};ze.useLayoutEffect=function(t,e){return Kn.current.useLayoutEffect(t,e)};ze.useMemo=function(t,e){return Kn.current.useMemo(t,e)};ze.useReducer=function(t,e,n){return Kn.current.useReducer(t,e,n)};ze.useRef=function(t){return Kn.current.useRef(t)};ze.useState=function(t){return Kn.current.useState(t)};ze.useSyncExternalStore=function(t,e,n){return Kn.current.useSyncExternalStore(t,e,n)};ze.useTransition=function(){return Kn.current.useTransition()};ze.version="18.3.1";dP.exports=ze;var p=dP.exports;const ee=cP(p),db=dF({__proto__:null,default:ee},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TF=p,CF=Symbol.for("react.element"),AF=Symbol.for("react.fragment"),PF=Object.prototype.hasOwnProperty,IF=TF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kF={key:!0,ref:!0,__self:!0,__source:!0};function wP(t,e,n){var s,r={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(s in e)PF.call(e,s)&&!kF.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:CF,type:t,key:o,ref:a,props:r,_owner:IF.current}}_g.Fragment=AF;_g.jsx=wP;_g.jsxs=wP;uP.exports=_g;var i=uP.exports,bP={exports:{}},As={},jP={exports:{}},NP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,M){var $=V.length;V.push(M);e:for(;0<$;){var G=$-1>>>1,Z=V[G];if(0<r(Z,M))V[G]=M,V[$]=Z,$=G;else break e}}function n(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var M=V[0],$=V.pop();if($!==M){V[0]=$;e:for(var G=0,Z=V.length,U=Z>>>1;G<U;){var q=2*(G+1)-1,te=V[q],ve=q+1,Y=V[ve];if(0>r(te,$))ve<Z&&0>r(Y,te)?(V[G]=Y,V[ve]=$,G=ve):(V[G]=te,V[q]=$,G=q);else if(ve<Z&&0>r(Y,$))V[G]=Y,V[ve]=$,G=ve;else break e}}return M}function r(V,M){var $=V.sortIndex-M.sortIndex;return $!==0?$:V.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,m=3,g=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var M=n(u);M!==null;){if(M.callback===null)s(u);else if(M.startTime<=V)s(u),M.sortIndex=M.expirationTime,e(c,M);else break;M=n(u)}}function C(V){if(x=!1,b(V),!y)if(n(c)!==null)y=!0,W(k);else{var M=n(u);M!==null&&B(C,M.startTime-V)}}function k(V,M){y=!1,x&&(x=!1,v(S),S=-1),g=!0;var $=m;try{for(b(M),h=n(c);h!==null&&(!(h.expirationTime>M)||V&&!P());){var G=h.callback;if(typeof G=="function"){h.callback=null,m=h.priorityLevel;var Z=G(h.expirationTime<=M);M=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(c)&&s(c),b(M)}else s(c);h=n(c)}if(h!==null)var U=!0;else{var q=n(u);q!==null&&B(C,q.startTime-M),U=!1}return U}finally{h=null,m=$,g=!1}}var I=!1,_=null,S=-1,T=5,E=-1;function P(){return!(t.unstable_now()-E<T)}function R(){if(_!==null){var V=t.unstable_now();E=V;var M=!0;try{M=_(!0,V)}finally{M?D():(I=!1,_=null)}}else I=!1}var D;if(typeof j=="function")D=function(){j(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,F=L.port2;L.port1.onmessage=R,D=function(){F.postMessage(null)}}else D=function(){w(R,0)};function W(V){_=V,I||(I=!0,D())}function B(V,M){S=w(function(){V(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,W(k))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var M=3;break;default:M=m}var $=m;m=M;try{return V()}finally{m=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,M){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var $=m;m=V;try{return M()}finally{m=$}},t.unstable_scheduleCallback=function(V,M,$){var G=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,V){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=$+Z,V={id:d++,callback:M,priorityLevel:V,startTime:$,expirationTime:Z,sortIndex:-1},$>G?(V.sortIndex=$,e(u,V),n(c)===null&&V===n(u)&&(x?(v(S),S=-1):x=!0,B(C,$-G))):(V.sortIndex=Z,e(c,V),y||g||(y=!0,W(k))),V},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(V){var M=m;return function(){var $=m;m=M;try{return V.apply(this,arguments)}finally{m=$}}}})(NP);jP.exports=NP;var RF=jP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DF=p,Ts=RF;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _P=new Set,Bd={};function _l(t,e){zc(t,e),zc(t+"Capture",e)}function zc(t,e){for(Bd[t]=e,t=0;t<e.length;t++)_P.add(e[t])}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uv=Object.prototype.hasOwnProperty,MF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O_={},L_={};function OF(t){return Uv.call(L_,t)?!0:Uv.call(O_,t)?!1:MF.test(t)?L_[t]=!0:(O_[t]=!0,!1)}function LF(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VF(t,e,n,s){if(e===null||typeof e>"u"||LF(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yn(t,e,n,s,r,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Sn[t]=new Yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Sn[e]=new Yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Sn[t]=new Yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Sn[t]=new Yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Sn[t]=new Yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Sn[t]=new Yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Sn[t]=new Yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Sn[t]=new Yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Sn[t]=new Yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var hb=/[\-:]([a-z])/g;function fb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hb,fb);Sn[e]=new Yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hb,fb);Sn[e]=new Yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hb,fb);Sn[e]=new Yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Sn[t]=new Yn(t,1,!1,t.toLowerCase(),null,!1,!1)});Sn.xlinkHref=new Yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Sn[t]=new Yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function mb(t,e,n,s){var r=Sn.hasOwnProperty(e)?Sn[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VF(e,n,r,s)&&(n=null),s||r===null?OF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var zi=DF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wf=Symbol.for("react.element"),nc=Symbol.for("react.portal"),sc=Symbol.for("react.fragment"),pb=Symbol.for("react.strict_mode"),$v=Symbol.for("react.profiler"),SP=Symbol.for("react.provider"),EP=Symbol.for("react.context"),gb=Symbol.for("react.forward_ref"),zv=Symbol.for("react.suspense"),Bv=Symbol.for("react.suspense_list"),xb=Symbol.for("react.memo"),fo=Symbol.for("react.lazy"),TP=Symbol.for("react.offscreen"),V_=Symbol.iterator;function Wu(t){return t===null||typeof t!="object"?null:(t=V_&&t[V_]||t["@@iterator"],typeof t=="function"?t:null)}var It=Object.assign,xy;function rd(t){if(xy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xy=e&&e[1]||""}return`
`+xy+t}var yy=!1;function vy(t,e){if(!t||yy)return"";yy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),o=s.stack.split(`
`),a=r.length-1,l=o.length-1;1<=a&&0<=l&&r[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(r[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||r[a]!==o[l]){var c=`
`+r[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{yy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rd(t):""}function FF(t){switch(t.tag){case 5:return rd(t.type);case 16:return rd("Lazy");case 13:return rd("Suspense");case 19:return rd("SuspenseList");case 0:case 2:case 15:return t=vy(t.type,!1),t;case 11:return t=vy(t.type.render,!1),t;case 1:return t=vy(t.type,!0),t;default:return""}}function Wv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sc:return"Fragment";case nc:return"Portal";case $v:return"Profiler";case pb:return"StrictMode";case zv:return"Suspense";case Bv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case EP:return(t.displayName||"Context")+".Consumer";case SP:return(t._context.displayName||"Context")+".Provider";case gb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xb:return e=t.displayName||null,e!==null?e:Wv(t.type)||"Memo";case fo:e=t._payload,t=t._init;try{return Wv(t(e))}catch{}}return null}function UF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wv(e);case 8:return e===pb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $F(t){var e=CP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hf(t){t._valueTracker||(t._valueTracker=$F(t))}function AP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=CP(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function ap(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hv(t,e){var n=e.checked;return It({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function F_(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Wo(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PP(t,e){e=e.checked,e!=null&&mb(t,"checked",e,!1)}function qv(t,e){PP(t,e);var n=Wo(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gv(t,e.type,Wo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function U_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gv(t,e,n){(e!=="number"||ap(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var id=Array.isArray;function vc(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Wo(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Kv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return It({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(id(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wo(n)}}function IP(t,e){var n=Wo(e.value),s=Wo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function z_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qf,RP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qf=qf||document.createElement("div"),qf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zF=["Webkit","ms","Moz","O"];Object.keys(bd).forEach(function(t){zF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bd[e]=bd[t]})});function DP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bd.hasOwnProperty(t)&&bd[t]?(""+e).trim():e+"px"}function MP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=DP(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var BF=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qv(t,e){if(e){if(BF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Xv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jv=null;function yb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zv=null,wc=null,bc=null;function B_(t){if(t=Hh(t)){if(typeof Zv!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Ag(e),Zv(t.stateNode,t.type,e))}}function OP(t){wc?bc?bc.push(t):bc=[t]:wc=t}function LP(){if(wc){var t=wc,e=bc;if(bc=wc=null,B_(t),e)for(t=0;t<e.length;t++)B_(e[t])}}function VP(t,e){return t(e)}function FP(){}var wy=!1;function UP(t,e,n){if(wy)return t(e,n);wy=!0;try{return VP(t,e,n)}finally{wy=!1,(wc!==null||bc!==null)&&(FP(),LP())}}function Hd(t,e){var n=t.stateNode;if(n===null)return null;var s=Ag(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var e0=!1;if(Ti)try{var Hu={};Object.defineProperty(Hu,"passive",{get:function(){e0=!0}}),window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{e0=!1}function WF(t,e,n,s,r,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var jd=!1,lp=null,cp=!1,t0=null,HF={onError:function(t){jd=!0,lp=t}};function qF(t,e,n,s,r,o,a,l,c){jd=!1,lp=null,WF.apply(HF,arguments)}function GF(t,e,n,s,r,o,a,l,c){if(qF.apply(this,arguments),jd){if(jd){var u=lp;jd=!1,lp=null}else throw Error(re(198));cp||(cp=!0,t0=u)}}function Sl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $P(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function W_(t){if(Sl(t)!==t)throw Error(re(188))}function KF(t){var e=t.alternate;if(!e){if(e=Sl(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return W_(r),t;if(o===s)return W_(r),e;o=o.sibling}throw Error(re(188))}if(n.return!==s.return)n=r,s=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,s=o;break}if(l===s){a=!0,s=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,s=r;break}if(l===s){a=!0,s=o,n=r;break}l=l.sibling}if(!a)throw Error(re(189))}}if(n.alternate!==s)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function zP(t){return t=KF(t),t!==null?BP(t):null}function BP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BP(t);if(e!==null)return e;t=t.sibling}return null}var WP=Ts.unstable_scheduleCallback,H_=Ts.unstable_cancelCallback,YF=Ts.unstable_shouldYield,QF=Ts.unstable_requestPaint,Wt=Ts.unstable_now,XF=Ts.unstable_getCurrentPriorityLevel,vb=Ts.unstable_ImmediatePriority,HP=Ts.unstable_UserBlockingPriority,up=Ts.unstable_NormalPriority,JF=Ts.unstable_LowPriority,qP=Ts.unstable_IdlePriority,Sg=null,zr=null;function ZF(t){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(Sg,t,void 0,(t.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:n6,e6=Math.log,t6=Math.LN2;function n6(t){return t>>>=0,t===0?32:31-(e6(t)/t6|0)|0}var Gf=64,Kf=4194304;function od(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dp(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~r;l!==0?s=od(l):(o&=a,o!==0&&(s=od(o)))}else a=n&~r,a!==0?s=od(a):o!==0&&(s=od(o));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-pr(e),r=1<<n,s|=t[n],e&=~r;return s}function s6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r6(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-pr(o),l=1<<a,c=r[a];c===-1?(!(l&n)||l&s)&&(r[a]=s6(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function n0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function GP(){var t=Gf;return Gf<<=1,!(Gf&4194240)&&(Gf=64),t}function by(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pr(e),t[e]=n}function i6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-pr(n),o=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~o}}function wb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-pr(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var st=0;function KP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var YP,bb,QP,XP,JP,s0=!1,Yf=[],Ao=null,Po=null,Io=null,qd=new Map,Gd=new Map,po=[],o6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q_(t,e){switch(t){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":Po=null;break;case"mouseover":case"mouseout":Io=null;break;case"pointerover":case"pointerout":qd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gd.delete(e.pointerId)}}function qu(t,e,n,s,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Hh(e),e!==null&&bb(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function a6(t,e,n,s,r){switch(e){case"focusin":return Ao=qu(Ao,t,e,n,s,r),!0;case"dragenter":return Po=qu(Po,t,e,n,s,r),!0;case"mouseover":return Io=qu(Io,t,e,n,s,r),!0;case"pointerover":var o=r.pointerId;return qd.set(o,qu(qd.get(o)||null,t,e,n,s,r)),!0;case"gotpointercapture":return o=r.pointerId,Gd.set(o,qu(Gd.get(o)||null,t,e,n,s,r)),!0}return!1}function ZP(t){var e=Da(t.target);if(e!==null){var n=Sl(e);if(n!==null){if(e=n.tag,e===13){if(e=$P(n),e!==null){t.blockedOn=e,JP(t.priority,function(){QP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=r0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Jv=s,n.target.dispatchEvent(s),Jv=null}else return e=Hh(n),e!==null&&bb(e),t.blockedOn=n,!1;e.shift()}return!0}function G_(t,e,n){Pm(t)&&n.delete(e)}function l6(){s0=!1,Ao!==null&&Pm(Ao)&&(Ao=null),Po!==null&&Pm(Po)&&(Po=null),Io!==null&&Pm(Io)&&(Io=null),qd.forEach(G_),Gd.forEach(G_)}function Gu(t,e){t.blockedOn===e&&(t.blockedOn=null,s0||(s0=!0,Ts.unstable_scheduleCallback(Ts.unstable_NormalPriority,l6)))}function Kd(t){function e(r){return Gu(r,t)}if(0<Yf.length){Gu(Yf[0],t);for(var n=1;n<Yf.length;n++){var s=Yf[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Ao!==null&&Gu(Ao,t),Po!==null&&Gu(Po,t),Io!==null&&Gu(Io,t),qd.forEach(e),Gd.forEach(e),n=0;n<po.length;n++)s=po[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<po.length&&(n=po[0],n.blockedOn===null);)ZP(n),n.blockedOn===null&&po.shift()}var jc=zi.ReactCurrentBatchConfig,hp=!0;function c6(t,e,n,s){var r=st,o=jc.transition;jc.transition=null;try{st=1,jb(t,e,n,s)}finally{st=r,jc.transition=o}}function u6(t,e,n,s){var r=st,o=jc.transition;jc.transition=null;try{st=4,jb(t,e,n,s)}finally{st=r,jc.transition=o}}function jb(t,e,n,s){if(hp){var r=r0(t,e,n,s);if(r===null)Iy(t,e,s,fp,n),q_(t,s);else if(a6(r,t,e,n,s))s.stopPropagation();else if(q_(t,s),e&4&&-1<o6.indexOf(t)){for(;r!==null;){var o=Hh(r);if(o!==null&&YP(o),o=r0(t,e,n,s),o===null&&Iy(t,e,s,fp,n),o===r)break;r=o}r!==null&&s.stopPropagation()}else Iy(t,e,s,null,n)}}var fp=null;function r0(t,e,n,s){if(fp=null,t=yb(s),t=Da(t),t!==null)if(e=Sl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$P(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fp=t,null}function eI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XF()){case vb:return 1;case HP:return 4;case up:case JF:return 16;case qP:return 536870912;default:return 16}default:return 16}}var So=null,Nb=null,Im=null;function tI(){if(Im)return Im;var t,e=Nb,n=e.length,s,r="value"in So?So.value:So.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===r[o-s];s++);return Im=r.slice(t,1<s?1-s:void 0)}function km(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qf(){return!0}function K_(){return!1}function Ps(t){function e(n,s,r,o,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Qf:K_,this.isPropagationStopped=K_,this}return It(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qf)},persist:function(){},isPersistent:Qf}),e}var du={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_b=Ps(du),Wh=It({},du,{view:0,detail:0}),d6=Ps(Wh),jy,Ny,Ku,Eg=It({},Wh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ku&&(Ku&&t.type==="mousemove"?(jy=t.screenX-Ku.screenX,Ny=t.screenY-Ku.screenY):Ny=jy=0,Ku=t),jy)},movementY:function(t){return"movementY"in t?t.movementY:Ny}}),Y_=Ps(Eg),h6=It({},Eg,{dataTransfer:0}),f6=Ps(h6),m6=It({},Wh,{relatedTarget:0}),_y=Ps(m6),p6=It({},du,{animationName:0,elapsedTime:0,pseudoElement:0}),g6=Ps(p6),x6=It({},du,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),y6=Ps(x6),v6=It({},du,{data:0}),Q_=Ps(v6),w6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=j6[t])?!!e[t]:!1}function Sb(){return N6}var _6=It({},Wh,{key:function(t){if(t.key){var e=w6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=km(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?b6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sb,charCode:function(t){return t.type==="keypress"?km(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?km(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S6=Ps(_6),E6=It({},Eg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X_=Ps(E6),T6=It({},Wh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sb}),C6=Ps(T6),A6=It({},du,{propertyName:0,elapsedTime:0,pseudoElement:0}),P6=Ps(A6),I6=It({},Eg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),k6=Ps(I6),R6=[9,13,27,32],Eb=Ti&&"CompositionEvent"in window,Nd=null;Ti&&"documentMode"in document&&(Nd=document.documentMode);var D6=Ti&&"TextEvent"in window&&!Nd,nI=Ti&&(!Eb||Nd&&8<Nd&&11>=Nd),J_=" ",Z_=!1;function sI(t,e){switch(t){case"keyup":return R6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rc=!1;function M6(t,e){switch(t){case"compositionend":return rI(e);case"keypress":return e.which!==32?null:(Z_=!0,J_);case"textInput":return t=e.data,t===J_&&Z_?null:t;default:return null}}function O6(t,e){if(rc)return t==="compositionend"||!Eb&&sI(t,e)?(t=tI(),Im=Nb=So=null,rc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nI&&e.locale!=="ko"?null:e.data;default:return null}}var L6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!L6[t.type]:e==="textarea"}function iI(t,e,n,s){OP(s),e=mp(e,"onChange"),0<e.length&&(n=new _b("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var _d=null,Yd=null;function V6(t){gI(t,0)}function Tg(t){var e=ac(t);if(AP(e))return t}function F6(t,e){if(t==="change")return e}var oI=!1;if(Ti){var Sy;if(Ti){var Ey="oninput"in document;if(!Ey){var tS=document.createElement("div");tS.setAttribute("oninput","return;"),Ey=typeof tS.oninput=="function"}Sy=Ey}else Sy=!1;oI=Sy&&(!document.documentMode||9<document.documentMode)}function nS(){_d&&(_d.detachEvent("onpropertychange",aI),Yd=_d=null)}function aI(t){if(t.propertyName==="value"&&Tg(Yd)){var e=[];iI(e,Yd,t,yb(t)),UP(V6,e)}}function U6(t,e,n){t==="focusin"?(nS(),_d=e,Yd=n,_d.attachEvent("onpropertychange",aI)):t==="focusout"&&nS()}function $6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tg(Yd)}function z6(t,e){if(t==="click")return Tg(e)}function B6(t,e){if(t==="input"||t==="change")return Tg(e)}function W6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vr=typeof Object.is=="function"?Object.is:W6;function Qd(t,e){if(vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Uv.call(e,r)||!vr(t[r],e[r]))return!1}return!0}function sS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rS(t,e){var n=sS(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sS(n)}}function lI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cI(){for(var t=window,e=ap();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ap(t.document)}return e}function Tb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function H6(t){var e=cI(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lI(n.ownerDocument.documentElement,n)){if(s!==null&&Tb(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(s.start,r);s=s.end===void 0?o:Math.min(s.end,r),!t.extend&&o>s&&(r=s,s=o,o=r),r=rS(n,o);var a=rS(n,s);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>s?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var q6=Ti&&"documentMode"in document&&11>=document.documentMode,ic=null,i0=null,Sd=null,o0=!1;function iS(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;o0||ic==null||ic!==ap(s)||(s=ic,"selectionStart"in s&&Tb(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Sd&&Qd(Sd,s)||(Sd=s,s=mp(i0,"onSelect"),0<s.length&&(e=new _b("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ic)))}function Xf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oc={animationend:Xf("Animation","AnimationEnd"),animationiteration:Xf("Animation","AnimationIteration"),animationstart:Xf("Animation","AnimationStart"),transitionend:Xf("Transition","TransitionEnd")},Ty={},uI={};Ti&&(uI=document.createElement("div").style,"AnimationEvent"in window||(delete oc.animationend.animation,delete oc.animationiteration.animation,delete oc.animationstart.animation),"TransitionEvent"in window||delete oc.transitionend.transition);function Cg(t){if(Ty[t])return Ty[t];if(!oc[t])return t;var e=oc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uI)return Ty[t]=e[n];return t}var dI=Cg("animationend"),hI=Cg("animationiteration"),fI=Cg("animationstart"),mI=Cg("transitionend"),pI=new Map,oS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function aa(t,e){pI.set(t,e),_l(e,[t])}for(var Cy=0;Cy<oS.length;Cy++){var Ay=oS[Cy],G6=Ay.toLowerCase(),K6=Ay[0].toUpperCase()+Ay.slice(1);aa(G6,"on"+K6)}aa(dI,"onAnimationEnd");aa(hI,"onAnimationIteration");aa(fI,"onAnimationStart");aa("dblclick","onDoubleClick");aa("focusin","onFocus");aa("focusout","onBlur");aa(mI,"onTransitionEnd");zc("onMouseEnter",["mouseout","mouseover"]);zc("onMouseLeave",["mouseout","mouseover"]);zc("onPointerEnter",["pointerout","pointerover"]);zc("onPointerLeave",["pointerout","pointerover"]);_l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_l("onBeforeInput",["compositionend","keypress","textInput","paste"]);_l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y6=new Set("cancel close invalid load scroll toggle".split(" ").concat(ad));function aS(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,GF(s,e,void 0,t),t.currentTarget=null}function gI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var o=void 0;if(e)for(var a=s.length-1;0<=a;a--){var l=s[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&r.isPropagationStopped())break e;aS(r,l,u),o=c}else for(a=0;a<s.length;a++){if(l=s[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&r.isPropagationStopped())break e;aS(r,l,u),o=c}}}if(cp)throw t=t0,cp=!1,t0=null,t}function gt(t,e){var n=e[d0];n===void 0&&(n=e[d0]=new Set);var s=t+"__bubble";n.has(s)||(xI(e,t,2,!1),n.add(s))}function Py(t,e,n){var s=0;e&&(s|=4),xI(n,t,s,e)}var Jf="_reactListening"+Math.random().toString(36).slice(2);function Xd(t){if(!t[Jf]){t[Jf]=!0,_P.forEach(function(n){n!=="selectionchange"&&(Y6.has(n)||Py(n,!1,t),Py(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jf]||(e[Jf]=!0,Py("selectionchange",!1,e))}}function xI(t,e,n,s){switch(eI(e)){case 1:var r=c6;break;case 4:r=u6;break;default:r=jb}n=r.bind(null,e,n,t),r=void 0,!e0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Iy(t,e,n,s,r){var o=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;l!==null;){if(a=Da(l),a===null)return;if(c=a.tag,c===5||c===6){s=o=a;continue e}l=l.parentNode}}s=s.return}UP(function(){var u=o,d=yb(n),h=[];e:{var m=pI.get(t);if(m!==void 0){var g=_b,y=t;switch(t){case"keypress":if(km(n)===0)break e;case"keydown":case"keyup":g=S6;break;case"focusin":y="focus",g=_y;break;case"focusout":y="blur",g=_y;break;case"beforeblur":case"afterblur":g=_y;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Y_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=f6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=C6;break;case dI:case hI:case fI:g=g6;break;case mI:g=P6;break;case"scroll":g=d6;break;case"wheel":g=k6;break;case"copy":case"cut":case"paste":g=y6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=X_}var x=(e&4)!==0,w=!x&&t==="scroll",v=x?m!==null?m+"Capture":null:m;x=[];for(var j=u,b;j!==null;){b=j;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,v!==null&&(C=Hd(j,v),C!=null&&x.push(Jd(j,C,b)))),w)break;j=j.return}0<x.length&&(m=new g(m,y,null,n,d),h.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Jv&&(y=n.relatedTarget||n.fromElement)&&(Da(y)||y[Ci]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?Da(y):null,y!==null&&(w=Sl(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(x=Y_,C="onMouseLeave",v="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(x=X_,C="onPointerLeave",v="onPointerEnter",j="pointer"),w=g==null?m:ac(g),b=y==null?m:ac(y),m=new x(C,j+"leave",g,n,d),m.target=w,m.relatedTarget=b,C=null,Da(d)===u&&(x=new x(v,j+"enter",y,n,d),x.target=b,x.relatedTarget=w,C=x),w=C,g&&y)t:{for(x=g,v=y,j=0,b=x;b;b=Hl(b))j++;for(b=0,C=v;C;C=Hl(C))b++;for(;0<j-b;)x=Hl(x),j--;for(;0<b-j;)v=Hl(v),b--;for(;j--;){if(x===v||v!==null&&x===v.alternate)break t;x=Hl(x),v=Hl(v)}x=null}else x=null;g!==null&&lS(h,m,g,x,!1),y!==null&&w!==null&&lS(h,w,y,x,!0)}}e:{if(m=u?ac(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var k=F6;else if(eS(m))if(oI)k=B6;else{k=$6;var I=U6}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=z6);if(k&&(k=k(t,u))){iI(h,k,n,d);break e}I&&I(t,m,u),t==="focusout"&&(I=m._wrapperState)&&I.controlled&&m.type==="number"&&Gv(m,"number",m.value)}switch(I=u?ac(u):window,t){case"focusin":(eS(I)||I.contentEditable==="true")&&(ic=I,i0=u,Sd=null);break;case"focusout":Sd=i0=ic=null;break;case"mousedown":o0=!0;break;case"contextmenu":case"mouseup":case"dragend":o0=!1,iS(h,n,d);break;case"selectionchange":if(q6)break;case"keydown":case"keyup":iS(h,n,d)}var _;if(Eb)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else rc?sI(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(nI&&n.locale!=="ko"&&(rc||S!=="onCompositionStart"?S==="onCompositionEnd"&&rc&&(_=tI()):(So=d,Nb="value"in So?So.value:So.textContent,rc=!0)),I=mp(u,S),0<I.length&&(S=new Q_(S,t,null,n,d),h.push({event:S,listeners:I}),_?S.data=_:(_=rI(n),_!==null&&(S.data=_)))),(_=D6?M6(t,n):O6(t,n))&&(u=mp(u,"onBeforeInput"),0<u.length&&(d=new Q_("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=_))}gI(h,e)})}function Jd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mp(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=Hd(t,n),o!=null&&s.unshift(Jd(t,o,r)),o=Hd(t,e),o!=null&&s.push(Jd(t,o,r))),t=t.return}return s}function Hl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lS(t,e,n,s,r){for(var o=e._reactName,a=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=Hd(n,o),c!=null&&a.unshift(Jd(n,c,l))):r||(c=Hd(n,o),c!=null&&a.push(Jd(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Q6=/\r\n?/g,X6=/\u0000|\uFFFD/g;function cS(t){return(typeof t=="string"?t:""+t).replace(Q6,`
`).replace(X6,"")}function Zf(t,e,n){if(e=cS(e),cS(t)!==e&&n)throw Error(re(425))}function pp(){}var a0=null,l0=null;function c0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var u0=typeof setTimeout=="function"?setTimeout:void 0,J6=typeof clearTimeout=="function"?clearTimeout:void 0,uS=typeof Promise=="function"?Promise:void 0,Z6=typeof queueMicrotask=="function"?queueMicrotask:typeof uS<"u"?function(t){return uS.resolve(null).then(t).catch(eU)}:u0;function eU(t){setTimeout(function(){throw t})}function ky(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),Kd(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Kd(e)}function ko(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hu=Math.random().toString(36).slice(2),Fr="__reactFiber$"+hu,Zd="__reactProps$"+hu,Ci="__reactContainer$"+hu,d0="__reactEvents$"+hu,tU="__reactListeners$"+hu,nU="__reactHandles$"+hu;function Da(t){var e=t[Fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ci]||n[Fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dS(t);t!==null;){if(n=t[Fr])return n;t=dS(t)}return e}t=n,n=t.parentNode}return null}function Hh(t){return t=t[Fr]||t[Ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ac(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Ag(t){return t[Zd]||null}var h0=[],lc=-1;function la(t){return{current:t}}function yt(t){0>lc||(t.current=h0[lc],h0[lc]=null,lc--)}function ft(t,e){lc++,h0[lc]=t.current,t.current=e}var Ho={},Fn=la(Ho),ls=la(!1),sl=Ho;function Bc(t,e){var n=t.type.contextTypes;if(!n)return Ho;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function cs(t){return t=t.childContextTypes,t!=null}function gp(){yt(ls),yt(Fn)}function hS(t,e,n){if(Fn.current!==Ho)throw Error(re(168));ft(Fn,e),ft(ls,n)}function yI(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(re(108,UF(t)||"Unknown",r));return It({},n,s)}function xp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ho,sl=Fn.current,ft(Fn,t),ft(ls,ls.current),!0}function fS(t,e,n){var s=t.stateNode;if(!s)throw Error(re(169));n?(t=yI(t,e,sl),s.__reactInternalMemoizedMergedChildContext=t,yt(ls),yt(Fn),ft(Fn,t)):yt(ls),ft(ls,n)}var pi=null,Pg=!1,Ry=!1;function vI(t){pi===null?pi=[t]:pi.push(t)}function sU(t){Pg=!0,vI(t)}function ca(){if(!Ry&&pi!==null){Ry=!0;var t=0,e=st;try{var n=pi;for(st=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}pi=null,Pg=!1}catch(r){throw pi!==null&&(pi=pi.slice(t+1)),WP(vb,ca),r}finally{st=e,Ry=!1}}return null}var cc=[],uc=0,yp=null,vp=0,Ms=[],Os=0,rl=null,yi=1,vi="";function _a(t,e){cc[uc++]=vp,cc[uc++]=yp,yp=t,vp=e}function wI(t,e,n){Ms[Os++]=yi,Ms[Os++]=vi,Ms[Os++]=rl,rl=t;var s=yi;t=vi;var r=32-pr(s)-1;s&=~(1<<r),n+=1;var o=32-pr(e)+r;if(30<o){var a=r-r%5;o=(s&(1<<a)-1).toString(32),s>>=a,r-=a,yi=1<<32-pr(e)+r|n<<r|s,vi=o+t}else yi=1<<o|n<<r|s,vi=t}function Cb(t){t.return!==null&&(_a(t,1),wI(t,1,0))}function Ab(t){for(;t===yp;)yp=cc[--uc],cc[uc]=null,vp=cc[--uc],cc[uc]=null;for(;t===rl;)rl=Ms[--Os],Ms[Os]=null,vi=Ms[--Os],Ms[Os]=null,yi=Ms[--Os],Ms[Os]=null}var ws=null,ys=null,jt=!1,cr=null;function bI(t,e){var n=Vs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ws=t,ys=ko(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ws=t,ys=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rl!==null?{id:yi,overflow:vi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ws=t,ys=null,!0):!1;default:return!1}}function f0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function m0(t){if(jt){var e=ys;if(e){var n=e;if(!mS(t,e)){if(f0(t))throw Error(re(418));e=ko(n.nextSibling);var s=ws;e&&mS(t,e)?bI(s,n):(t.flags=t.flags&-4097|2,jt=!1,ws=t)}}else{if(f0(t))throw Error(re(418));t.flags=t.flags&-4097|2,jt=!1,ws=t}}}function pS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ws=t}function em(t){if(t!==ws)return!1;if(!jt)return pS(t),jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!c0(t.type,t.memoizedProps)),e&&(e=ys)){if(f0(t))throw jI(),Error(re(418));for(;e;)bI(t,e),e=ko(e.nextSibling)}if(pS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ys=ko(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ys=null}}else ys=ws?ko(t.stateNode.nextSibling):null;return!0}function jI(){for(var t=ys;t;)t=ko(t.nextSibling)}function Wc(){ys=ws=null,jt=!1}function Pb(t){cr===null?cr=[t]:cr.push(t)}var rU=zi.ReactCurrentBatchConfig;function Yu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var s=n.stateNode}if(!s)throw Error(re(147,t));var r=s,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=r.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function tm(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gS(t){var e=t._init;return e(t._payload)}function NI(t){function e(v,j){if(t){var b=v.deletions;b===null?(v.deletions=[j],v.flags|=16):b.push(j)}}function n(v,j){if(!t)return null;for(;j!==null;)e(v,j),j=j.sibling;return null}function s(v,j){for(v=new Map;j!==null;)j.key!==null?v.set(j.key,j):v.set(j.index,j),j=j.sibling;return v}function r(v,j){return v=Oo(v,j),v.index=0,v.sibling=null,v}function o(v,j,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<j?(v.flags|=2,j):b):(v.flags|=2,j)):(v.flags|=1048576,j)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,j,b,C){return j===null||j.tag!==6?(j=Uy(b,v.mode,C),j.return=v,j):(j=r(j,b),j.return=v,j)}function c(v,j,b,C){var k=b.type;return k===sc?d(v,j,b.props.children,C,b.key):j!==null&&(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===fo&&gS(k)===j.type)?(C=r(j,b.props),C.ref=Yu(v,j,b),C.return=v,C):(C=Fm(b.type,b.key,b.props,null,v.mode,C),C.ref=Yu(v,j,b),C.return=v,C)}function u(v,j,b,C){return j===null||j.tag!==4||j.stateNode.containerInfo!==b.containerInfo||j.stateNode.implementation!==b.implementation?(j=$y(b,v.mode,C),j.return=v,j):(j=r(j,b.children||[]),j.return=v,j)}function d(v,j,b,C,k){return j===null||j.tag!==7?(j=Ya(b,v.mode,C,k),j.return=v,j):(j=r(j,b),j.return=v,j)}function h(v,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Uy(""+j,v.mode,b),j.return=v,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Wf:return b=Fm(j.type,j.key,j.props,null,v.mode,b),b.ref=Yu(v,null,j),b.return=v,b;case nc:return j=$y(j,v.mode,b),j.return=v,j;case fo:var C=j._init;return h(v,C(j._payload),b)}if(id(j)||Wu(j))return j=Ya(j,v.mode,b,null),j.return=v,j;tm(v,j)}return null}function m(v,j,b,C){var k=j!==null?j.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:l(v,j,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wf:return b.key===k?c(v,j,b,C):null;case nc:return b.key===k?u(v,j,b,C):null;case fo:return k=b._init,m(v,j,k(b._payload),C)}if(id(b)||Wu(b))return k!==null?null:d(v,j,b,C,null);tm(v,b)}return null}function g(v,j,b,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(b)||null,l(j,v,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Wf:return v=v.get(C.key===null?b:C.key)||null,c(j,v,C,k);case nc:return v=v.get(C.key===null?b:C.key)||null,u(j,v,C,k);case fo:var I=C._init;return g(v,j,b,I(C._payload),k)}if(id(C)||Wu(C))return v=v.get(b)||null,d(j,v,C,k,null);tm(j,C)}return null}function y(v,j,b,C){for(var k=null,I=null,_=j,S=j=0,T=null;_!==null&&S<b.length;S++){_.index>S?(T=_,_=null):T=_.sibling;var E=m(v,_,b[S],C);if(E===null){_===null&&(_=T);break}t&&_&&E.alternate===null&&e(v,_),j=o(E,j,S),I===null?k=E:I.sibling=E,I=E,_=T}if(S===b.length)return n(v,_),jt&&_a(v,S),k;if(_===null){for(;S<b.length;S++)_=h(v,b[S],C),_!==null&&(j=o(_,j,S),I===null?k=_:I.sibling=_,I=_);return jt&&_a(v,S),k}for(_=s(v,_);S<b.length;S++)T=g(_,v,S,b[S],C),T!==null&&(t&&T.alternate!==null&&_.delete(T.key===null?S:T.key),j=o(T,j,S),I===null?k=T:I.sibling=T,I=T);return t&&_.forEach(function(P){return e(v,P)}),jt&&_a(v,S),k}function x(v,j,b,C){var k=Wu(b);if(typeof k!="function")throw Error(re(150));if(b=k.call(b),b==null)throw Error(re(151));for(var I=k=null,_=j,S=j=0,T=null,E=b.next();_!==null&&!E.done;S++,E=b.next()){_.index>S?(T=_,_=null):T=_.sibling;var P=m(v,_,E.value,C);if(P===null){_===null&&(_=T);break}t&&_&&P.alternate===null&&e(v,_),j=o(P,j,S),I===null?k=P:I.sibling=P,I=P,_=T}if(E.done)return n(v,_),jt&&_a(v,S),k;if(_===null){for(;!E.done;S++,E=b.next())E=h(v,E.value,C),E!==null&&(j=o(E,j,S),I===null?k=E:I.sibling=E,I=E);return jt&&_a(v,S),k}for(_=s(v,_);!E.done;S++,E=b.next())E=g(_,v,S,E.value,C),E!==null&&(t&&E.alternate!==null&&_.delete(E.key===null?S:E.key),j=o(E,j,S),I===null?k=E:I.sibling=E,I=E);return t&&_.forEach(function(R){return e(v,R)}),jt&&_a(v,S),k}function w(v,j,b,C){if(typeof b=="object"&&b!==null&&b.type===sc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Wf:e:{for(var k=b.key,I=j;I!==null;){if(I.key===k){if(k=b.type,k===sc){if(I.tag===7){n(v,I.sibling),j=r(I,b.props.children),j.return=v,v=j;break e}}else if(I.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===fo&&gS(k)===I.type){n(v,I.sibling),j=r(I,b.props),j.ref=Yu(v,I,b),j.return=v,v=j;break e}n(v,I);break}else e(v,I);I=I.sibling}b.type===sc?(j=Ya(b.props.children,v.mode,C,b.key),j.return=v,v=j):(C=Fm(b.type,b.key,b.props,null,v.mode,C),C.ref=Yu(v,j,b),C.return=v,v=C)}return a(v);case nc:e:{for(I=b.key;j!==null;){if(j.key===I)if(j.tag===4&&j.stateNode.containerInfo===b.containerInfo&&j.stateNode.implementation===b.implementation){n(v,j.sibling),j=r(j,b.children||[]),j.return=v,v=j;break e}else{n(v,j);break}else e(v,j);j=j.sibling}j=$y(b,v.mode,C),j.return=v,v=j}return a(v);case fo:return I=b._init,w(v,j,I(b._payload),C)}if(id(b))return y(v,j,b,C);if(Wu(b))return x(v,j,b,C);tm(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,j!==null&&j.tag===6?(n(v,j.sibling),j=r(j,b),j.return=v,v=j):(n(v,j),j=Uy(b,v.mode,C),j.return=v,v=j),a(v)):n(v,j)}return w}var Hc=NI(!0),_I=NI(!1),wp=la(null),bp=null,dc=null,Ib=null;function kb(){Ib=dc=bp=null}function Rb(t){var e=wp.current;yt(wp),t._currentValue=e}function p0(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Nc(t,e){bp=t,Ib=dc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(os=!0),t.firstContext=null)}function qs(t){var e=t._currentValue;if(Ib!==t)if(t={context:t,memoizedValue:e,next:null},dc===null){if(bp===null)throw Error(re(308));dc=t,bp.dependencies={lanes:0,firstContext:t}}else dc=dc.next=t;return e}var Ma=null;function Db(t){Ma===null?Ma=[t]:Ma.push(t)}function SI(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,Db(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ai(t,s)}function Ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mo=!1;function Mb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ji(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ro(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Qe&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,Ai(t,n)}return r=s.interleaved,r===null?(e.next=e,Db(s)):(e.next=r.next,r.next=e),s.interleaved=e,Ai(t,n)}function Rm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,wb(t,n)}}function xS(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jp(t,e,n,s){var r=t.updateQueue;mo=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=r.baseState;a=0,d=u=c=null,l=o;do{var m=l.lane,g=l.eventTime;if((s&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,x=l;switch(m=e,g=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(g,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,m=typeof y=="function"?y.call(g,h,m):y,m==null)break e;h=It({},h,m);break e;case 2:mo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=r.effects,m===null?r.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;m=l,l=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);ol|=a,t.lanes=a,t.memoizedState=h}}function yS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(re(191,r));r.call(s)}}}var qh={},Br=la(qh),eh=la(qh),th=la(qh);function Oa(t){if(t===qh)throw Error(re(174));return t}function Ob(t,e){switch(ft(th,e),ft(eh,t),ft(Br,qh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yv(e,t)}yt(Br),ft(Br,e)}function qc(){yt(Br),yt(eh),yt(th)}function TI(t){Oa(th.current);var e=Oa(Br.current),n=Yv(e,t.type);e!==n&&(ft(eh,t),ft(Br,n))}function Lb(t){eh.current===t&&(yt(Br),yt(eh))}var Tt=la(0);function Np(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dy=[];function Vb(){for(var t=0;t<Dy.length;t++)Dy[t]._workInProgressVersionPrimary=null;Dy.length=0}var Dm=zi.ReactCurrentDispatcher,My=zi.ReactCurrentBatchConfig,il=0,Pt=null,sn=null,dn=null,_p=!1,Ed=!1,nh=0,iU=0;function An(){throw Error(re(321))}function Fb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vr(t[n],e[n]))return!1;return!0}function Ub(t,e,n,s,r,o){if(il=o,Pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dm.current=t===null||t.memoizedState===null?cU:uU,t=n(s,r),Ed){o=0;do{if(Ed=!1,nh=0,25<=o)throw Error(re(301));o+=1,dn=sn=null,e.updateQueue=null,Dm.current=dU,t=n(s,r)}while(Ed)}if(Dm.current=Sp,e=sn!==null&&sn.next!==null,il=0,dn=sn=Pt=null,_p=!1,e)throw Error(re(300));return t}function $b(){var t=nh!==0;return nh=0,t}function Dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Pt.memoizedState=dn=t:dn=dn.next=t,dn}function Gs(){if(sn===null){var t=Pt.alternate;t=t!==null?t.memoizedState:null}else t=sn.next;var e=dn===null?Pt.memoizedState:dn.next;if(e!==null)dn=e,sn=t;else{if(t===null)throw Error(re(310));sn=t,t={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},dn===null?Pt.memoizedState=dn=t:dn=dn.next=t}return dn}function sh(t,e){return typeof e=="function"?e(t):e}function Oy(t){var e=Gs(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var s=sn,r=s.baseQueue,o=n.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}s.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,s=s.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((il&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=s):c=c.next=h,Pt.lanes|=d,ol|=d}u=u.next}while(u!==null&&u!==o);c===null?a=s:c.next=l,vr(s,e.memoizedState)||(os=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do o=r.lane,Pt.lanes|=o,ol|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ly(t){var e=Gs(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do o=t(o,a.action),a=a.next;while(a!==r);vr(o,e.memoizedState)||(os=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,s]}function CI(){}function AI(t,e){var n=Pt,s=Gs(),r=e(),o=!vr(s.memoizedState,r);if(o&&(s.memoizedState=r,os=!0),s=s.queue,zb(kI.bind(null,n,s,t),[t]),s.getSnapshot!==e||o||dn!==null&&dn.memoizedState.tag&1){if(n.flags|=2048,rh(9,II.bind(null,n,s,r,e),void 0,null),hn===null)throw Error(re(349));il&30||PI(n,e,r)}return r}function PI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function II(t,e,n,s){e.value=n,e.getSnapshot=s,RI(e)&&DI(t)}function kI(t,e,n){return n(function(){RI(e)&&DI(t)})}function RI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vr(t,n)}catch{return!0}}function DI(t){var e=Ai(t,1);e!==null&&gr(e,t,1,-1)}function vS(t){var e=Dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sh,lastRenderedState:t},e.queue=t,t=t.dispatch=lU.bind(null,Pt,t),[e.memoizedState,t]}function rh(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function MI(){return Gs().memoizedState}function Mm(t,e,n,s){var r=Dr();Pt.flags|=t,r.memoizedState=rh(1|e,n,void 0,s===void 0?null:s)}function Ig(t,e,n,s){var r=Gs();s=s===void 0?null:s;var o=void 0;if(sn!==null){var a=sn.memoizedState;if(o=a.destroy,s!==null&&Fb(s,a.deps)){r.memoizedState=rh(e,n,o,s);return}}Pt.flags|=t,r.memoizedState=rh(1|e,n,o,s)}function wS(t,e){return Mm(8390656,8,t,e)}function zb(t,e){return Ig(2048,8,t,e)}function OI(t,e){return Ig(4,2,t,e)}function LI(t,e){return Ig(4,4,t,e)}function VI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FI(t,e,n){return n=n!=null?n.concat([t]):null,Ig(4,4,VI.bind(null,e,t),n)}function Bb(){}function UI(t,e){var n=Gs();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Fb(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function $I(t,e){var n=Gs();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Fb(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function zI(t,e,n){return il&21?(vr(n,e)||(n=GP(),Pt.lanes|=n,ol|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,os=!0),t.memoizedState=n)}function oU(t,e){var n=st;st=n!==0&&4>n?n:4,t(!0);var s=My.transition;My.transition={};try{t(!1),e()}finally{st=n,My.transition=s}}function BI(){return Gs().memoizedState}function aU(t,e,n){var s=Mo(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},WI(t))HI(e,n);else if(n=SI(t,e,n,s),n!==null){var r=Gn();gr(n,t,s,r),qI(n,e,s)}}function lU(t,e,n){var s=Mo(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(WI(t))HI(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(r.hasEagerState=!0,r.eagerState=l,vr(l,a)){var c=e.interleaved;c===null?(r.next=r,Db(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=SI(t,e,r,s),n!==null&&(r=Gn(),gr(n,t,s,r),qI(n,e,s))}}function WI(t){var e=t.alternate;return t===Pt||e!==null&&e===Pt}function HI(t,e){Ed=_p=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qI(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,wb(t,n)}}var Sp={readContext:qs,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},cU={readContext:qs,useCallback:function(t,e){return Dr().memoizedState=[t,e===void 0?null:e],t},useContext:qs,useEffect:wS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mm(4194308,4,VI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mm(4,2,t,e)},useMemo:function(t,e){var n=Dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Dr();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=aU.bind(null,Pt,t),[s.memoizedState,t]},useRef:function(t){var e=Dr();return t={current:t},e.memoizedState=t},useState:vS,useDebugValue:Bb,useDeferredValue:function(t){return Dr().memoizedState=t},useTransition:function(){var t=vS(!1),e=t[0];return t=oU.bind(null,t[1]),Dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=Pt,r=Dr();if(jt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),hn===null)throw Error(re(349));il&30||PI(s,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,wS(kI.bind(null,s,o,t),[t]),s.flags|=2048,rh(9,II.bind(null,s,o,n,e),void 0,null),n},useId:function(){var t=Dr(),e=hn.identifierPrefix;if(jt){var n=vi,s=yi;n=(s&~(1<<32-pr(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=nh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uU={readContext:qs,useCallback:UI,useContext:qs,useEffect:zb,useImperativeHandle:FI,useInsertionEffect:OI,useLayoutEffect:LI,useMemo:$I,useReducer:Oy,useRef:MI,useState:function(){return Oy(sh)},useDebugValue:Bb,useDeferredValue:function(t){var e=Gs();return zI(e,sn.memoizedState,t)},useTransition:function(){var t=Oy(sh)[0],e=Gs().memoizedState;return[t,e]},useMutableSource:CI,useSyncExternalStore:AI,useId:BI,unstable_isNewReconciler:!1},dU={readContext:qs,useCallback:UI,useContext:qs,useEffect:zb,useImperativeHandle:FI,useInsertionEffect:OI,useLayoutEffect:LI,useMemo:$I,useReducer:Ly,useRef:MI,useState:function(){return Ly(sh)},useDebugValue:Bb,useDeferredValue:function(t){var e=Gs();return sn===null?e.memoizedState=t:zI(e,sn.memoizedState,t)},useTransition:function(){var t=Ly(sh)[0],e=Gs().memoizedState;return[t,e]},useMutableSource:CI,useSyncExternalStore:AI,useId:BI,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=It({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function g0(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:It({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kg={isMounted:function(t){return(t=t._reactInternals)?Sl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Gn(),r=Mo(t),o=ji(s,r);o.payload=e,n!=null&&(o.callback=n),e=Ro(t,o,r),e!==null&&(gr(e,t,r,s),Rm(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Gn(),r=Mo(t),o=ji(s,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ro(t,o,r),e!==null&&(gr(e,t,r,s),Rm(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gn(),s=Mo(t),r=ji(n,s);r.tag=2,e!=null&&(r.callback=e),e=Ro(t,r,s),e!==null&&(gr(e,t,s,n),Rm(e,t,s))}};function bS(t,e,n,s,r,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,o,a):e.prototype&&e.prototype.isPureReactComponent?!Qd(n,s)||!Qd(r,o):!0}function GI(t,e,n){var s=!1,r=Ho,o=e.contextType;return typeof o=="object"&&o!==null?o=qs(o):(r=cs(e)?sl:Fn.current,s=e.contextTypes,o=(s=s!=null)?Bc(t,r):Ho),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kg,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function jS(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&kg.enqueueReplaceState(e,e.state,null)}function x0(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Mb(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=qs(o):(o=cs(e)?sl:Fn.current,r.context=Bc(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(g0(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&kg.enqueueReplaceState(r,r.state,null),jp(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Gc(t,e){try{var n="",s=e;do n+=FF(s),s=s.return;while(s);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function Vy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function y0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hU=typeof WeakMap=="function"?WeakMap:Map;function KI(t,e,n){n=ji(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Tp||(Tp=!0,C0=s),y0(t,e)},n}function YI(t,e,n){n=ji(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){y0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){y0(t,e),typeof s!="function"&&(Do===null?Do=new Set([this]):Do.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function NS(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new hU;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=EU.bind(null,t,e,n),e.then(t,t))}function _S(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function SS(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ji(-1,1),e.tag=2,Ro(n,e,1))),n.lanes|=1),t)}var fU=zi.ReactCurrentOwner,os=!1;function Wn(t,e,n,s){e.child=t===null?_I(e,null,n,s):Hc(e,t.child,n,s)}function ES(t,e,n,s,r){n=n.render;var o=e.ref;return Nc(e,r),s=Ub(t,e,n,s,o,r),n=$b(),t!==null&&!os?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Pi(t,e,r)):(jt&&n&&Cb(e),e.flags|=1,Wn(t,e,s,r),e.child)}function TS(t,e,n,s,r){if(t===null){var o=n.type;return typeof o=="function"&&!Xb(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,QI(t,e,o,s,r)):(t=Fm(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Qd,n(a,s)&&t.ref===e.ref)return Pi(t,e,r)}return e.flags|=1,t=Oo(o,s),t.ref=e.ref,t.return=e,e.child=t}function QI(t,e,n,s,r){if(t!==null){var o=t.memoizedProps;if(Qd(o,s)&&t.ref===e.ref)if(os=!1,e.pendingProps=s=o,(t.lanes&r)!==0)t.flags&131072&&(os=!0);else return e.lanes=t.lanes,Pi(t,e,r)}return v0(t,e,n,s,r)}function XI(t,e,n){var s=e.pendingProps,r=s.children,o=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(fc,gs),gs|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ft(fc,gs),gs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:n,ft(fc,gs),gs|=s}else o!==null?(s=o.baseLanes|n,e.memoizedState=null):s=n,ft(fc,gs),gs|=s;return Wn(t,e,r,n),e.child}function JI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function v0(t,e,n,s,r){var o=cs(n)?sl:Fn.current;return o=Bc(e,o),Nc(e,r),n=Ub(t,e,n,s,o,r),s=$b(),t!==null&&!os?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Pi(t,e,r)):(jt&&s&&Cb(e),e.flags|=1,Wn(t,e,n,r),e.child)}function CS(t,e,n,s,r){if(cs(n)){var o=!0;xp(e)}else o=!1;if(Nc(e,r),e.stateNode===null)Om(t,e),GI(e,n,s),x0(e,n,s,r),s=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=qs(u):(u=cs(n)?sl:Fn.current,u=Bc(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==s||c!==u)&&jS(e,a,s,u),mo=!1;var m=e.memoizedState;a.state=m,jp(e,s,a,r),c=e.memoizedState,l!==s||m!==c||ls.current||mo?(typeof d=="function"&&(g0(e,n,d,s),c=e.memoizedState),(l=mo||bS(e,n,l,s,m,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),a.props=s,a.state=c,a.context=u,s=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,EI(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:rr(e.type,l),a.props=u,h=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=qs(c):(c=cs(n)?sl:Fn.current,c=Bc(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||m!==c)&&jS(e,a,s,c),mo=!1,m=e.memoizedState,a.state=m,jp(e,s,a,r);var y=e.memoizedState;l!==h||m!==y||ls.current||mo?(typeof g=="function"&&(g0(e,n,g,s),y=e.memoizedState),(u=mo||bS(e,n,u,s,m,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,y,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),a.props=s,a.state=y,a.context=c,s=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),s=!1)}return w0(t,e,n,s,o,r)}function w0(t,e,n,s,r,o){JI(t,e);var a=(e.flags&128)!==0;if(!s&&!a)return r&&fS(e,n,!1),Pi(t,e,o);s=e.stateNode,fU.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&a?(e.child=Hc(e,t.child,null,o),e.child=Hc(e,null,l,o)):Wn(t,e,l,o),e.memoizedState=s.state,r&&fS(e,n,!0),e.child}function ZI(t){var e=t.stateNode;e.pendingContext?hS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hS(t,e.context,!1),Ob(t,e.containerInfo)}function AS(t,e,n,s,r){return Wc(),Pb(r),e.flags|=256,Wn(t,e,n,s),e.child}var b0={dehydrated:null,treeContext:null,retryLane:0};function j0(t){return{baseLanes:t,cachePool:null,transitions:null}}function ek(t,e,n){var s=e.pendingProps,r=Tt.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ft(Tt,r&1),t===null)return m0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=s.children,t=s.fallback,o?(s=e.mode,o=e.child,a={mode:"hidden",children:a},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Mg(a,s,0,null),t=Ya(t,s,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=j0(n),e.memoizedState=b0,t):Wb(e,a));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return mU(t,e,a,s,l,r,n);if(o){o=s.fallback,a=e.mode,r=t.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(a&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=Oo(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?o=Oo(l,o):(o=Ya(o,a,n,null),o.flags|=2),o.return=e,s.return=e,s.sibling=o,e.child=s,s=o,o=e.child,a=t.child.memoizedState,a=a===null?j0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=b0,s}return o=t.child,t=o.sibling,s=Oo(o,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Wb(t,e){return e=Mg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nm(t,e,n,s){return s!==null&&Pb(s),Hc(e,t.child,null,n),t=Wb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mU(t,e,n,s,r,o,a){if(n)return e.flags&256?(e.flags&=-257,s=Vy(Error(re(422))),nm(t,e,a,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=s.fallback,r=e.mode,s=Mg({mode:"visible",children:s.children},r,0,null),o=Ya(o,r,a,null),o.flags|=2,s.return=e,o.return=e,s.sibling=o,e.child=s,e.mode&1&&Hc(e,t.child,null,a),e.child.memoizedState=j0(a),e.memoizedState=b0,o);if(!(e.mode&1))return nm(t,e,a,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,o=Error(re(419)),s=Vy(o,s,void 0),nm(t,e,a,s)}if(l=(a&t.childLanes)!==0,os||l){if(s=hn,s!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|a)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,Ai(t,r),gr(s,t,r,-1))}return Qb(),s=Vy(Error(re(421))),nm(t,e,a,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=TU.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,ys=ko(r.nextSibling),ws=e,jt=!0,cr=null,t!==null&&(Ms[Os++]=yi,Ms[Os++]=vi,Ms[Os++]=rl,yi=t.id,vi=t.overflow,rl=e),e=Wb(e,s.children),e.flags|=4096,e)}function PS(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),p0(t.return,e,n)}function Fy(t,e,n,s,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=r)}function tk(t,e,n){var s=e.pendingProps,r=s.revealOrder,o=s.tail;if(Wn(t,e,s.children,n),s=Tt.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PS(t,n,e);else if(t.tag===19)PS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ft(Tt,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Np(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Fy(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Np(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Fy(e,!0,n,null,o);break;case"together":Fy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Om(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ol|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=Oo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Oo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pU(t,e,n){switch(e.tag){case 3:ZI(e),Wc();break;case 5:TI(e);break;case 1:cs(e.type)&&xp(e);break;case 4:Ob(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;ft(wp,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ft(Tt,Tt.current&1),e.flags|=128,null):n&e.child.childLanes?ek(t,e,n):(ft(Tt,Tt.current&1),t=Pi(t,e,n),t!==null?t.sibling:null);ft(Tt,Tt.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return tk(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ft(Tt,Tt.current),s)break;return null;case 22:case 23:return e.lanes=0,XI(t,e,n)}return Pi(t,e,n)}var nk,N0,sk,rk;nk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};N0=function(){};sk=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,Oa(Br.current);var o=null;switch(n){case"input":r=Hv(t,r),s=Hv(t,s),o=[];break;case"select":r=It({},r,{value:void 0}),s=It({},s,{value:void 0}),o=[];break;case"textarea":r=Kv(t,r),s=Kv(t,s),o=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=pp)}Qv(n,s);var a;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bd.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&gt("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};rk=function(t,e,n,s){n!==s&&(e.flags|=4)};function Qu(t,e){if(!jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Pn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function gU(t,e,n){var s=e.pendingProps;switch(Ab(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(e),null;case 1:return cs(e.type)&&gp(),Pn(e),null;case 3:return s=e.stateNode,qc(),yt(ls),yt(Fn),Vb(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(em(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(I0(cr),cr=null))),N0(t,e),Pn(e),null;case 5:Lb(e);var r=Oa(th.current);if(n=e.type,t!==null&&e.stateNode!=null)sk(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(re(166));return Pn(e),null}if(t=Oa(Br.current),em(e)){s=e.stateNode,n=e.type;var o=e.memoizedProps;switch(s[Fr]=e,s[Zd]=o,t=(e.mode&1)!==0,n){case"dialog":gt("cancel",s),gt("close",s);break;case"iframe":case"object":case"embed":gt("load",s);break;case"video":case"audio":for(r=0;r<ad.length;r++)gt(ad[r],s);break;case"source":gt("error",s);break;case"img":case"image":case"link":gt("error",s),gt("load",s);break;case"details":gt("toggle",s);break;case"input":F_(s,o),gt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},gt("invalid",s);break;case"textarea":$_(s,o),gt("invalid",s)}Qv(n,o),r=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?s.textContent!==l&&(o.suppressHydrationWarning!==!0&&Zf(s.textContent,l,t),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Zf(s.textContent,l,t),r=["children",""+l]):Bd.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&gt("scroll",s)}switch(n){case"input":Hf(s),U_(s,o,!0);break;case"textarea":Hf(s),z_(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=pp)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=a.createElement(n,{is:s.is}):(t=a.createElement(n),n==="select"&&(a=t,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):t=a.createElementNS(t,n),t[Fr]=e,t[Zd]=s,nk(t,e,!1,!1),e.stateNode=t;e:{switch(a=Xv(n,s),n){case"dialog":gt("cancel",t),gt("close",t),r=s;break;case"iframe":case"object":case"embed":gt("load",t),r=s;break;case"video":case"audio":for(r=0;r<ad.length;r++)gt(ad[r],t);r=s;break;case"source":gt("error",t),r=s;break;case"img":case"image":case"link":gt("error",t),gt("load",t),r=s;break;case"details":gt("toggle",t),r=s;break;case"input":F_(t,s),r=Hv(t,s),gt("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=It({},s,{value:void 0}),gt("invalid",t);break;case"textarea":$_(t,s),r=Kv(t,s),gt("invalid",t);break;default:r=s}Qv(n,r),l=r;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?MP(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&RP(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wd(t,c):typeof c=="number"&&Wd(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bd.hasOwnProperty(o)?c!=null&&o==="onScroll"&&gt("scroll",t):c!=null&&mb(t,o,c,a))}switch(n){case"input":Hf(t),U_(t,s,!1);break;case"textarea":Hf(t),z_(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Wo(s.value));break;case"select":t.multiple=!!s.multiple,o=s.value,o!=null?vc(t,!!s.multiple,o,!1):s.defaultValue!=null&&vc(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=pp)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pn(e),null;case 6:if(t&&e.stateNode!=null)rk(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(re(166));if(n=Oa(th.current),Oa(Br.current),em(e)){if(s=e.stateNode,n=e.memoizedProps,s[Fr]=e,(o=s.nodeValue!==n)&&(t=ws,t!==null))switch(t.tag){case 3:Zf(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zf(s.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Fr]=e,e.stateNode=s}return Pn(e),null;case 13:if(yt(Tt),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(jt&&ys!==null&&e.mode&1&&!(e.flags&128))jI(),Wc(),e.flags|=98560,o=!1;else if(o=em(e),s!==null&&s.dehydrated!==null){if(t===null){if(!o)throw Error(re(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[Fr]=e}else Wc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pn(e),o=!1}else cr!==null&&(I0(cr),cr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||Tt.current&1?rn===0&&(rn=3):Qb())),e.updateQueue!==null&&(e.flags|=4),Pn(e),null);case 4:return qc(),N0(t,e),t===null&&Xd(e.stateNode.containerInfo),Pn(e),null;case 10:return Rb(e.type._context),Pn(e),null;case 17:return cs(e.type)&&gp(),Pn(e),null;case 19:if(yt(Tt),o=e.memoizedState,o===null)return Pn(e),null;if(s=(e.flags&128)!==0,a=o.rendering,a===null)if(s)Qu(o,!1);else{if(rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Np(t),a!==null){for(e.flags|=128,Qu(o,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)o=n,t=s,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ft(Tt,Tt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Wt()>Kc&&(e.flags|=128,s=!0,Qu(o,!1),e.lanes=4194304)}else{if(!s)if(t=Np(a),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!jt)return Pn(e),null}else 2*Wt()-o.renderingStartTime>Kc&&n!==1073741824&&(e.flags|=128,s=!0,Qu(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Wt(),e.sibling=null,n=Tt.current,ft(Tt,s?n&1|2:n&1),e):(Pn(e),null);case 22:case 23:return Yb(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?gs&1073741824&&(Pn(e),e.subtreeFlags&6&&(e.flags|=8192)):Pn(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function xU(t,e){switch(Ab(e),e.tag){case 1:return cs(e.type)&&gp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qc(),yt(ls),yt(Fn),Vb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lb(e),null;case 13:if(yt(Tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Wc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(Tt),null;case 4:return qc(),null;case 10:return Rb(e.type._context),null;case 22:case 23:return Yb(),null;case 24:return null;default:return null}}var sm=!1,Dn=!1,yU=typeof WeakSet=="function"?WeakSet:Set,ge=null;function hc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Vt(t,e,s)}else n.current=null}function _0(t,e,n){try{n()}catch(s){Vt(t,e,s)}}var IS=!1;function vU(t,e){if(a0=hp,t=cI(),Tb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var g;h!==n||r!==0&&h.nodeType!==3||(l=a+r),h!==o||s!==0&&h.nodeType!==3||(c=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===t)break t;if(m===n&&++u===r&&(l=a),m===o&&++d===s&&(c=a),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(l0={focusedElem:t,selectionRange:n},hp=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,v=e.stateNode,j=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:rr(e.type,x),w);v.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(C){Vt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return y=IS,IS=!1,y}function Td(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&_0(e,n,o)}r=r.next}while(r!==s)}}function Rg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function S0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ik(t){var e=t.alternate;e!==null&&(t.alternate=null,ik(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fr],delete e[Zd],delete e[d0],delete e[tU],delete e[nU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ok(t){return t.tag===5||t.tag===3||t.tag===4}function kS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ok(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function E0(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pp));else if(s!==4&&(t=t.child,t!==null))for(E0(t,e,n),t=t.sibling;t!==null;)E0(t,e,n),t=t.sibling}function T0(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(T0(t,e,n),t=t.sibling;t!==null;)T0(t,e,n),t=t.sibling}var pn=null,lr=!1;function ro(t,e,n){for(n=n.child;n!==null;)ak(t,e,n),n=n.sibling}function ak(t,e,n){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(Sg,n)}catch{}switch(n.tag){case 5:Dn||hc(n,e);case 6:var s=pn,r=lr;pn=null,ro(t,e,n),pn=s,lr=r,pn!==null&&(lr?(t=pn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pn.removeChild(n.stateNode));break;case 18:pn!==null&&(lr?(t=pn,n=n.stateNode,t.nodeType===8?ky(t.parentNode,n):t.nodeType===1&&ky(t,n),Kd(t)):ky(pn,n.stateNode));break;case 4:s=pn,r=lr,pn=n.stateNode.containerInfo,lr=!0,ro(t,e,n),pn=s,lr=r;break;case 0:case 11:case 14:case 15:if(!Dn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var o=r,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&_0(n,e,a),r=r.next}while(r!==s)}ro(t,e,n);break;case 1:if(!Dn&&(hc(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Vt(n,e,l)}ro(t,e,n);break;case 21:ro(t,e,n);break;case 22:n.mode&1?(Dn=(s=Dn)||n.memoizedState!==null,ro(t,e,n),Dn=s):ro(t,e,n);break;default:ro(t,e,n)}}function RS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yU),e.forEach(function(s){var r=CU.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Zs(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var o=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:pn=l.stateNode,lr=!1;break e;case 3:pn=l.stateNode.containerInfo,lr=!0;break e;case 4:pn=l.stateNode.containerInfo,lr=!0;break e}l=l.return}if(pn===null)throw Error(re(160));ak(o,a,r),pn=null,lr=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){Vt(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lk(e,t),e=e.sibling}function lk(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zs(e,t),Rr(t),s&4){try{Td(3,t,t.return),Rg(3,t)}catch(x){Vt(t,t.return,x)}try{Td(5,t,t.return)}catch(x){Vt(t,t.return,x)}}break;case 1:Zs(e,t),Rr(t),s&512&&n!==null&&hc(n,n.return);break;case 5:if(Zs(e,t),Rr(t),s&512&&n!==null&&hc(n,n.return),t.flags&32){var r=t.stateNode;try{Wd(r,"")}catch(x){Vt(t,t.return,x)}}if(s&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&PP(r,o),Xv(l,a);var u=Xv(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?MP(r,h):d==="dangerouslySetInnerHTML"?RP(r,h):d==="children"?Wd(r,h):mb(r,d,h,u)}switch(l){case"input":qv(r,o);break;case"textarea":IP(r,o);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?vc(r,!!o.multiple,g,!1):m!==!!o.multiple&&(o.defaultValue!=null?vc(r,!!o.multiple,o.defaultValue,!0):vc(r,!!o.multiple,o.multiple?[]:"",!1))}r[Zd]=o}catch(x){Vt(t,t.return,x)}}break;case 6:if(Zs(e,t),Rr(t),s&4){if(t.stateNode===null)throw Error(re(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(x){Vt(t,t.return,x)}}break;case 3:if(Zs(e,t),Rr(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Kd(e.containerInfo)}catch(x){Vt(t,t.return,x)}break;case 4:Zs(e,t),Rr(t);break;case 13:Zs(e,t),Rr(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(Gb=Wt())),s&4&&RS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Dn=(u=Dn)||d,Zs(e,t),Dn=u):Zs(e,t),Rr(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ge=t,d=t.child;d!==null;){for(h=ge=d;ge!==null;){switch(m=ge,g=m.child,m.tag){case 0:case 11:case 14:case 15:Td(4,m,m.return);break;case 1:hc(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){s=m,n=m.return;try{e=s,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Vt(s,n,x)}}break;case 5:hc(m,m.return);break;case 22:if(m.memoizedState!==null){MS(h);continue}}g!==null?(g.return=m,ge=g):MS(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=DP("display",a))}catch(x){Vt(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Vt(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Zs(e,t),Rr(t),s&4&&RS(t);break;case 21:break;default:Zs(e,t),Rr(t)}}function Rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ok(n)){var s=n;break e}n=n.return}throw Error(re(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Wd(r,""),s.flags&=-33);var o=kS(t);T0(t,o,r);break;case 3:case 4:var a=s.stateNode.containerInfo,l=kS(t);E0(t,l,a);break;default:throw Error(re(161))}}catch(c){Vt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wU(t,e,n){ge=t,ck(t)}function ck(t,e,n){for(var s=(t.mode&1)!==0;ge!==null;){var r=ge,o=r.child;if(r.tag===22&&s){var a=r.memoizedState!==null||sm;if(!a){var l=r.alternate,c=l!==null&&l.memoizedState!==null||Dn;l=sm;var u=Dn;if(sm=a,(Dn=c)&&!u)for(ge=r;ge!==null;)a=ge,c=a.child,a.tag===22&&a.memoizedState!==null?OS(r):c!==null?(c.return=a,ge=c):OS(r);for(;o!==null;)ge=o,ck(o),o=o.sibling;ge=r,sm=l,Dn=u}DS(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,ge=o):DS(t)}}function DS(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dn||Rg(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Dn)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&yS(e,o,s);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yS(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Kd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Dn||e.flags&512&&S0(e)}catch(m){Vt(e,e.return,m)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function MS(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function OS(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rg(4,e)}catch(c){Vt(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(c){Vt(e,r,c)}}var o=e.return;try{S0(e)}catch(c){Vt(e,o,c)}break;case 5:var a=e.return;try{S0(e)}catch(c){Vt(e,a,c)}}}catch(c){Vt(e,e.return,c)}if(e===t){ge=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ge=l;break}ge=e.return}}var bU=Math.ceil,Ep=zi.ReactCurrentDispatcher,Hb=zi.ReactCurrentOwner,Us=zi.ReactCurrentBatchConfig,Qe=0,hn=null,Kt=null,bn=0,gs=0,fc=la(0),rn=0,ih=null,ol=0,Dg=0,qb=0,Cd=null,ns=null,Gb=0,Kc=1/0,mi=null,Tp=!1,C0=null,Do=null,rm=!1,Eo=null,Cp=0,Ad=0,A0=null,Lm=-1,Vm=0;function Gn(){return Qe&6?Wt():Lm!==-1?Lm:Lm=Wt()}function Mo(t){return t.mode&1?Qe&2&&bn!==0?bn&-bn:rU.transition!==null?(Vm===0&&(Vm=GP()),Vm):(t=st,t!==0||(t=window.event,t=t===void 0?16:eI(t.type)),t):1}function gr(t,e,n,s){if(50<Ad)throw Ad=0,A0=null,Error(re(185));Bh(t,n,s),(!(Qe&2)||t!==hn)&&(t===hn&&(!(Qe&2)&&(Dg|=n),rn===4&&go(t,bn)),us(t,s),n===1&&Qe===0&&!(e.mode&1)&&(Kc=Wt()+500,Pg&&ca()))}function us(t,e){var n=t.callbackNode;r6(t,e);var s=dp(t,t===hn?bn:0);if(s===0)n!==null&&H_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&H_(n),e===1)t.tag===0?sU(LS.bind(null,t)):vI(LS.bind(null,t)),Z6(function(){!(Qe&6)&&ca()}),n=null;else{switch(KP(s)){case 1:n=vb;break;case 4:n=HP;break;case 16:n=up;break;case 536870912:n=qP;break;default:n=up}n=xk(n,uk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uk(t,e){if(Lm=-1,Vm=0,Qe&6)throw Error(re(327));var n=t.callbackNode;if(_c()&&t.callbackNode!==n)return null;var s=dp(t,t===hn?bn:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Ap(t,s);else{e=s;var r=Qe;Qe|=2;var o=hk();(hn!==t||bn!==e)&&(mi=null,Kc=Wt()+500,Ka(t,e));do try{_U();break}catch(l){dk(t,l)}while(!0);kb(),Ep.current=o,Qe=r,Kt!==null?e=0:(hn=null,bn=0,e=rn)}if(e!==0){if(e===2&&(r=n0(t),r!==0&&(s=r,e=P0(t,r))),e===1)throw n=ih,Ka(t,0),go(t,s),us(t,Wt()),n;if(e===6)go(t,s);else{if(r=t.current.alternate,!(s&30)&&!jU(r)&&(e=Ap(t,s),e===2&&(o=n0(t),o!==0&&(s=o,e=P0(t,o))),e===1))throw n=ih,Ka(t,0),go(t,s),us(t,Wt()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(re(345));case 2:Sa(t,ns,mi);break;case 3:if(go(t,s),(s&130023424)===s&&(e=Gb+500-Wt(),10<e)){if(dp(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Gn(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=u0(Sa.bind(null,t,ns,mi),e);break}Sa(t,ns,mi);break;case 4:if(go(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var a=31-pr(s);o=1<<a,a=e[a],a>r&&(r=a),s&=~o}if(s=r,s=Wt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*bU(s/1960))-s,10<s){t.timeoutHandle=u0(Sa.bind(null,t,ns,mi),s);break}Sa(t,ns,mi);break;case 5:Sa(t,ns,mi);break;default:throw Error(re(329))}}}return us(t,Wt()),t.callbackNode===n?uk.bind(null,t):null}function P0(t,e){var n=Cd;return t.current.memoizedState.isDehydrated&&(Ka(t,e).flags|=256),t=Ap(t,e),t!==2&&(e=ns,ns=n,e!==null&&I0(e)),t}function I0(t){ns===null?ns=t:ns.push.apply(ns,t)}function jU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],o=r.getSnapshot;r=r.value;try{if(!vr(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function go(t,e){for(e&=~qb,e&=~Dg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pr(e),s=1<<n;t[n]=-1,e&=~s}}function LS(t){if(Qe&6)throw Error(re(327));_c();var e=dp(t,0);if(!(e&1))return us(t,Wt()),null;var n=Ap(t,e);if(t.tag!==0&&n===2){var s=n0(t);s!==0&&(e=s,n=P0(t,s))}if(n===1)throw n=ih,Ka(t,0),go(t,e),us(t,Wt()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sa(t,ns,mi),us(t,Wt()),null}function Kb(t,e){var n=Qe;Qe|=1;try{return t(e)}finally{Qe=n,Qe===0&&(Kc=Wt()+500,Pg&&ca())}}function al(t){Eo!==null&&Eo.tag===0&&!(Qe&6)&&_c();var e=Qe;Qe|=1;var n=Us.transition,s=st;try{if(Us.transition=null,st=1,t)return t()}finally{st=s,Us.transition=n,Qe=e,!(Qe&6)&&ca()}}function Yb(){gs=fc.current,yt(fc)}function Ka(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,J6(n)),Kt!==null)for(n=Kt.return;n!==null;){var s=n;switch(Ab(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&gp();break;case 3:qc(),yt(ls),yt(Fn),Vb();break;case 5:Lb(s);break;case 4:qc();break;case 13:yt(Tt);break;case 19:yt(Tt);break;case 10:Rb(s.type._context);break;case 22:case 23:Yb()}n=n.return}if(hn=t,Kt=t=Oo(t.current,null),bn=gs=e,rn=0,ih=null,qb=Dg=ol=0,ns=Cd=null,Ma!==null){for(e=0;e<Ma.length;e++)if(n=Ma[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,o=n.pending;if(o!==null){var a=o.next;o.next=r,s.next=a}n.pending=s}Ma=null}return t}function dk(t,e){do{var n=Kt;try{if(kb(),Dm.current=Sp,_p){for(var s=Pt.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}_p=!1}if(il=0,dn=sn=Pt=null,Ed=!1,nh=0,Hb.current=null,n===null||n.return===null){rn=1,ih=e,Kt=null;break}e:{var o=t,a=n.return,l=n,c=e;if(e=bn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=_S(a);if(g!==null){g.flags&=-257,SS(g,a,l,o,e),g.mode&1&&NS(o,u,e),e=g,c=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){NS(o,u,e),Qb();break e}c=Error(re(426))}}else if(jt&&l.mode&1){var w=_S(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),SS(w,a,l,o,e),Pb(Gc(c,l));break e}}o=c=Gc(c,l),rn!==4&&(rn=2),Cd===null?Cd=[o]:Cd.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=KI(o,c,e);xS(o,v);break e;case 1:l=c;var j=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof j.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Do===null||!Do.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=YI(o,l,e);xS(o,C);break e}}o=o.return}while(o!==null)}mk(n)}catch(k){e=k,Kt===n&&n!==null&&(Kt=n=n.return);continue}break}while(!0)}function hk(){var t=Ep.current;return Ep.current=Sp,t===null?Sp:t}function Qb(){(rn===0||rn===3||rn===2)&&(rn=4),hn===null||!(ol&268435455)&&!(Dg&268435455)||go(hn,bn)}function Ap(t,e){var n=Qe;Qe|=2;var s=hk();(hn!==t||bn!==e)&&(mi=null,Ka(t,e));do try{NU();break}catch(r){dk(t,r)}while(!0);if(kb(),Qe=n,Ep.current=s,Kt!==null)throw Error(re(261));return hn=null,bn=0,rn}function NU(){for(;Kt!==null;)fk(Kt)}function _U(){for(;Kt!==null&&!YF();)fk(Kt)}function fk(t){var e=gk(t.alternate,t,gs);t.memoizedProps=t.pendingProps,e===null?mk(t):Kt=e,Hb.current=null}function mk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xU(n,e),n!==null){n.flags&=32767,Kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rn=6,Kt=null;return}}else if(n=gU(n,e,gs),n!==null){Kt=n;return}if(e=e.sibling,e!==null){Kt=e;return}Kt=e=t}while(e!==null);rn===0&&(rn=5)}function Sa(t,e,n){var s=st,r=Us.transition;try{Us.transition=null,st=1,SU(t,e,n,s)}finally{Us.transition=r,st=s}return null}function SU(t,e,n,s){do _c();while(Eo!==null);if(Qe&6)throw Error(re(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(i6(t,o),t===hn&&(Kt=hn=null,bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rm||(rm=!0,xk(up,function(){return _c(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Us.transition,Us.transition=null;var a=st;st=1;var l=Qe;Qe|=4,Hb.current=null,vU(t,n),lk(n,t),H6(l0),hp=!!a0,l0=a0=null,t.current=n,wU(n),QF(),Qe=l,st=a,Us.transition=o}else t.current=n;if(rm&&(rm=!1,Eo=t,Cp=r),o=t.pendingLanes,o===0&&(Do=null),ZF(n.stateNode),us(t,Wt()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Tp)throw Tp=!1,t=C0,C0=null,t;return Cp&1&&t.tag!==0&&_c(),o=t.pendingLanes,o&1?t===A0?Ad++:(Ad=0,A0=t):Ad=0,ca(),null}function _c(){if(Eo!==null){var t=KP(Cp),e=Us.transition,n=st;try{if(Us.transition=null,st=16>t?16:t,Eo===null)var s=!1;else{if(t=Eo,Eo=null,Cp=0,Qe&6)throw Error(re(331));var r=Qe;for(Qe|=4,ge=t.current;ge!==null;){var o=ge,a=o.child;if(ge.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ge=u;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:Td(8,d,o)}var h=d.child;if(h!==null)h.return=d,ge=h;else for(;ge!==null;){d=ge;var m=d.sibling,g=d.return;if(ik(d),d===u){ge=null;break}if(m!==null){m.return=g,ge=m;break}ge=g}}}var y=o.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}ge=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ge=a;else e:for(;ge!==null;){if(o=ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Td(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,ge=v;break e}ge=o.return}}var j=t.current;for(ge=j;ge!==null;){a=ge;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ge=b;else e:for(a=j;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Rg(9,l)}}catch(k){Vt(l,l.return,k)}if(l===a){ge=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,ge=C;break e}ge=l.return}}if(Qe=r,ca(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(Sg,t)}catch{}s=!0}return s}finally{st=n,Us.transition=e}}return!1}function VS(t,e,n){e=Gc(n,e),e=KI(t,e,1),t=Ro(t,e,1),e=Gn(),t!==null&&(Bh(t,1,e),us(t,e))}function Vt(t,e,n){if(t.tag===3)VS(t,t,n);else for(;e!==null;){if(e.tag===3){VS(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Do===null||!Do.has(s))){t=Gc(n,t),t=YI(e,t,1),e=Ro(e,t,1),t=Gn(),e!==null&&(Bh(e,1,t),us(e,t));break}}e=e.return}}function EU(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Gn(),t.pingedLanes|=t.suspendedLanes&n,hn===t&&(bn&n)===n&&(rn===4||rn===3&&(bn&130023424)===bn&&500>Wt()-Gb?Ka(t,0):qb|=n),us(t,e)}function pk(t,e){e===0&&(t.mode&1?(e=Kf,Kf<<=1,!(Kf&130023424)&&(Kf=4194304)):e=1);var n=Gn();t=Ai(t,e),t!==null&&(Bh(t,e,n),us(t,n))}function TU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pk(t,n)}function CU(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(re(314))}s!==null&&s.delete(e),pk(t,n)}var gk;gk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ls.current)os=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return os=!1,pU(t,e,n);os=!!(t.flags&131072)}else os=!1,jt&&e.flags&1048576&&wI(e,vp,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Om(t,e),t=e.pendingProps;var r=Bc(e,Fn.current);Nc(e,n),r=Ub(null,e,s,t,r,n);var o=$b();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cs(s)?(o=!0,xp(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Mb(e),r.updater=kg,e.stateNode=r,r._reactInternals=e,x0(e,s,t,n),e=w0(null,e,s,!0,o,n)):(e.tag=0,jt&&o&&Cb(e),Wn(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Om(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=PU(s),t=rr(s,t),r){case 0:e=v0(null,e,s,t,n);break e;case 1:e=CS(null,e,s,t,n);break e;case 11:e=ES(null,e,s,t,n);break e;case 14:e=TS(null,e,s,rr(s.type,t),n);break e}throw Error(re(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:rr(s,r),v0(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:rr(s,r),CS(t,e,s,r,n);case 3:e:{if(ZI(e),t===null)throw Error(re(387));s=e.pendingProps,o=e.memoizedState,r=o.element,EI(t,e),jp(e,s,null,n);var a=e.memoizedState;if(s=a.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Gc(Error(re(423)),e),e=AS(t,e,s,n,r);break e}else if(s!==r){r=Gc(Error(re(424)),e),e=AS(t,e,s,n,r);break e}else for(ys=ko(e.stateNode.containerInfo.firstChild),ws=e,jt=!0,cr=null,n=_I(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wc(),s===r){e=Pi(t,e,n);break e}Wn(t,e,s,n)}e=e.child}return e;case 5:return TI(e),t===null&&m0(e),s=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,a=r.children,c0(s,r)?a=null:o!==null&&c0(s,o)&&(e.flags|=32),JI(t,e),Wn(t,e,a,n),e.child;case 6:return t===null&&m0(e),null;case 13:return ek(t,e,n);case 4:return Ob(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Hc(e,null,s,n):Wn(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:rr(s,r),ES(t,e,s,r,n);case 7:return Wn(t,e,e.pendingProps,n),e.child;case 8:return Wn(t,e,e.pendingProps.children,n),e.child;case 12:return Wn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,ft(wp,s._currentValue),s._currentValue=a,o!==null)if(vr(o.value,a)){if(o.children===r.children&&!ls.current){e=Pi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(o.tag===1){c=ji(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),p0(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(re(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),p0(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Wn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Nc(e,n),r=qs(r),s=s(r),e.flags|=1,Wn(t,e,s,n),e.child;case 14:return s=e.type,r=rr(s,e.pendingProps),r=rr(s.type,r),TS(t,e,s,r,n);case 15:return QI(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:rr(s,r),Om(t,e),e.tag=1,cs(s)?(t=!0,xp(e)):t=!1,Nc(e,n),GI(e,s,r),x0(e,s,r,n),w0(null,e,s,!0,t,n);case 19:return tk(t,e,n);case 22:return XI(t,e,n)}throw Error(re(156,e.tag))};function xk(t,e){return WP(t,e)}function AU(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vs(t,e,n,s){return new AU(t,e,n,s)}function Xb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PU(t){if(typeof t=="function")return Xb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gb)return 11;if(t===xb)return 14}return 2}function Oo(t,e){var n=t.alternate;return n===null?(n=Vs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fm(t,e,n,s,r,o){var a=2;if(s=t,typeof t=="function")Xb(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case sc:return Ya(n.children,r,o,e);case pb:a=8,r|=8;break;case $v:return t=Vs(12,n,e,r|2),t.elementType=$v,t.lanes=o,t;case zv:return t=Vs(13,n,e,r),t.elementType=zv,t.lanes=o,t;case Bv:return t=Vs(19,n,e,r),t.elementType=Bv,t.lanes=o,t;case TP:return Mg(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SP:a=10;break e;case EP:a=9;break e;case gb:a=11;break e;case xb:a=14;break e;case fo:a=16,s=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Vs(a,n,e,r),e.elementType=t,e.type=s,e.lanes=o,e}function Ya(t,e,n,s){return t=Vs(7,t,s,e),t.lanes=n,t}function Mg(t,e,n,s){return t=Vs(22,t,s,e),t.elementType=TP,t.lanes=n,t.stateNode={isHidden:!1},t}function Uy(t,e,n){return t=Vs(6,t,null,e),t.lanes=n,t}function $y(t,e,n){return e=Vs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IU(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=by(0),this.expirationTimes=by(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=by(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Jb(t,e,n,s,r,o,a,l,c){return t=new IU(t,e,n,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Vs(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mb(o),t}function kU(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nc,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function yk(t){if(!t)return Ho;t=t._reactInternals;e:{if(Sl(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(cs(n))return yI(t,n,e)}return e}function vk(t,e,n,s,r,o,a,l,c){return t=Jb(n,s,!0,t,r,o,a,l,c),t.context=yk(null),n=t.current,s=Gn(),r=Mo(n),o=ji(s,r),o.callback=e??null,Ro(n,o,r),t.current.lanes=r,Bh(t,r,s),us(t,s),t}function Og(t,e,n,s){var r=e.current,o=Gn(),a=Mo(r);return n=yk(n),e.context===null?e.context=n:e.pendingContext=n,e=ji(o,a),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Ro(r,e,a),t!==null&&(gr(t,r,a,o),Rm(t,r,a)),a}function Pp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function FS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zb(t,e){FS(t,e),(t=t.alternate)&&FS(t,e)}function RU(){return null}var wk=typeof reportError=="function"?reportError:function(t){console.error(t)};function e1(t){this._internalRoot=t}Lg.prototype.render=e1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Og(t,e,null,null)};Lg.prototype.unmount=e1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;al(function(){Og(null,t,null,null)}),e[Ci]=null}};function Lg(t){this._internalRoot=t}Lg.prototype.unstable_scheduleHydration=function(t){if(t){var e=XP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<po.length&&e!==0&&e<po[n].priority;n++);po.splice(n,0,t),n===0&&ZP(t)}};function t1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function US(){}function DU(t,e,n,s,r){if(r){if(typeof s=="function"){var o=s;s=function(){var u=Pp(a);o.call(u)}}var a=vk(e,s,t,0,null,!1,!1,"",US);return t._reactRootContainer=a,t[Ci]=a.current,Xd(t.nodeType===8?t.parentNode:t),al(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=Pp(c);l.call(u)}}var c=Jb(t,0,!1,null,null,!1,!1,"",US);return t._reactRootContainer=c,t[Ci]=c.current,Xd(t.nodeType===8?t.parentNode:t),al(function(){Og(e,c,n,s)}),c}function Fg(t,e,n,s,r){var o=n._reactRootContainer;if(o){var a=o;if(typeof r=="function"){var l=r;r=function(){var c=Pp(a);l.call(c)}}Og(e,a,t,r)}else a=DU(n,e,t,r,s);return Pp(a)}YP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=od(e.pendingLanes);n!==0&&(wb(e,n|1),us(e,Wt()),!(Qe&6)&&(Kc=Wt()+500,ca()))}break;case 13:al(function(){var s=Ai(t,1);if(s!==null){var r=Gn();gr(s,t,1,r)}}),Zb(t,1)}};bb=function(t){if(t.tag===13){var e=Ai(t,134217728);if(e!==null){var n=Gn();gr(e,t,134217728,n)}Zb(t,134217728)}};QP=function(t){if(t.tag===13){var e=Mo(t),n=Ai(t,e);if(n!==null){var s=Gn();gr(n,t,e,s)}Zb(t,e)}};XP=function(){return st};JP=function(t,e){var n=st;try{return st=t,e()}finally{st=n}};Zv=function(t,e,n){switch(e){case"input":if(qv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=Ag(s);if(!r)throw Error(re(90));AP(s),qv(s,r)}}}break;case"textarea":IP(t,n);break;case"select":e=n.value,e!=null&&vc(t,!!n.multiple,e,!1)}};VP=Kb;FP=al;var MU={usingClientEntryPoint:!1,Events:[Hh,ac,Ag,OP,LP,Kb]},Xu={findFiberByHostInstance:Da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OU={bundleType:Xu.bundleType,version:Xu.version,rendererPackageName:Xu.rendererPackageName,rendererConfig:Xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zP(t),t===null?null:t.stateNode},findFiberByHostInstance:Xu.findFiberByHostInstance||RU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!im.isDisabled&&im.supportsFiber)try{Sg=im.inject(OU),zr=im}catch{}}As.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MU;As.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t1(e))throw Error(re(200));return kU(t,e,null,n)};As.createRoot=function(t,e){if(!t1(t))throw Error(re(299));var n=!1,s="",r=wk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Jb(t,1,!1,null,null,n,!1,s,r),t[Ci]=e.current,Xd(t.nodeType===8?t.parentNode:t),new e1(e)};As.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=zP(e),t=t===null?null:t.stateNode,t};As.flushSync=function(t){return al(t)};As.hydrate=function(t,e,n){if(!Vg(e))throw Error(re(200));return Fg(null,t,e,!0,n)};As.hydrateRoot=function(t,e,n){if(!t1(t))throw Error(re(405));var s=n!=null&&n.hydratedSources||null,r=!1,o="",a=wk;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=vk(e,null,t,1,n??null,r,!1,o,a),t[Ci]=e.current,Xd(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Lg(e)};As.render=function(t,e,n){if(!Vg(e))throw Error(re(200));return Fg(null,t,e,!1,n)};As.unmountComponentAtNode=function(t){if(!Vg(t))throw Error(re(40));return t._reactRootContainer?(al(function(){Fg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ci]=null})}),!0):!1};As.unstable_batchedUpdates=Kb;As.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Vg(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Fg(t,e,n,!1,s)};As.version="18.3.1-next-f1338f8080-20240426";function bk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bk)}catch(t){console.error(t)}}bk(),bP.exports=As;var El=bP.exports;const jk=cP(El);var Nk,$S=El;Nk=$S.createRoot,$S.hydrateRoot;const LU=1,VU=1e6;let zy=0;function FU(){return zy=(zy+1)%Number.MAX_SAFE_INTEGER,zy.toString()}const By=new Map,zS=t=>{if(By.has(t))return;const e=setTimeout(()=>{By.delete(t),Pd({type:"REMOVE_TOAST",toastId:t})},VU);By.set(t,e)},UU=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,LU)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?zS(n):t.toasts.forEach(s=>{zS(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Um=[];let $m={toasts:[]};function Pd(t){$m=UU($m,t),Um.forEach(e=>{e($m)})}function je({...t}){const e=FU(),n=r=>Pd({type:"UPDATE_TOAST",toast:{...r,id:e}}),s=()=>Pd({type:"DISMISS_TOAST",toastId:e});return Pd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||s()}}}),{id:e,dismiss:s,update:n}}function Bi(){const[t,e]=p.useState($m);return p.useEffect(()=>(Um.push(e),()=>{const n=Um.indexOf(e);n>-1&&Um.splice(n,1)}),[t]),{...t,toast:je,dismiss:n=>Pd({type:"DISMISS_TOAST",toastId:n})}}function se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function BS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ug(...t){return e=>{let n=!1;const s=t.map(r=>{const o=BS(r,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let r=0;r<s.length;r++){const o=s[r];typeof o=="function"?o():BS(t[r],null)}}}}function Ie(...t){return p.useCallback(Ug(...t),t)}function $U(t,e){const n=p.createContext(e),s=o=>{const{children:a,...l}=o,c=p.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:a})};s.displayName=t+"Provider";function r(o){const a=p.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[s,r]}function mn(t,e=[]){let n=[];function s(o,a){const l=p.createContext(a),c=n.length;n=[...n,a];const u=h=>{var v;const{scope:m,children:g,...y}=h,x=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,w=p.useMemo(()=>y,Object.values(y));return i.jsx(x.Provider,{value:w,children:g})};u.displayName=o+"Provider";function d(h,m){var x;const g=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,y=p.useContext(g);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const r=()=>{const o=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[t])||o;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,zU(r,...e)]}function zU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(o){const a=s.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function qo(t){const e=WU(t),n=p.forwardRef((s,r)=>{const{children:o,...a}=s,l=p.Children.toArray(o),c=l.find(HU);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return i.jsx(e,{...a,ref:r,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(e,{...a,ref:r,children:o})});return n.displayName=`${t}.Slot`,n}var BU=qo("Slot");function WU(t){const e=p.forwardRef((n,s)=>{const{children:r,...o}=n;if(p.isValidElement(r)){const a=GU(r),l=qU(o,r.props);return r.type!==p.Fragment&&(l.ref=s?Ug(s,a):a),p.cloneElement(r,l)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _k=Symbol("radix.slottable");function Sk(t){const e=({children:n})=>i.jsx(i.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=_k,e}function HU(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_k}function qU(t,e){const n={...e};for(const s in e){const r=t[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?n[s]=(...l)=>{const c=o(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...o}:s==="className"&&(n[s]=[r,o].filter(Boolean).join(" "))}return{...t,...n}}function GU(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Gh(t){const e=t+"CollectionProvider",[n,s]=mn(e),[r,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:w,children:v}=x,j=ee.useRef(null),b=ee.useRef(new Map).current;return i.jsx(r,{scope:w,itemMap:b,collectionRef:j,children:v})};a.displayName=e;const l=t+"CollectionSlot",c=qo(l),u=ee.forwardRef((x,w)=>{const{scope:v,children:j}=x,b=o(l,v),C=Ie(w,b.collectionRef);return i.jsx(c,{ref:C,children:j})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",m=qo(d),g=ee.forwardRef((x,w)=>{const{scope:v,children:j,...b}=x,C=ee.useRef(null),k=Ie(w,C),I=o(d,v);return ee.useEffect(()=>(I.itemMap.set(C,{ref:C,...b}),()=>void I.itemMap.delete(C))),i.jsx(m,{[h]:"",ref:k,children:j})});g.displayName=d;function y(x){const w=o(t+"CollectionConsumer",x);return ee.useCallback(()=>{const j=w.collectionRef.current;if(!j)return[];const b=Array.from(j.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((I,_)=>b.indexOf(I.ref.current)-b.indexOf(_.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},y,s]}var KU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pe=KU.reduce((t,e)=>{const n=qo(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:a,...l}=r,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:o})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function n1(t,e){t&&El.flushSync(()=>t.dispatchEvent(e))}function Ft(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function YU(t,e=globalThis==null?void 0:globalThis.document){const n=Ft(t);p.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var QU="DismissableLayer",k0="dismissableLayer.update",XU="dismissableLayer.pointerDownOutside",JU="dismissableLayer.focusOutside",WS,Ek=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tl=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,u=p.useContext(Ek),[d,h]=p.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),y=Ie(e,_=>h(_)),x=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(w),j=d?x.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,C=j>=v,k=e$(_=>{const S=_.target,T=[...u.branches].some(E=>E.contains(S));!C||T||(r==null||r(_),a==null||a(_),_.defaultPrevented||l==null||l())},m),I=t$(_=>{const S=_.target;[...u.branches].some(E=>E.contains(S))||(o==null||o(_),a==null||a(_),_.defaultPrevented||l==null||l())},m);return YU(_=>{j===u.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},m),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(WS=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),HS(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=WS)}},[d,m,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),HS())},[d,u]),p.useEffect(()=>{const _=()=>g({});return document.addEventListener(k0,_),()=>document.removeEventListener(k0,_)},[]),i.jsx(pe.div,{...c,ref:y,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,I.onFocusCapture),onBlurCapture:se(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,k.onPointerDownCapture)})});Tl.displayName=QU;var ZU="DismissableLayerBranch",Tk=p.forwardRef((t,e)=>{const n=p.useContext(Ek),s=p.useRef(null),r=Ie(e,s);return p.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(pe.div,{...t,ref:r})});Tk.displayName=ZU;function e$(t,e=globalThis==null?void 0:globalThis.document){const n=Ft(t),s=p.useRef(!1),r=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!s.current){let c=function(){Ck(XU,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);s.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function t$(t,e=globalThis==null?void 0:globalThis.document){const n=Ft(t),s=p.useRef(!1);return p.useEffect(()=>{const r=o=>{o.target&&!s.current&&Ck(JU,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function HS(){const t=new CustomEvent(k0);document.dispatchEvent(t)}function Ck(t,e,n,{discrete:s}){const r=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?n1(r,o):r.dispatchEvent(o)}var n$=Tl,s$=Tk,$t=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},r$="Portal",fu=p.forwardRef((t,e)=>{var l;const{container:n,...s}=t,[r,o]=p.useState(!1);$t(()=>o(!0),[]);const a=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?jk.createPortal(i.jsx(pe.div,{...s,ref:e}),a):null});fu.displayName=r$;function i$(t,e){return p.useReducer((n,s)=>e[n][s]??n,t)}var an=t=>{const{present:e,children:n}=t,s=o$(e),r=typeof n=="function"?n({present:s.isPresent}):p.Children.only(n),o=Ie(s.ref,a$(r));return typeof n=="function"||s.isPresent?p.cloneElement(r,{ref:o}):null};an.displayName="Presence";function o$(t){const[e,n]=p.useState(),s=p.useRef(null),r=p.useRef(t),o=p.useRef("none"),a=t?"mounted":"unmounted",[l,c]=i$(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=om(s.current);o.current=l==="mounted"?u:"none"},[l]),$t(()=>{const u=s.current,d=r.current;if(d!==t){const m=o.current,g=om(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),$t(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=g=>{const x=om(s.current).includes(g.animationName);if(g.target===e&&x&&(c("ANIMATION_END"),!r.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=g=>{g.target===e&&(o.current=om(s.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function om(t){return(t==null?void 0:t.animationName)||"none"}function a$(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var l$=db[" useInsertionEffect ".trim().toString()]||$t;function Cs({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[r,o,a]=c$({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:r;{const d=p.useRef(t!==void 0);p.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=p.useCallback(d=>{var h;if(l){const m=u$(d)?d(t):d;m!==t&&((h=a.current)==null||h.call(a,m))}else o(d)},[l,t,o,a]);return[c,u]}function c$({defaultProp:t,onChange:e}){const[n,s]=p.useState(t),r=p.useRef(n),o=p.useRef(e);return l$(()=>{o.current=e},[e]),p.useEffect(()=>{var a;r.current!==n&&((a=o.current)==null||a.call(o,n),r.current=n)},[n,r]),[n,s,o]}function u$(t){return typeof t=="function"}var Ak=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),d$="VisuallyHidden",Kh=p.forwardRef((t,e)=>i.jsx(pe.span,{...t,ref:e,style:{...Ak,...t.style}}));Kh.displayName=d$;var h$=Kh,s1="ToastProvider",[r1,f$,m$]=Gh("Toast"),[Pk]=mn("Toast",[m$]),[p$,$g]=Pk(s1),Ik=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:o=50,children:a}=t,[l,c]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${s1}\`. Expected non-empty \`string\`.`),i.jsx(r1.Provider,{scope:e,children:i.jsx(p$,{scope:e,label:n,duration:s,swipeDirection:r,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(g=>g+1),[]),onToastRemove:p.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:a})})};Ik.displayName=s1;var kk="ToastViewport",g$=["F8"],R0="toast.viewportPause",D0="toast.viewportResume",Rk=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=g$,label:r="Notifications ({hotkey})",...o}=t,a=$g(kk,n),l=f$(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),m=Ie(e,h,a.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;p.useEffect(()=>{const w=v=>{var b;s.length!==0&&s.every(C=>v[C]||v.code===C)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),p.useEffect(()=>{const w=c.current,v=h.current;if(y&&w&&v){const j=()=>{if(!a.isClosePausedRef.current){const I=new CustomEvent(R0);v.dispatchEvent(I),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const I=new CustomEvent(D0);v.dispatchEvent(I),a.isClosePausedRef.current=!1}},C=I=>{!w.contains(I.relatedTarget)&&b()},k=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",j),w.addEventListener("focusout",C),w.addEventListener("pointermove",j),w.addEventListener("pointerleave",k),window.addEventListener("blur",j),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",j),w.removeEventListener("focusout",C),w.removeEventListener("pointermove",j),w.removeEventListener("pointerleave",k),window.removeEventListener("blur",j),window.removeEventListener("focus",b)}}},[y,a.isClosePausedRef]);const x=p.useCallback(({tabbingDirection:w})=>{const j=l().map(b=>{const C=b.ref.current,k=[C,...A$(C)];return w==="forwards"?k:k.reverse()});return(w==="forwards"?j.reverse():j).flat()},[l]);return p.useEffect(()=>{const w=h.current;if(w){const v=j=>{var k,I,_;const b=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!b){const S=document.activeElement,T=j.shiftKey;if(j.target===w&&T){(k=u.current)==null||k.focus();return}const R=x({tabbingDirection:T?"backwards":"forwards"}),D=R.findIndex(L=>L===S);Wy(R.slice(D+1))?j.preventDefault():T?(I=u.current)==null||I.focus():(_=d.current)==null||_.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[l,x]),i.jsxs(s$,{ref:c,role:"region","aria-label":r.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&i.jsx(M0,{ref:u,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"forwards"});Wy(w)}}),i.jsx(r1.Slot,{scope:n,children:i.jsx(pe.ol,{tabIndex:-1,...o,ref:m})}),y&&i.jsx(M0,{ref:d,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"backwards"});Wy(w)}})]})});Rk.displayName=kk;var Dk="ToastFocusProxy",M0=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...r}=t,o=$g(Dk,n);return i.jsx(Kh,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&s()}})});M0.displayName=Dk;var Yh="Toast",x$="toast.swipeStart",y$="toast.swipeMove",v$="toast.swipeCancel",w$="toast.swipeEnd",Mk=p.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:r,onOpenChange:o,...a}=t,[l,c]=Cs({prop:s,defaultProp:r??!0,onChange:o,caller:Yh});return i.jsx(an,{present:n||l,children:i.jsx(N$,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:Ft(t.onPause),onResume:Ft(t.onResume),onSwipeStart:se(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:se(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Mk.displayName=Yh;var[b$,j$]=Pk(Yh,{onClose(){}}),N$=p.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:r,open:o,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:g,...y}=t,x=$g(Yh,n),[w,v]=p.useState(null),j=Ie(e,L=>v(L)),b=p.useRef(null),C=p.useRef(null),k=r||x.duration,I=p.useRef(0),_=p.useRef(k),S=p.useRef(0),{onToastAdd:T,onToastRemove:E}=x,P=Ft(()=>{var F;(w==null?void 0:w.contains(document.activeElement))&&((F=x.viewport)==null||F.focus()),a()}),R=p.useCallback(L=>{!L||L===1/0||(window.clearTimeout(S.current),I.current=new Date().getTime(),S.current=window.setTimeout(P,L))},[P]);p.useEffect(()=>{const L=x.viewport;if(L){const F=()=>{R(_.current),u==null||u()},W=()=>{const B=new Date().getTime()-I.current;_.current=_.current-B,window.clearTimeout(S.current),c==null||c()};return L.addEventListener(R0,W),L.addEventListener(D0,F),()=>{L.removeEventListener(R0,W),L.removeEventListener(D0,F)}}},[x.viewport,k,c,u,R]),p.useEffect(()=>{o&&!x.isClosePausedRef.current&&R(k)},[o,k,x.isClosePausedRef,R]),p.useEffect(()=>(T(),()=>E()),[T,E]);const D=p.useMemo(()=>w?zk(w):null,[w]);return x.viewport?i.jsxs(i.Fragment,{children:[D&&i.jsx(_$,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),i.jsx(b$,{scope:n,onClose:P,children:El.createPortal(i.jsx(r1.ItemSlot,{scope:n,children:i.jsx(n$,{asChild:!0,onEscapeKeyDown:se(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||P(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:j,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:se(t.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:se(t.onPointerDown,L=>{L.button===0&&(b.current={x:L.clientX,y:L.clientY})}),onPointerMove:se(t.onPointerMove,L=>{if(!b.current)return;const F=L.clientX-b.current.x,W=L.clientY-b.current.y,B=!!C.current,V=["left","right"].includes(x.swipeDirection),M=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,$=V?M(0,F):0,G=V?0:M(0,W),Z=L.pointerType==="touch"?10:2,U={x:$,y:G},q={originalEvent:L,delta:U};B?(C.current=U,am(y$,h,q,{discrete:!1})):qS(U,x.swipeDirection,Z)?(C.current=U,am(x$,d,q,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(F)>Z||Math.abs(W)>Z)&&(b.current=null)}),onPointerUp:se(t.onPointerUp,L=>{const F=C.current,W=L.target;if(W.hasPointerCapture(L.pointerId)&&W.releasePointerCapture(L.pointerId),C.current=null,b.current=null,F){const B=L.currentTarget,V={originalEvent:L,delta:F};qS(F,x.swipeDirection,x.swipeThreshold)?am(w$,g,V,{discrete:!0}):am(v$,m,V,{discrete:!0}),B.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),_$=t=>{const{__scopeToast:e,children:n,...s}=t,r=$g(Yh,e),[o,a]=p.useState(!1),[l,c]=p.useState(!1);return T$(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(fu,{asChild:!0,children:i.jsx(Kh,{...s,children:o&&i.jsxs(i.Fragment,{children:[r.label," ",n]})})})},S$="ToastTitle",Ok=p.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return i.jsx(pe.div,{...s,ref:e})});Ok.displayName=S$;var E$="ToastDescription",Lk=p.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return i.jsx(pe.div,{...s,ref:e})});Lk.displayName=E$;var Vk="ToastAction",Fk=p.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?i.jsx($k,{altText:n,asChild:!0,children:i.jsx(i1,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Vk}\`. Expected non-empty \`string\`.`),null)});Fk.displayName=Vk;var Uk="ToastClose",i1=p.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,r=j$(Uk,n);return i.jsx($k,{asChild:!0,children:i.jsx(pe.button,{type:"button",...s,ref:e,onClick:se(t.onClick,r.onClose)})})});i1.displayName=Uk;var $k=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...r}=t;return i.jsx(pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:e})});function zk(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),C$(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",o=s.dataset.radixToastAnnounceExclude==="";if(!r)if(o){const a=s.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...zk(s))}}),e}function am(t,e,n,{discrete:s}){const r=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?n1(r,o):r.dispatchEvent(o)}var qS=(t,e,n=0)=>{const s=Math.abs(t.x),r=Math.abs(t.y),o=s>r;return e==="left"||e==="right"?o&&s>n:!o&&r>n};function T$(t=()=>{}){const e=Ft(t);$t(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function C$(t){return t.nodeType===t.ELEMENT_NODE}function A$(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Wy(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var P$=Ik,Bk=Rk,Wk=Mk,Hk=Ok,qk=Lk,Gk=Fk,Kk=i1;function Yk(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=Yk(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Qk(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=Yk(t))&&(s&&(s+=" "),s+=e);return s}const GS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,KS=Qk,Qh=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return KS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:o}=e,a=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],h=o==null?void 0:o[u];if(d===null)return null;const m=GS(d)||GS(h);return r[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:m,...g}=d;return Object.entries(g).every(y=>{let[x,w]=y;return Array.isArray(w)?w.includes({...o,...l}[x]):{...o,...l}[x]===w})?[...u,h,m]:u},[]);return KS(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k$=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),YS=t=>{const e=k$(t);return e.charAt(0).toUpperCase()+e.slice(1)},Xk=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),R$=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:o,iconNode:a,...l},c)=>p.createElement("svg",{ref:c,...D$,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Xk("lucide",r),...!o&&!R$(l)&&{"aria-hidden":"true"},...l},[...a.map(([u,d])=>p.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(t,e)=>{const n=p.forwardRef(({className:s,...r},o)=>p.createElement(M$,{ref:o,iconNode:e,className:Xk(`lucide-${I$(YS(t))}`,`lucide-${t}`,s),...r}));return n.displayName=YS(t),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],L$=he("arrow-down",O$);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ip=he("arrow-left",V$);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zg=he("arrow-right",F$);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],kp=he("arrow-up-right",U$);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],z$=he("award",$$);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],QS=he("ban",B$);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],H$=he("calendar",W$);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],dr=he("check",q$);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qa=he("chevron-down",G$);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Y$=he("chevron-left",K$);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],La=he("chevron-right",Q$);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],J$=he("chevron-up",X$);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],oh=he("circle-alert",Z$);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yn=he("circle-check-big",e9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Rp=he("circle-check",t9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],o1=he("circle-question-mark",n9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ur=he("circle-x",s9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],i9=he("circle",r9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Go=he("clock",o9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],l9=he("cookie",a9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],O0=he("credit-card",c9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],L0=he("dollar-sign",u9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],a1=he("ellipsis-vertical",d9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],f9=he("external-link",h9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],p9=he("eye-off",m9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ah=he("eye",g9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Jk=he("facebook",x9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],V0=he("file-text",y9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],ld=he("folder-open",v9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],b9=he("globe",w9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],bs=he("heart",j9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],_9=he("image-plus",N9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],l1=he("instagram",S9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],T9=he("layout-dashboard",E9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],ll=he("leaf",C9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],De=he("loader-circle",A9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Zk=he("lock",P9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],c1=he("log-out",I9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ko=he("mail",k9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],lh=he("map-pin",R9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],F0=he("megaphone",D9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],e2=he("menu",M9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],L9=he("message-circle",O9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],XS=he("message-square",V9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M5 12h14",key:"1ays0h"}]],u1=he("minus",F9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],jn=he("package",U9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Yc=he("pencil",$9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],t2=he("phone",z9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],js=he("plus",B9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Hy=he("printer",W9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]],n2=he("rabbit",H9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]],G9=he("recycle",q9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],s2=he("refresh-cw",K9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],r2=he("scroll-text",Y9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ri=he("search",Q9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ch=he("send",X9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],d1=he("settings",J9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],e8=he("shield-check",Z9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],uh=he("shield",t8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Yo=he("shopping-bag",n8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],U0=he("shopping-cart",s8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],i2=he("sliders-horizontal",r8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Bg=he("sparkles",i8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Wg=he("star",o8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ii=he("trash-2",a8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],c8=he("trending-up",l8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],wr=he("truck",u8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Wr=he("user",d8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qc=he("users",h8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ks=he("x",f8),h1="-",m8=t=>{const e=g8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:a=>{const l=a.split(h1);return l[0]===""&&l.length!==1&&l.shift(),o2(l,e)||p8(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&s[a]?[...c,...s[a]]:c}}},o2=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?o2(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const o=t.join(h1);return(a=e.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},JS=/^\[(.+)\]$/,p8=t=>{if(JS.test(t)){const e=JS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},g8=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return y8(Object.entries(t.classGroups),n).forEach(([o,a])=>{$0(a,s,o,e)}),s},$0=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const o=r===""?e:ZS(e,r);o.classGroupId=n;return}if(typeof r=="function"){if(x8(r)){$0(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([o,a])=>{$0(a,ZS(e,o),n,s)})})},ZS=(t,e)=>{let n=t;return e.split(h1).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},x8=t=>t.isThemeGetter,y8=(t,e)=>e?t.map(([n,s])=>{const r=s.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,l])=>[e+a,l])):o);return[n,r]}):t,v8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,s=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=s.get(o))!==void 0)return r(o,a),a},set(o,a){n.has(o)?n.set(o,a):r(o,a)}}},a2="!",w8=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],o=e.length,a=l=>{const c=[];let u=0,d=0,h;for(let w=0;w<l.length;w++){let v=l[w];if(u===0){if(v===r&&(s||l.slice(w,w+o)===e)){c.push(l.slice(d,w)),d=w+o;continue}if(v==="/"){h=w;continue}}v==="["?u++:v==="]"&&u--}const m=c.length===0?l:l.substring(d),g=m.startsWith(a2),y=g?m.substring(1):m,x=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:a}):a},b8=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},j8=t=>({cache:v8(t.cacheSize),parseClassName:w8(t),...m8(t)}),N8=/\s+/,_8=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,o=[],a=t.trim().split(N8);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let y=!!g,x=s(y?m.substring(0,g):m);if(!x){if(!y){l=u+(l.length>0?" "+l:l);continue}if(x=s(m),!x){l=u+(l.length>0?" "+l:l);continue}y=!1}const w=b8(d).join(":"),v=h?w+a2:w,j=v+x;if(o.includes(j))continue;o.push(j);const b=r(x,y);for(let C=0;C<b.length;++C){const k=b[C];o.push(v+k)}l=u+(l.length>0?" "+l:l)}return l};function S8(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=l2(e))&&(s&&(s+=" "),s+=n);return s}const l2=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=l2(t[s]))&&(n&&(n+=" "),n+=e);return n};function E8(t,...e){let n,s,r,o=a;function a(c){const u=e.reduce((d,h)=>h(d),t());return n=j8(u),s=n.cache.get,r=n.cache.set,o=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=_8(c,n);return r(c,d),d}return function(){return o(S8.apply(null,arguments))}}const pt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},c2=/^\[(?:([a-z-]+):)?(.+)\]$/i,T8=/^\d+\/\d+$/,C8=new Set(["px","full","screen"]),A8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,I8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,k8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hi=t=>Sc(t)||C8.has(t)||T8.test(t),io=t=>mu(t,"length",$8),Sc=t=>!!t&&!Number.isNaN(Number(t)),qy=t=>mu(t,"number",Sc),Ju=t=>!!t&&Number.isInteger(Number(t)),D8=t=>t.endsWith("%")&&Sc(t.slice(0,-1)),Le=t=>c2.test(t),oo=t=>A8.test(t),M8=new Set(["length","size","percentage"]),O8=t=>mu(t,M8,u2),L8=t=>mu(t,"position",u2),V8=new Set(["image","url"]),F8=t=>mu(t,V8,B8),U8=t=>mu(t,"",z8),Zu=()=>!0,mu=(t,e,n)=>{const s=c2.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},$8=t=>P8.test(t)&&!I8.test(t),u2=()=>!1,z8=t=>k8.test(t),B8=t=>R8.test(t),W8=()=>{const t=pt("colors"),e=pt("spacing"),n=pt("blur"),s=pt("brightness"),r=pt("borderColor"),o=pt("borderRadius"),a=pt("borderSpacing"),l=pt("borderWidth"),c=pt("contrast"),u=pt("grayscale"),d=pt("hueRotate"),h=pt("invert"),m=pt("gap"),g=pt("gradientColorStops"),y=pt("gradientColorStopPositions"),x=pt("inset"),w=pt("margin"),v=pt("opacity"),j=pt("padding"),b=pt("saturate"),C=pt("scale"),k=pt("sepia"),I=pt("skew"),_=pt("space"),S=pt("translate"),T=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Le,e],R=()=>[Le,e],D=()=>["",hi,io],L=()=>["auto",Sc,Le],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Le],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Sc,Le];return{cacheSize:500,separator:":",theme:{colors:[Zu],spacing:[hi,io],blur:["none","",oo,Le],brightness:G(),borderColor:[t],borderRadius:["none","","full",oo,Le],borderSpacing:R(),borderWidth:D(),contrast:G(),grayscale:M(),hueRotate:G(),invert:M(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[D8,io],inset:P(),margin:P(),opacity:G(),padding:R(),saturate:G(),scale:G(),sepia:M(),skew:G(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[oo]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Le]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ju,Le]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Ju,Le]}],"grid-cols":[{"grid-cols":[Zu]}],"col-start-end":[{col:["auto",{span:["full",Ju,Le]},Le]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Zu]}],"row-start-end":[{row:["auto",{span:[Ju,Le]},Le]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,e]}],"min-w":[{"min-w":[Le,e,"min","max","fit"]}],"max-w":[{"max-w":[Le,e,"none","full","min","max","fit","prose",{screen:[oo]},oo]}],h:[{h:[Le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",oo,io]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qy]}],"font-family":[{font:[Zu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",Sc,qy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hi,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hi,io]}],"underline-offset":[{"underline-offset":["auto",hi,Le]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),L8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",O8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},F8]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:W()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[hi,Le]}],"outline-w":[{outline:[hi,io]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[hi,io]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",oo,U8]}],"shadow-color":[{shadow:[Zu]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",oo,Le]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Ju,Le]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[hi,io,qy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},H8=E8(W8);function ce(...t){return H8(Qk(t))}const q8=P$,d2=p.forwardRef(({className:t,...e},n)=>i.jsx(Bk,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));d2.displayName=Bk.displayName;const G8=Qh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),h2=p.forwardRef(({className:t,variant:e,...n},s)=>i.jsx(Wk,{ref:s,className:ce(G8({variant:e}),t),...n}));h2.displayName=Wk.displayName;const K8=p.forwardRef(({className:t,...e},n)=>i.jsx(Gk,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));K8.displayName=Gk.displayName;const f2=p.forwardRef(({className:t,...e},n)=>i.jsx(Kk,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(Ks,{className:"h-4 w-4"})}));f2.displayName=Kk.displayName;const m2=p.forwardRef(({className:t,...e},n)=>i.jsx(Hk,{ref:n,className:ce("text-sm font-semibold",t),...e}));m2.displayName=Hk.displayName;const p2=p.forwardRef(({className:t,...e},n)=>i.jsx(qk,{ref:n,className:ce("text-sm opacity-90",t),...e}));p2.displayName=qk.displayName;function Y8(){const{toasts:t}=Bi();return i.jsxs(q8,{children:[t.map(function({id:e,title:n,description:s,action:r,...o}){return i.jsxs(h2,{...o,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(m2,{children:n}),s&&i.jsx(p2,{children:s})]}),r,i.jsx(f2,{})]},e)}),i.jsx(d2,{})]})}var eE=["light","dark"],Q8="(prefers-color-scheme: dark)",X8=p.createContext(void 0),J8={setTheme:t=>{},themes:[]},Z8=()=>{var t;return(t=p.useContext(X8))!=null?t:J8};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:s,enableColorScheme:r,defaultTheme:o,value:a,attrs:l,nonce:c})=>{let u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=r?eE.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(y,x=!1,w=!0)=>{let v=a?a[y]:y,j=x?y+"|| ''":`'${v}'`,b="";return r&&w&&!x&&eE.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),n==="class"?x||v?b+=`c.add(${j})`:b+="null":v&&(b+=`d[s](n,${j})`),b},g=t?`!function(){${d}${m(t)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${Q8}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var ez=t=>{switch(t){case"success":return sz;case"info":return iz;case"warning":return rz;case"error":return oz;default:return null}},tz=Array(12).fill(0),nz=({visible:t,className:e})=>ee.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ee.createElement("div",{className:"sonner-spinner"},tz.map((n,s)=>ee.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),sz=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rz=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),iz=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oz=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),az=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ee.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ee.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lz=()=>{let[t,e]=ee.useState(document.hidden);return ee.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},z0=1,cz=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:s,...r}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:z0++,a=this.toasts.find(c=>c.id===o),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...e,id:o,title:s}),{...c,...e,id:o,dismissible:l,title:s}):c):this.addToast({title:s,...r,dismissible:l,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let r=e instanceof Promise?e:e(),o=s!==void 0,a,l=r.then(async u=>{if(a=["resolve",u],ee.isValidElement(u))o=!1,this.create({id:s,type:"default",message:u});else if(dz(u)&&!u.ok){o=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:s,type:"error",message:d,description:h})}else if(n.success!==void 0){o=!1;let d=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:s,type:"success",message:d,description:h})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){o=!1;let d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:s,type:"error",message:d,description:h})}}).finally(()=>{var u;o&&(this.dismiss(s),s=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>l.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof s!="string"&&typeof s!="number"?{unwrap:c}:Object.assign(s,{unwrap:c})},this.custom=(e,n)=>{let s=(n==null?void 0:n.id)||z0++;return this.create({jsx:e(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},es=new cz,uz=(t,e)=>{let n=(e==null?void 0:e.id)||z0++;return es.addToast({title:t,...e,id:n}),n},dz=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",hz=uz,fz=()=>es.toasts,mz=()=>es.getActiveToasts(),ql=Object.assign(hz,{success:es.success,info:es.info,warning:es.warning,error:es.error,custom:es.custom,message:es.message,promise:es.promise,dismiss:es.dismiss,loading:es.loading},{getHistory:fz,getToasts:mz});function pz(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}pz(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function lm(t){return t.label!==void 0}var gz=3,xz="32px",yz="16px",tE=4e3,vz=356,wz=14,bz=20,jz=200;function er(...t){return t.filter(Boolean).join(" ")}function Nz(t){let[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}var _z=t=>{var e,n,s,r,o,a,l,c,u,d,h;let{invert:m,toast:g,unstyled:y,interacting:x,setHeights:w,visibleToasts:v,heights:j,index:b,toasts:C,expanded:k,removeToast:I,defaultRichColors:_,closeButton:S,style:T,cancelButtonStyle:E,actionButtonStyle:P,className:R="",descriptionClassName:D="",duration:L,position:F,gap:W,loadingIcon:B,expandByDefault:V,classNames:M,icons:$,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:Z}=t,[U,q]=ee.useState(null),[te,ve]=ee.useState(null),[Y,ye]=ee.useState(!1),[we,Se]=ee.useState(!1),[be,ne]=ee.useState(!1),[Te,$e]=ee.useState(!1),[ot,ut]=ee.useState(!1),[St,Jt]=ee.useState(0),[qe,tt]=ee.useState(0),Zt=ee.useRef(g.duration||L||tE),X=ee.useRef(null),Ge=ee.useRef(null),Rt=b===0,Et=b+1<=v,dt=g.type,Ht=g.dismissible!==!1,Xs=g.className||"",ui=g.descriptionClassName||"",Xn=ee.useMemo(()=>j.findIndex(Ee=>Ee.toastId===g.id)||0,[j,g.id]),fs=ee.useMemo(()=>{var Ee;return(Ee=g.closeButton)!=null?Ee:S},[g.closeButton,S]),Is=ee.useMemo(()=>g.duration||L||tE,[g.duration,L]),en=ee.useRef(0),zn=ee.useRef(0),Yi=ee.useRef(0),Tn=ee.useRef(null),[zl,Qi]=F.split("-"),Xi=ee.useMemo(()=>j.reduce((Ee,Ye,rt)=>rt>=Xn?Ee:Ee+Ye.height,0),[j,Xn]),Ar=lz(),ya=g.invert||m,Dt=dt==="loading";zn.current=ee.useMemo(()=>Xn*W+Xi,[Xn,Xi]),ee.useEffect(()=>{Zt.current=Is},[Is]),ee.useEffect(()=>{ye(!0)},[]),ee.useEffect(()=>{let Ee=Ge.current;if(Ee){let Ye=Ee.getBoundingClientRect().height;return tt(Ye),w(rt=>[{toastId:g.id,height:Ye,position:g.position},...rt]),()=>w(rt=>rt.filter(ln=>ln.toastId!==g.id))}},[w,g.id]),ee.useLayoutEffect(()=>{if(!Y)return;let Ee=Ge.current,Ye=Ee.style.height;Ee.style.height="auto";let rt=Ee.getBoundingClientRect().height;Ee.style.height=Ye,tt(rt),w(ln=>ln.find(ms=>ms.toastId===g.id)?ln.map(ms=>ms.toastId===g.id?{...ms,height:rt}:ms):[{toastId:g.id,height:rt,position:g.position},...ln])},[Y,g.title,g.description,w,g.id]);let Jn=ee.useCallback(()=>{Se(!0),Jt(zn.current),w(Ee=>Ee.filter(Ye=>Ye.toastId!==g.id)),setTimeout(()=>{I(g)},jz)},[g,I,w,zn]);ee.useEffect(()=>{if(g.promise&&dt==="loading"||g.duration===1/0||g.type==="loading")return;let Ee;return k||x||Z&&Ar?(()=>{if(Yi.current<en.current){let Ye=new Date().getTime()-en.current;Zt.current=Zt.current-Ye}Yi.current=new Date().getTime()})():Zt.current!==1/0&&(en.current=new Date().getTime(),Ee=setTimeout(()=>{var Ye;(Ye=g.onAutoClose)==null||Ye.call(g,g),Jn()},Zt.current)),()=>clearTimeout(Ee)},[k,x,g,dt,Z,Ar,Jn]),ee.useEffect(()=>{g.delete&&Jn()},[Jn,g.delete]);function di(){var Ee,Ye,rt;return $!=null&&$.loading?ee.createElement("div",{className:er(M==null?void 0:M.loader,(Ee=g==null?void 0:g.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":dt==="loading"},$.loading):B?ee.createElement("div",{className:er(M==null?void 0:M.loader,(Ye=g==null?void 0:g.classNames)==null?void 0:Ye.loader,"sonner-loader"),"data-visible":dt==="loading"},B):ee.createElement(nz,{className:er(M==null?void 0:M.loader,(rt=g==null?void 0:g.classNames)==null?void 0:rt.loader),visible:dt==="loading"})}return ee.createElement("li",{tabIndex:0,ref:Ge,className:er(R,Xs,M==null?void 0:M.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[dt],(n=g==null?void 0:g.classNames)==null?void 0:n[dt]),"data-sonner-toast":"","data-rich-colors":(s=g.richColors)!=null?s:_,"data-styled":!(g.jsx||g.unstyled||y),"data-mounted":Y,"data-promise":!!g.promise,"data-swiped":ot,"data-removed":we,"data-visible":Et,"data-y-position":zl,"data-x-position":Qi,"data-index":b,"data-front":Rt,"data-swiping":be,"data-dismissible":Ht,"data-type":dt,"data-invert":ya,"data-swipe-out":Te,"data-swipe-direction":te,"data-expanded":!!(k||V&&Y),style:{"--index":b,"--toasts-before":b,"--z-index":C.length-b,"--offset":`${we?St:zn.current}px`,"--initial-height":V?"auto":`${qe}px`,...T,...g.style},onDragEnd:()=>{ne(!1),q(null),Tn.current=null},onPointerDown:Ee=>{Dt||!Ht||(X.current=new Date,Jt(zn.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(ne(!0),Tn.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,Ye,rt,ln;if(Te||!Ht)return;Tn.current=null;let ms=Number(((Ee=Ge.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pr=Number(((Ye=Ge.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ks=new Date().getTime()-((rt=X.current)==null?void 0:rt.getTime()),Zn=U==="x"?ms:Pr,Js=Math.abs(Zn)/ks;if(Math.abs(Zn)>=bz||Js>.11){Jt(zn.current),(ln=g.onDismiss)==null||ln.call(g,g),ve(U==="x"?ms>0?"right":"left":Pr>0?"down":"up"),Jn(),$e(!0),ut(!1);return}ne(!1),q(null)},onPointerMove:Ee=>{var Ye,rt,ln,ms;if(!Tn.current||!Ht||((Ye=window.getSelection())==null?void 0:Ye.toString().length)>0)return;let Pr=Ee.clientY-Tn.current.y,ks=Ee.clientX-Tn.current.x,Zn=(rt=t.swipeDirections)!=null?rt:Nz(F);!U&&(Math.abs(ks)>1||Math.abs(Pr)>1)&&q(Math.abs(ks)>Math.abs(Pr)?"x":"y");let Js={x:0,y:0};U==="y"?(Zn.includes("top")||Zn.includes("bottom"))&&(Zn.includes("top")&&Pr<0||Zn.includes("bottom")&&Pr>0)&&(Js.y=Pr):U==="x"&&(Zn.includes("left")||Zn.includes("right"))&&(Zn.includes("left")&&ks<0||Zn.includes("right")&&ks>0)&&(Js.x=ks),(Math.abs(Js.x)>0||Math.abs(Js.y)>0)&&ut(!0),(ln=Ge.current)==null||ln.style.setProperty("--swipe-amount-x",`${Js.x}px`),(ms=Ge.current)==null||ms.style.setProperty("--swipe-amount-y",`${Js.y}px`)}},fs&&!g.jsx?ee.createElement("button",{"aria-label":G,"data-disabled":Dt,"data-close-button":!0,onClick:Dt||!Ht?()=>{}:()=>{var Ee;Jn(),(Ee=g.onDismiss)==null||Ee.call(g,g)},className:er(M==null?void 0:M.closeButton,(r=g==null?void 0:g.classNames)==null?void 0:r.closeButton)},(o=$==null?void 0:$.close)!=null?o:az):null,g.jsx||p.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:ee.createElement(ee.Fragment,null,dt||g.icon||g.promise?ee.createElement("div",{"data-icon":"",className:er(M==null?void 0:M.icon,(a=g==null?void 0:g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||di():null,g.type!=="loading"?g.icon||($==null?void 0:$[dt])||ez(dt):null):null,ee.createElement("div",{"data-content":"",className:er(M==null?void 0:M.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},ee.createElement("div",{"data-title":"",className:er(M==null?void 0:M.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?ee.createElement("div",{"data-description":"",className:er(D,ui,M==null?void 0:M.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),p.isValidElement(g.cancel)?g.cancel:g.cancel&&lm(g.cancel)?ee.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||E,onClick:Ee=>{var Ye,rt;lm(g.cancel)&&Ht&&((rt=(Ye=g.cancel).onClick)==null||rt.call(Ye,Ee),Jn())},className:er(M==null?void 0:M.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,p.isValidElement(g.action)?g.action:g.action&&lm(g.action)?ee.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||P,onClick:Ee=>{var Ye,rt;lm(g.action)&&((rt=(Ye=g.action).onClick)==null||rt.call(Ye,Ee),!Ee.defaultPrevented&&Jn())},className:er(M==null?void 0:M.actionButton,(h=g==null?void 0:g.classNames)==null?void 0:h.actionButton)},g.action.label):null))};function nE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Sz(t,e){let n={};return[t,e].forEach((s,r)=>{let o=r===1,a=o?"--mobile-offset":"--offset",l=o?yz:xz;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):c(l)}),n}var Ez=p.forwardRef(function(t,e){let{invert:n,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:o,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:m,style:g,visibleToasts:y=gz,toastOptions:x,dir:w=nE(),gap:v=wz,loadingIcon:j,icons:b,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:k}=t,[I,_]=ee.useState([]),S=ee.useMemo(()=>Array.from(new Set([s].concat(I.filter(Z=>Z.position).map(Z=>Z.position)))),[I,s]),[T,E]=ee.useState([]),[P,R]=ee.useState(!1),[D,L]=ee.useState(!1),[F,W]=ee.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=ee.useRef(null),V=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=ee.useRef(null),$=ee.useRef(!1),G=ee.useCallback(Z=>{_(U=>{var q;return(q=U.find(te=>te.id===Z.id))!=null&&q.delete||es.dismiss(Z.id),U.filter(({id:te})=>te!==Z.id)})},[]);return ee.useEffect(()=>es.subscribe(Z=>{if(Z.dismiss){_(U=>U.map(q=>q.id===Z.id?{...q,delete:!0}:q));return}setTimeout(()=>{jk.flushSync(()=>{_(U=>{let q=U.findIndex(te=>te.id===Z.id);return q!==-1?[...U.slice(0,q),{...U[q],...Z},...U.slice(q+1)]:[Z,...U]})})})}),[]),ee.useEffect(()=>{if(d!=="system"){W(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:U})=>{W(U?"dark":"light")})}catch{Z.addListener(({matches:q})=>{try{W(q?"dark":"light")}catch(te){console.error(te)}})}},[d]),ee.useEffect(()=>{I.length<=1&&R(!1)},[I]),ee.useEffect(()=>{let Z=U=>{var q,te;r.every(ve=>U[ve]||U.code===ve)&&(R(!0),(q=B.current)==null||q.focus()),U.code==="Escape"&&(document.activeElement===B.current||(te=B.current)!=null&&te.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[r]),ee.useEffect(()=>{if(B.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,$.current=!1)}},[B.current]),ee.createElement("section",{ref:e,"aria-label":`${C} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((Z,U)=>{var q;let[te,ve]=Z.split("-");return I.length?ee.createElement("ol",{key:Z,dir:w==="auto"?nE():w,tabIndex:-1,ref:B,className:l,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":te,"data-lifted":P&&I.length>1&&!o,"data-x-position":ve,style:{"--front-toast-height":`${((q=T[0])==null?void 0:q.height)||0}px`,"--width":`${vz}px`,"--gap":`${v}px`,...g,...Sz(c,u)},onBlur:Y=>{$.current&&!Y.currentTarget.contains(Y.relatedTarget)&&($.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||$.current||($.current=!0,M.current=Y.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{D||R(!1)},onDragEnd:()=>R(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},I.filter(Y=>!Y.position&&U===0||Y.position===Z).map((Y,ye)=>{var we,Se;return ee.createElement(_z,{key:Y.id,icons:b,index:ye,toast:Y,defaultRichColors:h,duration:(we=x==null?void 0:x.duration)!=null?we:m,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:y,closeButton:(Se=x==null?void 0:x.closeButton)!=null?Se:a,interacting:D,position:Z,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:G,toasts:I.filter(be=>be.position==Y.position),heights:T.filter(be=>be.position==Y.position),setHeights:E,expandByDefault:o,gap:v,loadingIcon:j,expanded:P,pauseWhenPageIsHidden:k,swipeDirections:t.swipeDirections})})):null}))});const Tz=({...t})=>{const{theme:e="system"}=Z8();return i.jsx(Ez,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Cz=db[" useId ".trim().toString()]||(()=>{}),Az=0;function Ns(t){const[e,n]=p.useState(Cz());return $t(()=>{n(s=>s??String(Az++))},[t]),e?`radix-${e}`:""}const Pz=["top","right","bottom","left"],Qo=Math.min,xs=Math.max,Dp=Math.round,cm=Math.floor,Hr=t=>({x:t,y:t}),Iz={left:"right",right:"left",bottom:"top",top:"bottom"},kz={start:"end",end:"start"};function B0(t,e,n){return xs(t,Qo(e,n))}function ki(t,e){return typeof t=="function"?t(e):t}function Ri(t){return t.split("-")[0]}function pu(t){return t.split("-")[1]}function f1(t){return t==="x"?"y":"x"}function m1(t){return t==="y"?"height":"width"}const Rz=new Set(["top","bottom"]);function $r(t){return Rz.has(Ri(t))?"y":"x"}function p1(t){return f1($r(t))}function Dz(t,e,n){n===void 0&&(n=!1);const s=pu(t),r=p1(t),o=m1(r);let a=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=Mp(a)),[a,Mp(a)]}function Mz(t){const e=Mp(t);return[W0(t),e,W0(e)]}function W0(t){return t.replace(/start|end/g,e=>kz[e])}const sE=["left","right"],rE=["right","left"],Oz=["top","bottom"],Lz=["bottom","top"];function Vz(t,e,n){switch(t){case"top":case"bottom":return n?e?rE:sE:e?sE:rE;case"left":case"right":return e?Oz:Lz;default:return[]}}function Fz(t,e,n,s){const r=pu(t);let o=Vz(Ri(t),n==="start",s);return r&&(o=o.map(a=>a+"-"+r),e&&(o=o.concat(o.map(W0)))),o}function Mp(t){return t.replace(/left|right|bottom|top/g,e=>Iz[e])}function Uz(t){return{top:0,right:0,bottom:0,left:0,...t}}function g2(t){return typeof t!="number"?Uz(t):{top:t,right:t,bottom:t,left:t}}function Op(t){const{x:e,y:n,width:s,height:r}=t;return{width:s,height:r,top:n,left:e,right:e+s,bottom:n+r,x:e,y:n}}function iE(t,e,n){let{reference:s,floating:r}=t;const o=$r(e),a=p1(e),l=m1(a),c=Ri(e),u=o==="y",d=s.x+s.width/2-r.width/2,h=s.y+s.height/2-r.height/2,m=s[l]/2-r[l]/2;let g;switch(c){case"top":g={x:d,y:s.y-r.height};break;case"bottom":g={x:d,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:h};break;case"left":g={x:s.x-r.width,y:h};break;default:g={x:s.x,y:s.y}}switch(pu(e)){case"start":g[a]-=m*(n&&u?-1:1);break;case"end":g[a]+=m*(n&&u?-1:1);break}return g}const $z=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:d,y:h}=iE(u,s,c),m=s,g={},y=0;for(let x=0;x<l.length;x++){const{name:w,fn:v}=l[x],{x:j,y:b,data:C,reset:k}=await v({x:d,y:h,initialPlacement:s,placement:m,strategy:r,middlewareData:g,rects:u,platform:a,elements:{reference:t,floating:e}});d=j??d,h=b??h,g={...g,[w]:{...g[w],...C}},k&&y<=50&&(y++,typeof k=="object"&&(k.placement&&(m=k.placement),k.rects&&(u=k.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):k.rects),{x:d,y:h}=iE(u,m,c)),x=-1)}return{x:d,y:h,placement:m,strategy:r,middlewareData:g}};async function dh(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:o,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=ki(e,t),y=g2(g),w=l[m?h==="floating"?"reference":"floating":h],v=Op(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),j=h==="floating"?{x:s,y:r,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),C=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},k=Op(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:b,strategy:c}):j);return{top:(v.top-k.top+y.top)/C.y,bottom:(k.bottom-v.bottom+y.bottom)/C.y,left:(v.left-k.left+y.left)/C.x,right:(k.right-v.right+y.right)/C.x}}const zz=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:o,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=ki(t,e)||{};if(u==null)return{};const h=g2(d),m={x:n,y:s},g=p1(r),y=m1(g),x=await a.getDimensions(u),w=g==="y",v=w?"top":"left",j=w?"bottom":"right",b=w?"clientHeight":"clientWidth",C=o.reference[y]+o.reference[g]-m[g]-o.floating[y],k=m[g]-o.reference[g],I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let _=I?I[b]:0;(!_||!await(a.isElement==null?void 0:a.isElement(I)))&&(_=l.floating[b]||o.floating[y]);const S=C/2-k/2,T=_/2-x[y]/2-1,E=Qo(h[v],T),P=Qo(h[j],T),R=E,D=_-x[y]-P,L=_/2-x[y]/2+S,F=B0(R,L,D),W=!c.arrow&&pu(r)!=null&&L!==F&&o.reference[y]/2-(L<R?E:P)-x[y]/2<0,B=W?L<R?L-R:L-D:0;return{[g]:m[g]+B,data:{[g]:F,centerOffset:L-F-B,...W&&{alignmentOffset:B}},reset:W}}}),Bz=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...w}=ki(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=Ri(r),j=$r(l),b=Ri(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=m||(b||!x?[Mp(l)]:Mz(l)),I=y!=="none";!m&&I&&k.push(...Fz(l,x,y,C));const _=[l,...k],S=await dh(e,w),T=[];let E=((s=o.flip)==null?void 0:s.overflows)||[];if(d&&T.push(S[v]),h){const L=Dz(r,a,C);T.push(S[L[0]],S[L[1]])}if(E=[...E,{placement:r,overflows:T}],!T.every(L=>L<=0)){var P,R;const L=(((P=o.flip)==null?void 0:P.index)||0)+1,F=_[L];if(F&&(!(h==="alignment"?j!==$r(F):!1)||E.every(V=>V.overflows[0]>0&&$r(V.placement)===j)))return{data:{index:L,overflows:E},reset:{placement:F}};let W=(R=E.filter(B=>B.overflows[0]<=0).sort((B,V)=>B.overflows[1]-V.overflows[1])[0])==null?void 0:R.placement;if(!W)switch(g){case"bestFit":{var D;const B=(D=E.filter(V=>{if(I){const M=$r(V.placement);return M===j||M==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(M=>M>0).reduce((M,$)=>M+$,0)]).sort((V,M)=>V[1]-M[1])[0])==null?void 0:D[0];B&&(W=B);break}case"initialPlacement":W=l;break}if(r!==W)return{reset:{placement:W}}}return{}}}};function oE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function aE(t){return Pz.some(e=>t[e]>=0)}const Wz=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...r}=ki(t,e);switch(s){case"referenceHidden":{const o=await dh(e,{...r,elementContext:"reference"}),a=oE(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:aE(a)}}}case"escaped":{const o=await dh(e,{...r,altBoundary:!0}),a=oE(o,n.floating);return{data:{escapedOffsets:a,escaped:aE(a)}}}default:return{}}}}},x2=new Set(["left","top"]);async function Hz(t,e){const{placement:n,platform:s,elements:r}=t,o=await(s.isRTL==null?void 0:s.isRTL(r.floating)),a=Ri(n),l=pu(n),c=$r(n)==="y",u=x2.has(a)?-1:1,d=o&&c?-1:1,h=ki(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(g=l==="end"?y*-1:y),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const qz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:r,y:o,placement:a,middlewareData:l}=e,c=await Hz(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:o+c.y,data:{...c,placement:a}}}}},Gz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:w=>{let{x:v,y:j}=w;return{x:v,y:j}}},...c}=ki(t,e),u={x:n,y:s},d=await dh(e,c),h=$r(Ri(r)),m=f1(h);let g=u[m],y=u[h];if(o){const w=m==="y"?"top":"left",v=m==="y"?"bottom":"right",j=g+d[w],b=g-d[v];g=B0(j,g,b)}if(a){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",j=y+d[w],b=y-d[v];y=B0(j,y,b)}const x=l.fn({...e,[m]:g,[h]:y});return{...x,data:{x:x.x-n,y:x.y-s,enabled:{[m]:o,[h]:a}}}}}},Kz=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:r,rects:o,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ki(t,e),d={x:n,y:s},h=$r(r),m=f1(h);let g=d[m],y=d[h];const x=ki(l,e),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const b=m==="y"?"height":"width",C=o.reference[m]-o.floating[b]+w.mainAxis,k=o.reference[m]+o.reference[b]-w.mainAxis;g<C?g=C:g>k&&(g=k)}if(u){var v,j;const b=m==="y"?"width":"height",C=x2.has(Ri(r)),k=o.reference[h]-o.floating[b]+(C&&((v=a.offset)==null?void 0:v[h])||0)+(C?0:w.crossAxis),I=o.reference[h]+o.reference[b]+(C?0:((j=a.offset)==null?void 0:j[h])||0)-(C?w.crossAxis:0);y<k?y=k:y>I&&(y=I)}return{[m]:g,[h]:y}}}},Yz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:r,rects:o,platform:a,elements:l}=e,{apply:c=()=>{},...u}=ki(t,e),d=await dh(e,u),h=Ri(r),m=pu(r),g=$r(r)==="y",{width:y,height:x}=o.floating;let w,v;h==="top"||h==="bottom"?(w=h,v=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,w=m==="end"?"top":"bottom");const j=x-d.top-d.bottom,b=y-d.left-d.right,C=Qo(x-d[w],j),k=Qo(y-d[v],b),I=!e.middlewareData.shift;let _=C,S=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=b),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(_=j),I&&!m){const E=xs(d.left,0),P=xs(d.right,0),R=xs(d.top,0),D=xs(d.bottom,0);g?S=y-2*(E!==0||P!==0?E+P:xs(d.left,d.right)):_=x-2*(R!==0||D!==0?R+D:xs(d.top,d.bottom))}await c({...e,availableWidth:S,availableHeight:_});const T=await a.getDimensions(l.floating);return y!==T.width||x!==T.height?{reset:{rects:!0}}:{}}}};function Hg(){return typeof window<"u"}function gu(t){return y2(t)?(t.nodeName||"").toLowerCase():"#document"}function _s(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ii(t){var e;return(e=(y2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function y2(t){return Hg()?t instanceof Node||t instanceof _s(t).Node:!1}function br(t){return Hg()?t instanceof Element||t instanceof _s(t).Element:!1}function ti(t){return Hg()?t instanceof HTMLElement||t instanceof _s(t).HTMLElement:!1}function lE(t){return!Hg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _s(t).ShadowRoot}const Qz=new Set(["inline","contents"]);function Xh(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=jr(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!Qz.has(r)}const Xz=new Set(["table","td","th"]);function Jz(t){return Xz.has(gu(t))}const Zz=[":popover-open",":modal"];function qg(t){return Zz.some(e=>{try{return t.matches(e)}catch{return!1}})}const eB=["transform","translate","scale","rotate","perspective"],tB=["transform","translate","scale","rotate","perspective","filter"],nB=["paint","layout","strict","content"];function g1(t){const e=x1(),n=br(t)?jr(t):t;return eB.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||tB.some(s=>(n.willChange||"").includes(s))||nB.some(s=>(n.contain||"").includes(s))}function sB(t){let e=Xo(t);for(;ti(e)&&!Xc(e);){if(g1(e))return e;if(qg(e))return null;e=Xo(e)}return null}function x1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rB=new Set(["html","body","#document"]);function Xc(t){return rB.has(gu(t))}function jr(t){return _s(t).getComputedStyle(t)}function Gg(t){return br(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xo(t){if(gu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||lE(t)&&t.host||ii(t);return lE(e)?e.host:e}function v2(t){const e=Xo(t);return Xc(e)?t.ownerDocument?t.ownerDocument.body:t.body:ti(e)&&Xh(e)?e:v2(e)}function hh(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=v2(t),o=r===((s=t.ownerDocument)==null?void 0:s.body),a=_s(r);if(o){const l=H0(a);return e.concat(a,a.visualViewport||[],Xh(r)?r:[],l&&n?hh(l):[])}return e.concat(r,hh(r,[],n))}function H0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function w2(t){const e=jr(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=ti(t),o=r?t.offsetWidth:n,a=r?t.offsetHeight:s,l=Dp(n)!==o||Dp(s)!==a;return l&&(n=o,s=a),{width:n,height:s,$:l}}function y1(t){return br(t)?t:t.contextElement}function Ec(t){const e=y1(t);if(!ti(e))return Hr(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:o}=w2(e);let a=(o?Dp(n.width):n.width)/s,l=(o?Dp(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const iB=Hr(0);function b2(t){const e=_s(t);return!x1()||!e.visualViewport?iB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function oB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_s(t)?!1:e}function cl(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=y1(t);let a=Hr(1);e&&(s?br(s)&&(a=Ec(s)):a=Ec(t));const l=oB(o,n,s)?b2(o):Hr(0);let c=(r.left+l.x)/a.x,u=(r.top+l.y)/a.y,d=r.width/a.x,h=r.height/a.y;if(o){const m=_s(o),g=s&&br(s)?_s(s):s;let y=m,x=H0(y);for(;x&&s&&g!==y;){const w=Ec(x),v=x.getBoundingClientRect(),j=jr(x),b=v.left+(x.clientLeft+parseFloat(j.paddingLeft))*w.x,C=v.top+(x.clientTop+parseFloat(j.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,h*=w.y,c+=b,u+=C,y=_s(x),x=H0(y)}}return Op({width:d,height:h,x:c,y:u})}function v1(t,e){const n=Gg(t).scrollLeft;return e?e.left+n:cl(ii(t)).left+n}function j2(t,e,n){n===void 0&&(n=!1);const s=t.getBoundingClientRect(),r=s.left+e.scrollLeft-(n?0:v1(t,s)),o=s.top+e.scrollTop;return{x:r,y:o}}function aB(t){let{elements:e,rect:n,offsetParent:s,strategy:r}=t;const o=r==="fixed",a=ii(s),l=e?qg(e.floating):!1;if(s===a||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Hr(1);const d=Hr(0),h=ti(s);if((h||!h&&!o)&&((gu(s)!=="body"||Xh(a))&&(c=Gg(s)),ti(s))){const g=cl(s);u=Ec(s),d.x=g.x+s.clientLeft,d.y=g.y+s.clientTop}const m=a&&!h&&!o?j2(a,c,!0):Hr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function lB(t){return Array.from(t.getClientRects())}function cB(t){const e=ii(t),n=Gg(t),s=t.ownerDocument.body,r=xs(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=xs(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-n.scrollLeft+v1(t);const l=-n.scrollTop;return jr(s).direction==="rtl"&&(a+=xs(e.clientWidth,s.clientWidth)-r),{width:r,height:o,x:a,y:l}}function uB(t,e){const n=_s(t),s=ii(t),r=n.visualViewport;let o=s.clientWidth,a=s.clientHeight,l=0,c=0;if(r){o=r.width,a=r.height;const u=x1();(!u||u&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:o,height:a,x:l,y:c}}const dB=new Set(["absolute","fixed"]);function hB(t,e){const n=cl(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,o=ti(t)?Ec(t):Hr(1),a=t.clientWidth*o.x,l=t.clientHeight*o.y,c=r*o.x,u=s*o.y;return{width:a,height:l,x:c,y:u}}function cE(t,e,n){let s;if(e==="viewport")s=uB(t,n);else if(e==="document")s=cB(ii(t));else if(br(e))s=hB(e,n);else{const r=b2(t);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Op(s)}function N2(t,e){const n=Xo(t);return n===e||!br(n)||Xc(n)?!1:jr(n).position==="fixed"||N2(n,e)}function fB(t,e){const n=e.get(t);if(n)return n;let s=hh(t,[],!1).filter(l=>br(l)&&gu(l)!=="body"),r=null;const o=jr(t).position==="fixed";let a=o?Xo(t):t;for(;br(a)&&!Xc(a);){const l=jr(a),c=g1(a);!c&&l.position==="fixed"&&(r=null),(o?!c&&!r:!c&&l.position==="static"&&!!r&&dB.has(r.position)||Xh(a)&&!c&&N2(t,a))?s=s.filter(d=>d!==a):r=l,a=Xo(a)}return e.set(t,s),s}function mB(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const a=[...n==="clippingAncestors"?qg(e)?[]:fB(e,this._c):[].concat(n),s],l=a[0],c=a.reduce((u,d)=>{const h=cE(e,d,r);return u.top=xs(h.top,u.top),u.right=Qo(h.right,u.right),u.bottom=Qo(h.bottom,u.bottom),u.left=xs(h.left,u.left),u},cE(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function pB(t){const{width:e,height:n}=w2(t);return{width:e,height:n}}function gB(t,e,n){const s=ti(e),r=ii(e),o=n==="fixed",a=cl(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=Hr(0);function u(){c.x=v1(r)}if(s||!s&&!o)if((gu(e)!=="body"||Xh(r))&&(l=Gg(e)),s){const g=cl(e,!0,o,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else r&&u();o&&!s&&r&&u();const d=r&&!s&&!o?j2(r,l):Hr(0),h=a.left+l.scrollLeft-c.x-d.x,m=a.top+l.scrollTop-c.y-d.y;return{x:h,y:m,width:a.width,height:a.height}}function Gy(t){return jr(t).position==="static"}function uE(t,e){if(!ti(t)||jr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ii(t)===n&&(n=n.ownerDocument.body),n}function _2(t,e){const n=_s(t);if(qg(t))return n;if(!ti(t)){let r=Xo(t);for(;r&&!Xc(r);){if(br(r)&&!Gy(r))return r;r=Xo(r)}return n}let s=uE(t,e);for(;s&&Jz(s)&&Gy(s);)s=uE(s,e);return s&&Xc(s)&&Gy(s)&&!g1(s)?n:s||sB(t)||n}const xB=async function(t){const e=this.getOffsetParent||_2,n=this.getDimensions,s=await n(t.floating);return{reference:gB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function yB(t){return jr(t).direction==="rtl"}const vB={convertOffsetParentRelativeRectToViewportRelativeRect:aB,getDocumentElement:ii,getClippingRect:mB,getOffsetParent:_2,getElementRects:xB,getClientRects:lB,getDimensions:pB,getScale:Ec,isElement:br,isRTL:yB};function S2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function wB(t,e){let n=null,s;const r=ii(t);function o(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:d,top:h,width:m,height:g}=u;if(l||e(),!m||!g)return;const y=cm(h),x=cm(r.clientWidth-(d+m)),w=cm(r.clientHeight-(h+g)),v=cm(d),b={rootMargin:-y+"px "+-x+"px "+-w+"px "+-v+"px",threshold:xs(0,Qo(1,c))||1};let C=!0;function k(I){const _=I[0].intersectionRatio;if(_!==c){if(!C)return a();_?a(!1,_):s=setTimeout(()=>{a(!1,1e-7)},1e3)}_===1&&!S2(u,t.getBoundingClientRect())&&a(),C=!1}try{n=new IntersectionObserver(k,{...b,root:r.ownerDocument})}catch{n=new IntersectionObserver(k,b)}n.observe(t)}return a(!0),o}function bB(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=y1(t),d=r||o?[...u?hh(u):[],...hh(e)]:[];d.forEach(v=>{r&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const h=u&&l?wB(u,n):null;let m=-1,g=null;a&&(g=new ResizeObserver(v=>{let[j]=v;j&&j.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let y,x=c?cl(t):null;c&&w();function w(){const v=cl(t);x&&!S2(x,v)&&n(),x=v,y=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(j=>{r&&j.removeEventListener("scroll",n),o&&j.removeEventListener("resize",n)}),h==null||h(),(v=g)==null||v.disconnect(),g=null,c&&cancelAnimationFrame(y)}}const jB=qz,NB=Gz,_B=Bz,SB=Yz,EB=Wz,dE=zz,TB=Kz,CB=(t,e,n)=>{const s=new Map,r={platform:vB,...n},o={...r.platform,_c:s};return $z(t,e,{...r,platform:o})};var AB=typeof document<"u",PB=function(){},zm=AB?p.useLayoutEffect:PB;function Lp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Lp(t[s],e[s]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=n;s--!==0;){const o=r[s];if(!(o==="_owner"&&t.$$typeof)&&!Lp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function E2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hE(t,e){const n=E2(t);return Math.round(e*n)/n}function Ky(t){const e=p.useRef(t);return zm(()=>{e.current=t}),e}function IB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=p.useState(s);Lp(m,s)||g(s);const[y,x]=p.useState(null),[w,v]=p.useState(null),j=p.useCallback(V=>{V!==I.current&&(I.current=V,x(V))},[]),b=p.useCallback(V=>{V!==_.current&&(_.current=V,v(V))},[]),C=o||y,k=a||w,I=p.useRef(null),_=p.useRef(null),S=p.useRef(d),T=c!=null,E=Ky(c),P=Ky(r),R=Ky(u),D=p.useCallback(()=>{if(!I.current||!_.current)return;const V={placement:e,strategy:n,middleware:m};P.current&&(V.platform=P.current),CB(I.current,_.current,V).then(M=>{const $={...M,isPositioned:R.current!==!1};L.current&&!Lp(S.current,$)&&(S.current=$,El.flushSync(()=>{h($)}))})},[m,e,n,P,R]);zm(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[u]);const L=p.useRef(!1);zm(()=>(L.current=!0,()=>{L.current=!1}),[]),zm(()=>{if(C&&(I.current=C),k&&(_.current=k),C&&k){if(E.current)return E.current(C,k,D);D()}},[C,k,D,E,T]);const F=p.useMemo(()=>({reference:I,floating:_,setReference:j,setFloating:b}),[j,b]),W=p.useMemo(()=>({reference:C,floating:k}),[C,k]),B=p.useMemo(()=>{const V={position:n,left:0,top:0};if(!W.floating)return V;const M=hE(W.floating,d.x),$=hE(W.floating,d.y);return l?{...V,transform:"translate("+M+"px, "+$+"px)",...E2(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:$}},[n,l,W.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:D,refs:F,elements:W,floatingStyles:B}),[d,D,F,W,B])}const kB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:r}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?dE({element:s.current,padding:r}).fn(n):{}:s?dE({element:s,padding:r}).fn(n):{}}}},RB=(t,e)=>({...jB(t),options:[t,e]}),DB=(t,e)=>({...NB(t),options:[t,e]}),MB=(t,e)=>({...TB(t),options:[t,e]}),OB=(t,e)=>({..._B(t),options:[t,e]}),LB=(t,e)=>({...SB(t),options:[t,e]}),VB=(t,e)=>({...EB(t),options:[t,e]}),FB=(t,e)=>({...kB(t),options:[t,e]});var UB="Arrow",T2=p.forwardRef((t,e)=>{const{children:n,width:s=10,height:r=5,...o}=t;return i.jsx(pe.svg,{...o,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});T2.displayName=UB;var $B=T2;function w1(t){const[e,n]=p.useState(void 0);return $t(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const o=r[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var b1="Popper",[C2,ua]=mn(b1),[zB,A2]=C2(b1),P2=t=>{const{__scopePopper:e,children:n}=t,[s,r]=p.useState(null);return i.jsx(zB,{scope:e,anchor:s,onAnchorChange:r,children:n})};P2.displayName=b1;var I2="PopperAnchor",k2=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...r}=t,o=A2(I2,n),a=p.useRef(null),l=Ie(e,a);return p.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||a.current)}),s?null:i.jsx(pe.div,{...r,ref:l})});k2.displayName=I2;var j1="PopperContent",[BB,WB]=C2(j1),R2=p.forwardRef((t,e)=>{var Y,ye,we,Se,be,ne;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:y,...x}=t,w=A2(j1,n),[v,j]=p.useState(null),b=Ie(e,Te=>j(Te)),[C,k]=p.useState(null),I=w1(C),_=(I==null?void 0:I.width)??0,S=(I==null?void 0:I.height)??0,T=s+(o!=="center"?"-"+o:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],R=P.length>0,D={padding:E,boundary:P.filter(qB),altBoundary:R},{refs:L,floatingStyles:F,placement:W,isPositioned:B,middlewareData:V}=IB({strategy:"fixed",placement:T,whileElementsMounted:(...Te)=>bB(...Te,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[RB({mainAxis:r+S,alignmentAxis:a}),c&&DB({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?MB():void 0,...D}),c&&OB({...D}),LB({...D,apply:({elements:Te,rects:$e,availableWidth:ot,availableHeight:ut})=>{const{width:St,height:Jt}=$e.reference,qe=Te.floating.style;qe.setProperty("--radix-popper-available-width",`${ot}px`),qe.setProperty("--radix-popper-available-height",`${ut}px`),qe.setProperty("--radix-popper-anchor-width",`${St}px`),qe.setProperty("--radix-popper-anchor-height",`${Jt}px`)}}),C&&FB({element:C,padding:l}),GB({arrowWidth:_,arrowHeight:S}),m&&VB({strategy:"referenceHidden",...D})]}),[M,$]=O2(W),G=Ft(y);$t(()=>{B&&(G==null||G())},[B,G]);const Z=(Y=V.arrow)==null?void 0:Y.x,U=(ye=V.arrow)==null?void 0:ye.y,q=((we=V.arrow)==null?void 0:we.centerOffset)!==0,[te,ve]=p.useState();return $t(()=>{v&&ve(window.getComputedStyle(v).zIndex)},[v]),i.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:B?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(Se=V.transformOrigin)==null?void 0:Se.x,(be=V.transformOrigin)==null?void 0:be.y].join(" "),...((ne=V.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(BB,{scope:n,placedSide:M,onArrowChange:k,arrowX:Z,arrowY:U,shouldHideArrow:q,children:i.jsx(pe.div,{"data-side":M,"data-align":$,...x,ref:b,style:{...x.style,animation:B?void 0:"none"}})})})});R2.displayName=j1;var D2="PopperArrow",HB={top:"bottom",right:"left",bottom:"top",left:"right"},M2=p.forwardRef(function(e,n){const{__scopePopper:s,...r}=e,o=WB(D2,s),a=HB[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx($B,{...r,ref:n,style:{...r.style,display:"block"}})})});M2.displayName=D2;function qB(t){return t!==null}var GB=t=>({name:"transformOrigin",options:t,fn(e){var w,v,j;const{placement:n,rects:s,middlewareData:r}=e,a=((w=r.arrow)==null?void 0:w.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=O2(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(((v=r.arrow)==null?void 0:v.x)??0)+l/2,g=(((j=r.arrow)==null?void 0:j.y)??0)+c/2;let y="",x="";return u==="bottom"?(y=a?h:`${m}px`,x=`${-c}px`):u==="top"?(y=a?h:`${m}px`,x=`${s.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=a?h:`${g}px`):u==="left"&&(y=`${s.floating.width+c}px`,x=a?h:`${g}px`),{data:{x:y,y:x}}}});function O2(t){const[e,n="center"]=t.split("-");return[e,n]}var N1=P2,Jh=k2,Kg=R2,Yg=M2,[Qg]=mn("Tooltip",[ua]),_1=ua(),L2="TooltipProvider",KB=700,fE="tooltip.open",[YB,V2]=Qg(L2),F2=t=>{const{__scopeTooltip:e,delayDuration:n=KB,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:o}=t,a=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(YB,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:r,children:o})};F2.displayName=L2;var U2="Tooltip",[Dde,Xg]=Qg(U2),q0="TooltipTrigger",QB=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=Xg(q0,n),o=V2(q0,n),a=_1(n),l=p.useRef(null),c=Ie(e,l,r.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),h=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),i.jsx(Jh,{asChild:!0,...a,children:i.jsx(pe.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:c,onPointerMove:se(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:se(t.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:se(t.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:se(t.onFocus,()=>{u.current||r.onOpen()}),onBlur:se(t.onBlur,r.onClose),onClick:se(t.onClick,r.onClose)})})});QB.displayName=q0;var XB="TooltipPortal",[Mde,JB]=Qg(XB,{forceMount:void 0}),Jc="TooltipContent",$2=p.forwardRef((t,e)=>{const n=JB(Jc,t.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...o}=t,a=Xg(Jc,t.__scopeTooltip);return i.jsx(an,{present:s||a.open,children:a.disableHoverableContent?i.jsx(z2,{side:r,...o,ref:e}):i.jsx(ZB,{side:r,...o,ref:e})})}),ZB=p.forwardRef((t,e)=>{const n=Xg(Jc,t.__scopeTooltip),s=V2(Jc,t.__scopeTooltip),r=p.useRef(null),o=Ie(e,r),[a,l]=p.useState(null),{trigger:c,onClose:u}=n,d=r.current,{onPointerInTransitChange:h}=s,m=p.useCallback(()=>{l(null),h(!1)},[h]),g=p.useCallback((y,x)=>{const w=y.currentTarget,v={x:y.clientX,y:y.clientY},j=r7(v,w.getBoundingClientRect()),b=i7(v,j),C=o7(x.getBoundingClientRect()),k=l7([...b,...C]);l(k),h(!0)},[h]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&d){const y=w=>g(w,d),x=w=>g(w,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[c,d,g,m]),p.useEffect(()=>{if(a){const y=x=>{const w=x.target,v={x:x.clientX,y:x.clientY},j=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),b=!a7(v,a);j?m():b&&(m(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,a,u,m]),i.jsx(z2,{...t,ref:o})}),[e7,t7]=Qg(U2,{isInside:!1}),n7=Sk("TooltipContent"),z2=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:o,onPointerDownOutside:a,...l}=t,c=Xg(Jc,n),u=_1(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(fE,d),()=>document.removeEventListener(fE,d)),[d]),p.useEffect(()=>{if(c.trigger){const h=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),i.jsx(Tl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:i.jsxs(Kg,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(n7,{children:s}),i.jsx(e7,{scope:n,isInside:!0,children:i.jsx(h$,{id:c.contentId,role:"tooltip",children:r||s})})]})})});$2.displayName=Jc;var B2="TooltipArrow",s7=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=_1(n);return t7(B2,n).isInside?null:i.jsx(Yg,{...r,...s,ref:e})});s7.displayName=B2;function r7(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,s,r,o)){case o:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function i7(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function o7(t){const{top:e,right:n,bottom:s,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:s},{x:r,y:s}]}function a7(t,e){const{x:n,y:s}=t;let r=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const l=e[o],c=e[a],u=l.x,d=l.y,h=c.x,m=c.y;d>s!=m>s&&n<(h-u)*(s-d)/(m-d)+u&&(r=!r)}return r}function l7(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),c7(e)}function c7(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const r=t[s];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(r.y-a.y)>=(o.y-a.y)*(r.x-a.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const r=t[s];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(r.y-a.y)>=(o.y-a.y)*(r.x-a.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var u7=F2,W2=$2;const d7=u7,h7=p.forwardRef(({className:t,sideOffset:e=4,...n},s)=>i.jsx(W2,{ref:s,sideOffset:e,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));h7.displayName=W2.displayName;var Jg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zg=typeof window>"u"||"Deno"in globalThis;function ir(){}function f7(t,e){return typeof t=="function"?t(e):t}function m7(t){return typeof t=="number"&&t>=0&&t!==1/0}function p7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function G0(t,e){return typeof t=="function"?t(e):t}function g7(t,e){return typeof t=="function"?t(e):t}function mE(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:o,queryKey:a,stale:l}=t;if(a){if(s){if(e.queryHash!==S1(a,e.options))return!1}else if(!mh(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||r&&r!==e.state.fetchStatus||o&&!o(e))}function pE(t,e){const{exact:n,status:s,predicate:r,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(fh(e.options.mutationKey)!==fh(o))return!1}else if(!mh(e.options.mutationKey,o))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function S1(t,e){return((e==null?void 0:e.queryKeyHashFn)||fh)(t)}function fh(t){return JSON.stringify(t,(e,n)=>K0(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function mh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>mh(t[n],e[n])):!1}function H2(t,e){if(t===e)return t;const n=gE(t)&&gE(e);if(n||K0(t)&&K0(e)){const s=n?t:Object.keys(t),r=s.length,o=n?e:Object.keys(e),a=o.length,l=n?[]:{},c=new Set(s);let u=0;for(let d=0;d<a;d++){const h=n?d:o[d];(!n&&c.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,u++):(l[h]=H2(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&u++)}return r===a&&u===r?t:l}return e}function gE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function K0(t){if(!xE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!xE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xE(t){return Object.prototype.toString.call(t)==="[object Object]"}function x7(t){return new Promise(e=>{setTimeout(e,t)})}function y7(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?H2(t,e):e}function v7(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function w7(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var E1=Symbol();function q2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===E1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var za,wo,Dc,tP,b7=(tP=class extends Jg{constructor(){super();Je(this,za);Je(this,wo);Je(this,Dc);Oe(this,Dc,e=>{if(!Zg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Q(this,wo)||this.setEventListener(Q(this,Dc))}onUnsubscribe(){var e;this.hasListeners()||((e=Q(this,wo))==null||e.call(this),Oe(this,wo,void 0))}setEventListener(e){var n;Oe(this,Dc,e),(n=Q(this,wo))==null||n.call(this),Oe(this,wo,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){Q(this,za)!==e&&(Oe(this,za,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Q(this,za)=="boolean"?Q(this,za):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},za=new WeakMap,wo=new WeakMap,Dc=new WeakMap,tP),G2=new b7,Mc,bo,Oc,nP,j7=(nP=class extends Jg{constructor(){super();Je(this,Mc,!0);Je(this,bo);Je(this,Oc);Oe(this,Oc,e=>{if(!Zg&&window.addEventListener){const n=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){Q(this,bo)||this.setEventListener(Q(this,Oc))}onUnsubscribe(){var e;this.hasListeners()||((e=Q(this,bo))==null||e.call(this),Oe(this,bo,void 0))}setEventListener(e){var n;Oe(this,Oc,e),(n=Q(this,bo))==null||n.call(this),Oe(this,bo,e(this.setOnline.bind(this)))}setOnline(e){Q(this,Mc)!==e&&(Oe(this,Mc,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return Q(this,Mc)}},Mc=new WeakMap,bo=new WeakMap,Oc=new WeakMap,nP),Vp=new j7;function N7(){let t,e;const n=new Promise((r,o)=>{t=r,e=o});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},n.reject=r=>{s({status:"rejected",reason:r}),e(r)},n}function _7(t){return Math.min(1e3*2**t,3e4)}function K2(t){return(t??"online")==="online"?Vp.isOnline():!0}var Y2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Yy(t){return t instanceof Y2}function Q2(t){let e=!1,n=0,s=!1,r;const o=N7(),a=x=>{var w;s||(m(new Y2(x)),(w=t.abort)==null||w.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>G2.isFocused()&&(t.networkMode==="always"||Vp.isOnline())&&t.canRun(),d=()=>K2(t.networkMode)&&t.canRun(),h=x=>{var w;s||(s=!0,(w=t.onSuccess)==null||w.call(t,x),r==null||r(),o.resolve(x))},m=x=>{var w;s||(s=!0,(w=t.onError)==null||w.call(t,x),r==null||r(),o.reject(x))},g=()=>new Promise(x=>{var w;r=v=>{(s||u())&&x(v)},(w=t.onPause)==null||w.call(t)}).then(()=>{var x;r=void 0,s||(x=t.onContinue)==null||x.call(t)}),y=()=>{if(s)return;let x;const w=n===0?t.initialPromise:void 0;try{x=w??t.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(h).catch(v=>{var I;if(s)return;const j=t.retry??(Zg?0:3),b=t.retryDelay??_7,C=typeof b=="function"?b(n,v):b,k=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,v);if(e||!k){m(v);return}n++,(I=t.onFail)==null||I.call(t,n,v),x7(C).then(()=>u()?void 0:g()).then(()=>{e?m(v):y()})})};return{promise:o,cancel:a,continue:()=>(r==null||r(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():g().then(y),o)}}var S7=t=>setTimeout(t,0);function E7(){let t=[],e=0,n=l=>{l()},s=l=>{l()},r=S7;const o=l=>{e?t.push(l):r(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&r(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{r=l}}}var Hn=E7(),Ba,sP,X2=(sP=class{constructor(){Je(this,Ba)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),m7(this.gcTime)&&Oe(this,Ba,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Zg?1/0:5*60*1e3))}clearGcTimeout(){Q(this,Ba)&&(clearTimeout(Q(this,Ba)),Oe(this,Ba,void 0))}},Ba=new WeakMap,sP),Lc,Wa,Ds,Ha,kn,Uh,qa,or,fi,rP,T7=(rP=class extends X2{constructor(n){super();Je(this,or);Je(this,Lc);Je(this,Wa);Je(this,Ds);Je(this,Ha);Je(this,kn);Je(this,Uh);Je(this,qa);Oe(this,qa,!1),Oe(this,Uh,n.defaultOptions),this.setOptions(n.options),this.observers=[],Oe(this,Ha,n.client),Oe(this,Ds,Q(this,Ha).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Oe(this,Lc,A7(this.options)),this.state=n.state??Q(this,Lc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Q(this,kn))==null?void 0:n.promise}setOptions(n){this.options={...Q(this,Uh),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,Ds).remove(this)}setData(n,s){const r=y7(this.state.data,n,this.options);return Cn(this,or,fi).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(n,s){Cn(this,or,fi).call(this,{type:"setState",state:n,setStateOptions:s})}cancel(n){var r,o;const s=(r=Q(this,kn))==null?void 0:r.promise;return(o=Q(this,kn))==null||o.cancel(n),s?s.then(ir).catch(ir):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,Lc))}isActive(){return this.observers.some(n=>g7(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===E1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>G0(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!p7(this.state.dataUpdatedAt,n)}onFocus(){var s;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(s=Q(this,kn))==null||s.continue()}onOnline(){var s;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(s=Q(this,kn))==null||s.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Q(this,Ds).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(s=>s!==n),this.observers.length||(Q(this,kn)&&(Q(this,qa)?Q(this,kn).cancel({revert:!0}):Q(this,kn).cancelRetry()),this.scheduleGc()),Q(this,Ds).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Cn(this,or,fi).call(this,{type:"invalidate"})}fetch(n,s){var d,h,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(Q(this,kn))return Q(this,kn).continueRetry(),Q(this,kn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(y=>y.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,o=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Oe(this,qa,!0),r.signal)})},a=()=>{const g=q2(this.options,s),x=(()=>{const w={client:Q(this,Ha),queryKey:this.queryKey,meta:this.meta};return o(w),w})();return Oe(this,qa,!1),this.options.persister?this.options.persister(g,x,this):g(x)},c=(()=>{const g={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:Q(this,Ha),state:this.state,fetchFn:a};return o(g),g})();(d=this.options.behavior)==null||d.onFetch(c,this),Oe(this,Wa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=c.fetchOptions)==null?void 0:h.meta))&&Cn(this,or,fi).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const u=g=>{var y,x,w,v;Yy(g)&&g.silent||Cn(this,or,fi).call(this,{type:"error",error:g}),Yy(g)||((x=(y=Q(this,Ds).config).onError)==null||x.call(y,g,this),(v=(w=Q(this,Ds).config).onSettled)==null||v.call(w,this.state.data,g,this)),this.scheduleGc()};return Oe(this,kn,Q2({initialPromise:s==null?void 0:s.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var y,x,w,v;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(j){u(j);return}(x=(y=Q(this,Ds).config).onSuccess)==null||x.call(y,g,this),(v=(w=Q(this,Ds).config).onSettled)==null||v.call(w,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,y)=>{Cn(this,or,fi).call(this,{type:"failed",failureCount:g,error:y})},onPause:()=>{Cn(this,or,fi).call(this,{type:"pause"})},onContinue:()=>{Cn(this,or,fi).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),Q(this,kn).start()}},Lc=new WeakMap,Wa=new WeakMap,Ds=new WeakMap,Ha=new WeakMap,kn=new WeakMap,Uh=new WeakMap,qa=new WeakMap,or=new WeakSet,fi=function(n){const s=r=>{switch(n.type){case"failed":return{...r,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...C7(r.data,this.options),fetchMeta:n.meta??null};case"success":return Oe(this,Wa,void 0),{...r,data:n.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=n.error;return Yy(o)&&o.revert&&Q(this,Wa)?{...Q(this,Wa),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...n.state}}};this.state=s(this.state),Hn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Q(this,Ds).notify({query:this,type:"updated",action:n})})},rP);function C7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:K2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function A7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Or,iP,P7=(iP=class extends Jg{constructor(e={}){super();Je(this,Or);this.config=e,Oe(this,Or,new Map)}build(e,n,s){const r=n.queryKey,o=n.queryHash??S1(r,n);let a=this.get(o);return a||(a=new T7({client:e,queryKey:r,queryHash:o,options:e.defaultQueryOptions(n),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){Q(this,Or).has(e.queryHash)||(Q(this,Or).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Q(this,Or).get(e.queryHash);n&&(e.destroy(),n===e&&Q(this,Or).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Hn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Q(this,Or).get(e)}getAll(){return[...Q(this,Or).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(s=>mE(n,s))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(s=>mE(e,s)):n}notify(e){Hn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Hn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Hn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Or=new WeakMap,iP),Lr,Bn,Ga,Vr,co,oP,I7=(oP=class extends X2{constructor(n){super();Je(this,Vr);Je(this,Lr);Je(this,Bn);Je(this,Ga);this.mutationId=n.mutationId,Oe(this,Bn,n.mutationCache),Oe(this,Lr,[]),this.state=n.state||k7(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Q(this,Lr).includes(n)||(Q(this,Lr).push(n),this.clearGcTimeout(),Q(this,Bn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Oe(this,Lr,Q(this,Lr).filter(s=>s!==n)),this.scheduleGc(),Q(this,Bn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Q(this,Lr).length||(this.state.status==="pending"?this.scheduleGc():Q(this,Bn).remove(this))}continue(){var n;return((n=Q(this,Ga))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,u,d,h,m,g,y,x,w,v,j,b,C,k,I,_,S,T;const s=()=>{Cn(this,Vr,co).call(this,{type:"continue"})};Oe(this,Ga,Q2({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(E,P)=>{Cn(this,Vr,co).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{Cn(this,Vr,co).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,Bn).canRun(this)}));const r=this.state.status==="pending",o=!Q(this,Ga).canStart();try{if(r)s();else{Cn(this,Vr,co).call(this,{type:"pending",variables:n,isPaused:o}),await((l=(a=Q(this,Bn).config).onMutate)==null?void 0:l.call(a,n,this));const P=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));P!==this.state.context&&Cn(this,Vr,co).call(this,{type:"pending",context:P,variables:n,isPaused:o})}const E=await Q(this,Ga).start();return await((h=(d=Q(this,Bn).config).onSuccess)==null?void 0:h.call(d,E,n,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,E,n,this.state.context)),await((x=(y=Q(this,Bn).config).onSettled)==null?void 0:x.call(y,E,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,E,null,n,this.state.context)),Cn(this,Vr,co).call(this,{type:"success",data:E}),E}catch(E){try{throw await((b=(j=Q(this,Bn).config).onError)==null?void 0:b.call(j,E,n,this.state.context,this)),await((k=(C=this.options).onError)==null?void 0:k.call(C,E,n,this.state.context)),await((_=(I=Q(this,Bn).config).onSettled)==null?void 0:_.call(I,void 0,E,this.state.variables,this.state.context,this)),await((T=(S=this.options).onSettled)==null?void 0:T.call(S,void 0,E,n,this.state.context)),E}finally{Cn(this,Vr,co).call(this,{type:"error",error:E})}}finally{Q(this,Bn).runNext(this)}}},Lr=new WeakMap,Bn=new WeakMap,Ga=new WeakMap,Vr=new WeakSet,co=function(n){const s=r=>{switch(n.type){case"failed":return{...r,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...r,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:n.error,failureCount:r.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Hn.batch(()=>{Q(this,Lr).forEach(r=>{r.onMutationUpdate(n)}),Q(this,Bn).notify({mutation:this,type:"updated",action:n})})},oP);function k7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gi,ar,$h,aP,R7=(aP=class extends Jg{constructor(e={}){super();Je(this,gi);Je(this,ar);Je(this,$h);this.config=e,Oe(this,gi,new Set),Oe(this,ar,new Map),Oe(this,$h,0)}build(e,n,s){const r=new I7({mutationCache:this,mutationId:++zf(this,$h)._,options:e.defaultMutationOptions(n),state:s});return this.add(r),r}add(e){Q(this,gi).add(e);const n=um(e);if(typeof n=="string"){const s=Q(this,ar).get(n);s?s.push(e):Q(this,ar).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Q(this,gi).delete(e)){const n=um(e);if(typeof n=="string"){const s=Q(this,ar).get(n);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&Q(this,ar).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=um(e);if(typeof n=="string"){const s=Q(this,ar).get(n),r=s==null?void 0:s.find(o=>o.state.status==="pending");return!r||r===e}else return!0}runNext(e){var s;const n=um(e);if(typeof n=="string"){const r=(s=Q(this,ar).get(n))==null?void 0:s.find(o=>o!==e&&o.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Hn.batch(()=>{Q(this,gi).forEach(e=>{this.notify({type:"removed",mutation:e})}),Q(this,gi).clear(),Q(this,ar).clear()})}getAll(){return Array.from(Q(this,gi))}find(e){const n={exact:!0,...e};return this.getAll().find(s=>pE(n,s))}findAll(e={}){return this.getAll().filter(n=>pE(e,n))}notify(e){Hn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Hn.batch(()=>Promise.all(e.map(n=>n.continue().catch(ir))))}},gi=new WeakMap,ar=new WeakMap,$h=new WeakMap,aP);function um(t){var e;return(e=t.options.scope)==null?void 0:e.id}function yE(t){return{onFetch:(e,n)=>{var d,h,m,g,y;const s=e.options,r=(m=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,o=((g=e.state.data)==null?void 0:g.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},v=q2(e.options,e.fetchOptions),j=async(b,C,k)=>{if(x)return Promise.reject();if(C==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:C,direction:k?"backward":"forward",meta:e.options.meta};return w(P),P})(),S=await v(_),{maxPages:T}=e.options,E=k?w7:v7;return{pages:E(b.pages,S,T),pageParams:E(b.pageParams,C,T)}};if(r&&o.length){const b=r==="backward",C=b?D7:vE,k={pages:o,pageParams:a},I=C(s,k);l=await j(k,I,b)}else{const b=t??o.length;do{const C=c===0?a[0]??s.initialPageParam:vE(s,l);if(c>0&&C==null)break;l=await j(l,C),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var x,w;return(w=(x=e.options).persister)==null?void 0:w.call(x,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function vE(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function D7(t,{pages:e,pageParams:n}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n):void 0}var Ot,jo,No,Vc,Fc,_o,Uc,$c,lP,M7=(lP=class{constructor(t={}){Je(this,Ot);Je(this,jo);Je(this,No);Je(this,Vc);Je(this,Fc);Je(this,_o);Je(this,Uc);Je(this,$c);Oe(this,Ot,t.queryCache||new P7),Oe(this,jo,t.mutationCache||new R7),Oe(this,No,t.defaultOptions||{}),Oe(this,Vc,new Map),Oe(this,Fc,new Map),Oe(this,_o,0)}mount(){zf(this,_o)._++,Q(this,_o)===1&&(Oe(this,Uc,G2.subscribe(async t=>{t&&(await this.resumePausedMutations(),Q(this,Ot).onFocus())})),Oe(this,$c,Vp.subscribe(async t=>{t&&(await this.resumePausedMutations(),Q(this,Ot).onOnline())})))}unmount(){var t,e;zf(this,_o)._--,Q(this,_o)===0&&((t=Q(this,Uc))==null||t.call(this),Oe(this,Uc,void 0),(e=Q(this,$c))==null||e.call(this),Oe(this,$c,void 0))}isFetching(t){return Q(this,Ot).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Q(this,jo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Q(this,Ot).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Q(this,Ot).build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(G0(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return Q(this,Ot).findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),r=Q(this,Ot).get(s.queryHash),o=r==null?void 0:r.state.data,a=f7(e,o);if(a!==void 0)return Q(this,Ot).build(this,s).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Hn.batch(()=>Q(this,Ot).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Q(this,Ot).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Q(this,Ot);Hn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Q(this,Ot);return Hn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=Hn.batch(()=>Q(this,Ot).findAll(t).map(r=>r.cancel(n)));return Promise.all(s).then(ir).catch(ir)}invalidateQueries(t,e={}){return Hn.batch(()=>(Q(this,Ot).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=Hn.batch(()=>Q(this,Ot).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let o=r.fetch(void 0,n);return n.throwOnError||(o=o.catch(ir)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(ir)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Q(this,Ot).build(this,e);return n.isStaleByTime(G0(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ir).catch(ir)}fetchInfiniteQuery(t){return t.behavior=yE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ir).catch(ir)}ensureInfiniteQueryData(t){return t.behavior=yE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Vp.isOnline()?Q(this,jo).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,Ot)}getMutationCache(){return Q(this,jo)}getDefaultOptions(){return Q(this,No)}setDefaultOptions(t){Oe(this,No,t)}setQueryDefaults(t,e){Q(this,Vc).set(fh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Q(this,Vc).values()],n={};return e.forEach(s=>{mh(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){Q(this,Fc).set(fh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Q(this,Fc).values()],n={};return e.forEach(s=>{mh(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Q(this,No).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=S1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===E1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Q(this,No).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Q(this,Ot).clear(),Q(this,jo).clear()}},Ot=new WeakMap,jo=new WeakMap,No=new WeakMap,Vc=new WeakMap,Fc=new WeakMap,_o=new WeakMap,Uc=new WeakMap,$c=new WeakMap,lP),O7=p.createContext(void 0),L7=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(O7.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ph.apply(this,arguments)}var To;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(To||(To={}));const wE="popstate";function V7(t){t===void 0&&(t={});function e(s,r){let{pathname:o,search:a,hash:l}=s.location;return Y0("",{pathname:o,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:Fp(r)}return U7(e,n,null,t)}function Xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function J2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F7(){return Math.random().toString(36).substr(2,8)}function bE(t,e){return{usr:t.state,key:t.key,idx:e}}function Y0(t,e,n,s){return n===void 0&&(n=null),ph({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xu(e):e,{state:n,key:e&&e.key||s||F7()})}function Fp(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function xu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function U7(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:o=!1}=s,a=r.history,l=To.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(ph({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=To.Pop;let w=d(),v=w==null?null:w-u;u=w,c&&c({action:l,location:x.location,delta:v})}function m(w,v){l=To.Push;let j=Y0(x.location,w,v);u=d()+1;let b=bE(j,u),C=x.createHref(j);try{a.pushState(b,"",C)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(C)}o&&c&&c({action:l,location:x.location,delta:1})}function g(w,v){l=To.Replace;let j=Y0(x.location,w,v);u=d();let b=bE(j,u),C=x.createHref(j);a.replaceState(b,"",C),o&&c&&c({action:l,location:x.location,delta:0})}function y(w){let v=r.location.origin!=="null"?r.location.origin:r.location.href,j=typeof w=="string"?w:Fp(w);return j=j.replace(/ $/,"%20"),Xt(v,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,v)}let x={get action(){return l},get location(){return t(r,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(wE,h),c=w,()=>{r.removeEventListener(wE,h),c=null}},createHref(w){return e(r,w)},createURL:y,encodeLocation(w){let v=y(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:g,go(w){return a.go(w)}};return x}var jE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jE||(jE={}));function $7(t,e,n){return n===void 0&&(n="/"),z7(t,e,n)}function z7(t,e,n,s){let r=typeof e=="string"?xu(e):e,o=T1(r.pathname||"/",n);if(o==null)return null;let a=Z2(t);B7(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=tW(o);l=J7(a[c],u)}return l}function Z2(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Xt(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Lo([s,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(Xt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Z2(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:Q7(u,o.index),routesMeta:d})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))r(o,a);else for(let c of eR(o.path))r(o,a,c)}),e}function eR(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return r?[o,""]:[o];let a=eR(s.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),r&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function B7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:X7(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const W7=/^:[\w-]+$/,H7=3,q7=2,G7=1,K7=10,Y7=-2,NE=t=>t==="*";function Q7(t,e){let n=t.split("/"),s=n.length;return n.some(NE)&&(s+=Y7),e&&(s+=q7),n.filter(r=>!NE(r)).reduce((r,o)=>r+(W7.test(o)?H7:o===""?G7:K7),s)}function X7(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function J7(t,e,n){let{routesMeta:s}=t,r={},o="/",a=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=Z7({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:Lo([o,h.pathname]),pathnameBase:iW(Lo([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=Lo([o,h.pathnameBase]))}return a}function Z7(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=eW(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let x=l[h]||"";a=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[h];return g&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function eW(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),J2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function tW(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return J2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function T1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function nW(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?xu(t):t;return{pathname:n?n.startsWith("/")?n:sW(n,e):e,search:oW(s),hash:aW(r)}}function sW(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Qy(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rW(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tR(t,e){let n=rW(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function nR(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=xu(t):(r=ph({},t),Xt(!r.pathname||!r.pathname.includes("?"),Qy("?","pathname","search",r)),Xt(!r.pathname||!r.pathname.includes("#"),Qy("#","pathname","hash",r)),Xt(!r.search||!r.search.includes("#"),Qy("#","search","hash",r)));let o=t===""||r.pathname==="",a=o?"/":r.pathname,l;if(a==null)l=n;else{let h=e.length-1;if(!s&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;r.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=nW(r,l),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Lo=t=>t.join("/").replace(/\/\/+/g,"/"),iW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lW(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sR=["post","put","patch","delete"];new Set(sR);const cW=["get",...sR];new Set(cW);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gh(){return gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},gh.apply(this,arguments)}const C1=p.createContext(null),uW=p.createContext(null),Cl=p.createContext(null),ex=p.createContext(null),da=p.createContext({outlet:null,matches:[],isDataRoute:!1}),rR=p.createContext(null);function dW(t,e){let{relative:n}=e===void 0?{}:e;Zh()||Xt(!1);let{basename:s,navigator:r}=p.useContext(Cl),{hash:o,pathname:a,search:l}=oR(t,{relative:n}),c=a;return s!=="/"&&(c=a==="/"?s:Lo([s,a])),r.createHref({pathname:c,search:l,hash:o})}function Zh(){return p.useContext(ex)!=null}function Al(){return Zh()||Xt(!1),p.useContext(ex).location}function iR(t){p.useContext(Cl).static||p.useLayoutEffect(t)}function Pl(){let{isDataRoute:t}=p.useContext(da);return t?_W():hW()}function hW(){Zh()||Xt(!1);let t=p.useContext(C1),{basename:e,future:n,navigator:s}=p.useContext(Cl),{matches:r}=p.useContext(da),{pathname:o}=Al(),a=JSON.stringify(tR(r,n.v7_relativeSplatPath)),l=p.useRef(!1);return iR(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let h=nR(u,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Lo([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,a,o,t])}function A1(){let{matches:t}=p.useContext(da),e=t[t.length-1];return e?e.params:{}}function oR(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=p.useContext(Cl),{matches:r}=p.useContext(da),{pathname:o}=Al(),a=JSON.stringify(tR(r,s.v7_relativeSplatPath));return p.useMemo(()=>nR(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function fW(t,e){return mW(t,e)}function mW(t,e,n,s){Zh()||Xt(!1);let{navigator:r}=p.useContext(Cl),{matches:o}=p.useContext(da),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Al(),d;if(e){var h;let w=typeof e=="string"?xu(e):e;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||Xt(!1),d=w}else d=u;let m=d.pathname||"/",g=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=$7(t,{pathname:g}),x=vW(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Lo([c,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Lo([c,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,s);return e&&x?p.createElement(ex.Provider,{value:{location:gh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:To.Pop}},x):x}function pW(){let t=NW(),e=lW(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:r},n):null,null)}const gW=p.createElement(pW,null);class xW extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(da.Provider,{value:this.props.routeContext},p.createElement(rR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yW(t){let{routeContext:e,match:n,children:s}=t,r=p.useContext(C1);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(da.Provider,{value:e},s)}function vW(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=s)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Xt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=n,y=h.route.loader&&m[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,m)=>{let g,y=!1,x=null,w=null;n&&(g=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||gW,c&&(u<0&&m===0?(SW("route-fallback"),y=!0,w=null):u===m&&(y=!0,w=h.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,m+1)),j=()=>{let b;return g?b=x:y?b=w:h.route.Component?b=p.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,p.createElement(yW,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?p.createElement(xW,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:j(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):j()},null)}var aR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(aR||{}),lR=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lR||{});function wW(t){let e=p.useContext(C1);return e||Xt(!1),e}function bW(t){let e=p.useContext(uW);return e||Xt(!1),e}function jW(t){let e=p.useContext(da);return e||Xt(!1),e}function cR(t){let e=jW(),n=e.matches[e.matches.length-1];return n.route.id||Xt(!1),n.route.id}function NW(){var t;let e=p.useContext(rR),n=bW(),s=cR();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function _W(){let{router:t}=wW(aR.UseNavigateStable),e=cR(lR.UseNavigateStable),n=p.useRef(!1);return iR(()=>{n.current=!0}),p.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,gh({fromRouteId:e},o)))},[t,e])}const _E={};function SW(t,e,n){_E[t]||(_E[t]=!0)}function EW(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ze(t){Xt(!1)}function TW(t){let{basename:e="/",children:n=null,location:s,navigationType:r=To.Pop,navigator:o,static:a=!1,future:l}=t;Zh()&&Xt(!1);let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:o,static:a,future:gh({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof s=="string"&&(s=xu(s));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:y="default"}=s,x=p.useMemo(()=>{let w=T1(d,c);return w==null?null:{location:{pathname:w,search:h,hash:m,state:g,key:y},navigationType:r}},[c,d,h,m,g,y,r]);return x==null?null:p.createElement(Cl.Provider,{value:u},p.createElement(ex.Provider,{children:n,value:x}))}function CW(t){let{children:e,location:n}=t;return fW(Q0(e),n)}new Promise(()=>{});function Q0(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(s,r)=>{if(!p.isValidElement(s))return;let o=[...e,r];if(s.type===p.Fragment){n.push.apply(n,Q0(s.props.children,o));return}s.type!==Ze&&Xt(!1),!s.props.index||!s.props.children||Xt(!1);let a={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=Q0(s.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},X0.apply(this,arguments)}function AW(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,o;for(o=0;o<s.length;o++)r=s[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function PW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IW(t,e){return t.button===0&&(!e||e==="_self")&&!PW(t)}function J0(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function kW(t,e){let n=J0(t);return e&&e.forEach((s,r)=>{n.has(r)||e.getAll(r).forEach(o=>{n.append(r,o)})}),n}const RW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DW="6";try{window.__reactRouterVersion=DW}catch{}const MW="startTransition",SE=db[MW];function OW(t){let{basename:e,children:n,future:s,window:r}=t,o=p.useRef();o.current==null&&(o.current=V7({window:r,v5Compat:!0}));let a=o.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=s||{},d=p.useCallback(h=>{u&&SE?SE(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>a.listen(d),[a,d]),p.useEffect(()=>EW(s),[s]),p.createElement(TW,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:s})}const LW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xe=p.forwardRef(function(e,n){let{onClick:s,relative:r,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,m=AW(e,RW),{basename:g}=p.useContext(Cl),y,x=!1;if(typeof u=="string"&&VW.test(u)&&(y=u,LW))try{let b=new URL(window.location.href),C=u.startsWith("//")?new URL(b.protocol+u):new URL(u),k=T1(C.pathname,g);C.origin===b.origin&&k!=null?u=k+C.search+C.hash:x=!0}catch{}let w=dW(u,{relative:r}),v=FW(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:h});function j(b){s&&s(b),b.defaultPrevented||v(b)}return p.createElement("a",X0({},m,{href:y||w,onClick:x||o?s:j,ref:n,target:c}))});var EE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(EE||(EE={}));var TE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(TE||(TE={}));function FW(t,e){let{target:n,replace:s,state:r,preventScrollReset:o,relative:a,viewTransition:l}=e===void 0?{}:e,c=Pl(),u=Al(),d=oR(t,{relative:a});return p.useCallback(h=>{if(IW(h,n)){h.preventDefault();let m=s!==void 0?s:Fp(u)===Fp(d);c(t,{replace:m,state:r,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,d,s,r,n,t,o,a,l])}function UW(t){let e=p.useRef(J0(t)),n=p.useRef(!1),s=Al(),r=p.useMemo(()=>kW(s.search,n.current?null:e.current),[s.search]),o=Pl(),a=p.useCallback((l,c)=>{const u=J0(typeof l=="function"?l(r):l);n.current=!0,o("?"+u,c)},[o,r]);return[r,a]}const $W=()=>{};var CE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},zW=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[s++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],a=t[n++],l=t[n++],c=((r&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},dR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const o=t[r],a=r+1<t.length,l=a?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,d=o>>2,h=(o&3)<<4|l>>4;let m=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(m=64)),s.push(n[d],n[h],n[m],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||l==null||u==null||h==null)throw new BW;const m=o<<2|l>>4;if(s.push(m),u!==64){const g=l<<4&240|u>>2;if(s.push(g),h!==64){const y=u<<6&192|h;s.push(y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WW=function(t){const e=uR(t);return dR.encodeByteArray(e,!0)},Up=function(t){return WW(t).replace(/\./g,"")},hR=function(t){try{return dR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW=()=>HW().__FIREBASE_DEFAULTS__,GW=()=>{if(typeof process>"u"||typeof CE>"u")return;const t=CE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hR(t[1]);return e&&JSON.parse(e)},tx=()=>{try{return $W()||qW()||GW()||KW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fR=t=>{var e,n;return(n=(e=tx())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},mR=t=>{const e=fR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},pR=()=>{var t;return(t=tx())==null?void 0:t.config},gR=t=>{var e;return(e=tx())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function P1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Up(JSON.stringify(n)),Up(JSON.stringify(a)),""].join(".")}const Id={};function QW(){const t={prod:[],emulator:[]};for(const e of Object.keys(Id))Id[e]?t.emulator.push(e):t.prod.push(e);return t}function XW(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let AE=!1;function I1(t,e){if(typeof window>"u"||typeof document>"u"||!Il(window.location.host)||Id[t]===e||Id[t]||AE)return;Id[t]=e;function n(m){return`__firebase__banner__${m}`}const s="__firebase__banner",o=QW().prod.length>0;function a(){const m=document.getElementById(s);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{AE=!0,a()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=XW(s),g=n("text"),y=document.getElementById(g)||document.createElement("span"),x=n("learnmore"),w=document.getElementById(x)||document.createElement("a"),v=n("preprendIcon"),j=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const b=m.element;l(b),d(w,x);const C=u();c(j,v),b.append(j,y,w,C),document.body.appendChild(b)}o?(y.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function ZW(){var e;const t=(e=tx())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tH(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sH(){const t=Un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rH(){return!ZW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iH(){try{return typeof indexedDB=="object"}catch{return!1}}function oH(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH="FirebaseError";class oi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=aH,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ef.prototype.create)}}class ef{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?lH(o,s):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new oi(r,l,s)}}function lH(t,e){return t.replace(cH,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const cH=/\{\$([^}]+)}/g;function uH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ul(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const o=t[r],a=e[r];if(PE(o)&&PE(a)){if(!ul(o,a))return!1}else if(o!==a)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function PE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function cd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,o]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function ud(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dH(t,e){const n=new hH(t,e);return n.subscribe.bind(n)}class hH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fH(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=Xy),r.error===void 0&&(r.error=Xy),r.complete===void 0&&(r.complete=Xy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return t&&t._delegate?t._delegate:t}class Jo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new YW;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gH(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});s.resolve(o)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);s===l&&a.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pH(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pH(t){return t===Ea?void 0:t}function gH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const yH={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},vH=Be.INFO,wH={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},bH=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=wH[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class k1{constructor(e){this.name=e,this._logLevel=vH,this._logHandler=bH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const jH=(t,e)=>e.some(n=>t instanceof n);let IE,kE;function NH(){return IE||(IE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _H(){return kE||(kE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yR=new WeakMap,Z0=new WeakMap,vR=new WeakMap,Jy=new WeakMap,R1=new WeakMap;function SH(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Vo(t.result)),r()},a=()=>{s(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&yR.set(n,t)}).catch(()=>{}),R1.set(e,t),e}function EH(t){if(Z0.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Z0.set(t,e)}let ew={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Z0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TH(t){ew=t(ew)}function CH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Zy(this),e,...n);return vR.set(s,e.sort?e.sort():[e]),Vo(s)}:_H().includes(t)?function(...e){return t.apply(Zy(this),e),Vo(yR.get(this))}:function(...e){return Vo(t.apply(Zy(this),e))}}function AH(t){return typeof t=="function"?CH(t):(t instanceof IDBTransaction&&EH(t),jH(t,NH())?new Proxy(t,ew):t)}function Vo(t){if(t instanceof IDBRequest)return SH(t);if(Jy.has(t))return Jy.get(t);const e=AH(t);return e!==t&&(Jy.set(t,e),R1.set(e,t)),e}const Zy=t=>R1.get(t);function PH(t,e,{blocked:n,upgrade:s,blocking:r,terminated:o}={}){const a=indexedDB.open(t,e),l=Vo(a);return s&&a.addEventListener("upgradeneeded",c=>{s(Vo(a.result),c.oldVersion,c.newVersion,Vo(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const IH=["get","getKey","getAll","getAllKeys","count"],kH=["put","add","delete","clear"],ev=new Map;function RE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ev.get(e))return ev.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=kH.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||IH.includes(n)))return;const o=async function(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),r&&c.done]))[0]};return ev.set(e,o),o}TH(t=>({...t,get:(e,n,s)=>RE(e,n)||t.get(e,n,s),has:(e,n)=>!!RE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DH(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function DH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tw="@firebase/app",DE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new k1("@firebase/app"),MH="@firebase/app-compat",OH="@firebase/analytics-compat",LH="@firebase/analytics",VH="@firebase/app-check-compat",FH="@firebase/app-check",UH="@firebase/auth",$H="@firebase/auth-compat",zH="@firebase/database",BH="@firebase/data-connect",WH="@firebase/database-compat",HH="@firebase/functions",qH="@firebase/functions-compat",GH="@firebase/installations",KH="@firebase/installations-compat",YH="@firebase/messaging",QH="@firebase/messaging-compat",XH="@firebase/performance",JH="@firebase/performance-compat",ZH="@firebase/remote-config",eq="@firebase/remote-config-compat",tq="@firebase/storage",nq="@firebase/storage-compat",sq="@firebase/firestore",rq="@firebase/ai",iq="@firebase/firestore-compat",oq="firebase",aq="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="[DEFAULT]",lq={[tw]:"fire-core",[MH]:"fire-core-compat",[LH]:"fire-analytics",[OH]:"fire-analytics-compat",[FH]:"fire-app-check",[VH]:"fire-app-check-compat",[UH]:"fire-auth",[$H]:"fire-auth-compat",[zH]:"fire-rtdb",[BH]:"fire-data-connect",[WH]:"fire-rtdb-compat",[HH]:"fire-fn",[qH]:"fire-fn-compat",[GH]:"fire-iid",[KH]:"fire-iid-compat",[YH]:"fire-fcm",[QH]:"fire-fcm-compat",[XH]:"fire-perf",[JH]:"fire-perf-compat",[ZH]:"fire-rc",[eq]:"fire-rc-compat",[tq]:"fire-gcs",[nq]:"fire-gcs-compat",[sq]:"fire-fst",[iq]:"fire-fst-compat",[rq]:"fire-vertex","fire-js":"fire-js",[oq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,cq=new Map,sw=new Map;function ME(t,e){try{t.container.addComponent(e)}catch(n){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dl(t){const e=t.name;if(sw.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;sw.set(e,t);for(const n of xh.values())ME(n,t);for(const n of cq.values())ME(n,t);return!0}function nx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ss(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fo=new ef("app","Firebase",uq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=aq;function wR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:nw,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Fo.create("bad-app-name",{appName:String(r)});if(n||(n=pR()),!n)throw Fo.create("no-options");const o=xh.get(r);if(o){if(ul(n,o.options)&&ul(s,o.config))return o;throw Fo.create("duplicate-app",{appName:r})}const a=new xH(r);for(const c of sw.values())a.addComponent(c);const l=new dq(n,s,a);return xh.set(r,l),l}function sx(t=nw){const e=xh.get(t);if(!e&&t===nw&&pR())return wR();if(!e)throw Fo.create("no-app",{appName:t});return e}function hq(){return Array.from(xh.values())}function qr(t,e,n){let s=lq[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(a.join(" "));return}dl(new Jo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq="firebase-heartbeat-database",mq=1,yh="firebase-heartbeat-store";let tv=null;function bR(){return tv||(tv=PH(fq,mq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fo.create("idb-open",{originalErrorMessage:t.message})})),tv}async function pq(t){try{const n=(await bR()).transaction(yh),s=await n.objectStore(yh).get(jR(t));return await n.done,s}catch(e){if(e instanceof oi)Di.warn(e.message);else{const n=Fo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(n.message)}}}async function OE(t,e){try{const s=(await bR()).transaction(yh,"readwrite");await s.objectStore(yh).put(e,jR(t)),await s.done}catch(n){if(n instanceof oi)Di.warn(n.message);else{const s=Fo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Di.warn(s.message)}}}function jR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=1024,xq=30;class yq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wq(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=LE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>xq){const a=bq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Di.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=LE(),{heartbeatsToSend:s,unsentEntries:r}=vq(this._heartbeatsCache.heartbeats),o=Up(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Di.warn(n),""}}}function LE(){return new Date().toISOString().substring(0,10)}function vq(t,e=gq){const n=[];let s=t.slice();for(const r of t){const o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),VE(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),VE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class wq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iH()?oH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return OE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return OE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function VE(t){return Up(JSON.stringify({version:2,heartbeats:t})).length}function bq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(t){dl(new Jo("platform-logger",e=>new RH(e),"PRIVATE")),dl(new Jo("heartbeat",e=>new yq(e),"PRIVATE")),qr(tw,DE,t),qr(tw,DE,"esm2020"),qr("fire-js","")}jq("");function NR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nq=NR,_R=new ef("auth","Firebase",NR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=new k1("@firebase/auth");function _q(t,...e){$p.logLevel<=Be.WARN&&$p.warn(`Auth (${kl}): ${t}`,...e)}function Bm(t,...e){$p.logLevel<=Be.ERROR&&$p.error(`Auth (${kl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,...e){throw M1(t,...e)}function xr(t,...e){return M1(t,...e)}function D1(t,e,n){const s={...Nq(),[e]:n};return new ef("auth","Firebase",s).create(e,{appName:t.name})}function Ni(t){return D1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sq(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ys(t,"argument-error"),D1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function M1(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return _R.create(t,...e)}function Ce(t,e,...n){if(!t)throw M1(e,...n)}function wi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bm(e),new Error(e)}function Mi(t,e){t||wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Eq(){return FE()==="http:"||FE()==="https:"}function FE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Eq()||tH()||"connection"in navigator)?navigator.onLine:!0}function Cq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mi(n>e,"Short delay should be less than long delay!"),this.isMobile=JW()||nH()}get(){return Tq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t,e){Mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Iq=new nf(3e4,6e4);function Wi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Sr(t,e,n,s,r={}){return ER(t,r,async()=>{let o={},a={};s&&(e==="GET"?a=s:o={body:JSON.stringify(s)});const l=tf({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...o};return eH()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Il(t.emulatorConfig.host)&&(u.credentials="include"),SR.fetch()(await TR(t,t.config.apiHost,n,l),u)})}async function ER(t,e,n){t._canInitEmulator=!1;const s={...Aq,...e};try{const r=new Rq(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw dm(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const l=o.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw dm(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw dm(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw dm(t,"user-disabled",a);const d=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw D1(t,d,u);Ys(t,d)}}catch(r){if(r instanceof oi)throw r;Ys(t,"network-request-failed",{message:String(r)})}}async function sf(t,e,n,s,r={}){const o=await Sr(t,e,n,s,r);return"mfaPendingCredential"in o&&Ys(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function TR(t,e,n,s){const r=`${e}${n}?${s}`,o=t,a=o.config.emulator?O1(t.config,r):`${t.config.apiScheme}://${r}`;return Pq.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function kq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(xr(this.auth,"network-request-failed")),Iq.get())})}}function dm(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=xr(t,e,s);return r.customData._tokenResponse=n,r}function UE(t){return t!==void 0&&t.enterprise!==void 0}class Dq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Mq(t,e){return Sr(t,"GET","/v2/recaptchaConfig",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oq(t,e){return Sr(t,"POST","/v1/accounts:delete",e)}async function zp(t,e){return Sr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lq(t,e=!1){const n=zt(t),s=await n.getIdToken(e),r=L1(s);Ce(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:r,token:s,authTime:kd(nv(r.auth_time)),issuedAtTime:kd(nv(r.iat)),expirationTime:kd(nv(r.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function nv(t){return Number(t)*1e3}function L1(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Bm("JWT malformed, contained fewer than 3 sections"),null;try{const r=hR(n);return r?JSON.parse(r):(Bm("Failed to decode base64 JWT payload"),null)}catch(r){return Bm("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function $E(t){const e=L1(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof oi&&Vq(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Vq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kd(this.lastLoginAt),this.creationTime=kd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bp(t){var h;const e=t.auth,n=await t.getIdToken(),s=await hl(t,zp(e,{idToken:n}));Ce(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const o=(h=r.providerUserInfo)!=null&&h.length?CR(r.providerUserInfo):[],a=$q(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new iw(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function Uq(t){const e=zt(t);await Bp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $q(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function CR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zq(t,e){const n=await ER(t,{},async()=>{const s=tf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,a=await TR(t,r,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&Il(t.emulatorConfig.host)&&(c.credentials="include"),SR.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Bq(t,e){return Sr(t,"POST","/v2/accounts:revokeToken",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=$E(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:o}=await zq(e,n);this.updateTokensAndExpiration(s,r,Number(o))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:o}=n,a=new Tc;return s&&(Ce(typeof s=="string","internal-error",{appName:e}),a.refreshToken=s),r&&(Ce(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),o&&(Ce(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tc,this.toJSON())}_performRefresh(){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hr{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new Fq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new iw(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await hl(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lq(this,e)}reload(){return Uq(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Bp(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ss(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await hl(this,Oq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:m,isAnonymous:g,providerData:y,stsTokenManager:x}=n;Ce(h&&x,e,"internal-error");const w=Tc.fromJSON(this.name,x);Ce(typeof h=="string",e,"internal-error"),ao(s,e.name),ao(r,e.name),Ce(typeof m=="boolean",e,"internal-error"),Ce(typeof g=="boolean",e,"internal-error"),ao(o,e.name),ao(a,e.name),ao(l,e.name),ao(c,e.name),ao(u,e.name),ao(d,e.name);const v=new hr({uid:h,auth:e,email:r,emailVerified:m,displayName:s,isAnonymous:g,photoURL:a,phoneNumber:o,tenantId:l,stsTokenManager:w,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(v.providerData=y.map(j=>({...j}))),c&&(v._redirectEventId=c),v}static async _fromIdTokenResponse(e,n,s=!1){const r=new Tc;r.updateFromServerResponse(n);const o=new hr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Bp(o),o}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];Ce(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?CR(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),l=new Tc;l.updateFromIdToken(s);const c=new hr({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new iw(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Map;function bi(t){Mi(t instanceof Function,"Expected a class definition");let e=zE.get(t);return e?(Mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AR.type="NONE";const BE=AR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t,e,n){return`firebase:${t}:${e}:${n}`}class Cc{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:o}=this.auth;this.fullUserKey=Wm(this.userKey,r.apiKey,o),this.fullPersistenceKey=Wm("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zp(this.auth,{idToken:e}).catch(()=>{});return n?hr._fromGetAccountInfoResponse(this.auth,n,e):null}return hr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Cc(bi(BE),e,s);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=r[0]||bi(BE);const a=Wm(s,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){let h;if(typeof d=="string"){const m=await zp(e,{idToken:d}).catch(()=>{});if(!m)break;h=await hr._fromGetAccountInfoResponse(e,m,d)}else h=hr._fromJSON(e,d);u!==o&&(l=h),o=u;break}}catch{}const c=r.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Cc(o,e,s):(o=c[0],l&&await o._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Cc(o,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MR(e))return"Blackberry";if(OR(e))return"Webos";if(IR(e))return"Safari";if((e.includes("chrome/")||kR(e))&&!e.includes("edge/"))return"Chrome";if(DR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function PR(t=Un()){return/firefox\//i.test(t)}function IR(t=Un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kR(t=Un()){return/crios\//i.test(t)}function RR(t=Un()){return/iemobile/i.test(t)}function DR(t=Un()){return/android/i.test(t)}function MR(t=Un()){return/blackberry/i.test(t)}function OR(t=Un()){return/webos/i.test(t)}function V1(t=Un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Wq(t=Un()){var e;return V1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Hq(){return sH()&&document.documentMode===10}function LR(t=Un()){return V1(t)||DR(t)||OR(t)||MR(t)||/windows phone/i.test(t)||RR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t,e=[]){let n;switch(t){case"Browser":n=WE(Un());break;case"Worker":n=`${WE(Un())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${kl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=o=>new Promise((a,l)=>{try{const c=e(o);a(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gq(t,e={}){return Sr(t,"GET","/v2/passwordPolicy",Wi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq=6;class Yq{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Kq,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HE(this),this.idTokenSubscription=new HE(this),this.beforeStateQueue=new qq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_R,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bi(n)),this._initializationPromise=this.queue(async()=>{var s,r,o;if(!this._deleted&&(this.persistenceManager=await Cc.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zp(this,{idToken:e}),s=await hr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(ss(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Cq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ss(this.app))return Promise.reject(Ni(this));const n=e?zt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ss(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ss(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Gq(this),n=new Yq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ef("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Bq(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bi(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Cc.create(this,[bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,r);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(ss(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&_q(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Hi(t){return zt(t)}class HE{constructor(e){this.auth=e,this.observer=null,this.addObserver=dH(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xq(t){rx=t}function FR(t){return rx.loadJS(t)}function Jq(){return rx.recaptchaEnterpriseScript}function Zq(){return rx.gapiScript}function eG(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tG{constructor(){this.enterprise=new nG}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nG{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sG="recaptcha-enterprise",UR="NO_RECAPTCHA";class rG{constructor(e){this.type=sG,this.auth=Hi(e)}async verify(e="verify",n=!1){async function s(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,l)=>{Mq(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new Dq(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function r(o,a,l){const c=window.grecaptcha;UE(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(UR)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tG().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{s(this.auth).then(l=>{if(!n&&UE(window.grecaptcha))r(l,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Jq();c.length!==0&&(c+=l),FR(c).then(()=>{r(l,o,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function qE(t,e,n,s=!1,r=!1){const o=new rG(t);let a;if(r)a=UR;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Wp(t,e,n,s,r){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await qE(t,e,n,n==="getOobCode");return s(t,a)}else return s(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await qE(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iG(t,e){const n=nx(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(ul(o,e??{}))return r;Ys(r,"already-initialized")}return n.initialize({options:e})}function oG(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(bi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function aG(t,e,n){const s=Hi(t);Ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,o=$R(e),{host:a,port:l}=lG(e),c=l===null?"":`:${l}`,u={url:`${o}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){Ce(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ce(ul(u,s.config.emulator)&&ul(d,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=u,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,Il(a)?(P1(`${o}//${a}${c}`),I1("Auth",!0)):cG()}function $R(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lG(t){const e=$R(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const o=r[1];return{host:o,port:GE(s.substr(o.length+1))}}else{const[o,a]=s.split(":");return{host:o,port:GE(a)}}}function GE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,n){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}async function uG(t,e){return Sr(t,"POST","/v1/accounts:update",e)}async function dG(t,e){return Sr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hG(t,e){return sf(t,"POST","/v1/accounts:signInWithPassword",Wi(t,e))}async function fG(t,e){return Sr(t,"POST","/v1/accounts:sendOobCode",Wi(t,e))}async function mG(t,e){return fG(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pG(t,e){return sf(t,"POST","/v1/accounts:signInWithEmailLink",Wi(t,e))}async function gG(t,e){return sf(t,"POST","/v1/accounts:signInWithEmailLink",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends F1{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new vh(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new vh(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,n,"signInWithPassword",hG);case"emailLink":return pG(e,{email:this._email,oobCode:this._password});default:Ys(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,s,"signUpPassword",dG);case"emailLink":return gG(e,{idToken:n,email:this._email,oobCode:this._password});default:Ys(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(t,e){return sf(t,"POST","/v1/accounts:signInWithIdp",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xG="http://localhost";class fl extends F1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...o}=n;if(!s||!r)return null;const a=new fl(s,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ac(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ac(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ac(e,n)}buildRequest(){const e={requestUri:xG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yG(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vG(t){const e=cd(ud(t)).link,n=e?cd(ud(e)).deep_link_id:null,s=cd(ud(t)).deep_link_id;return(s?cd(ud(s)).link:null)||s||n||e||t}class U1{constructor(e){const n=cd(ud(e)),s=n.apiKey??null,r=n.oobCode??null,o=yG(n.mode??null);Ce(s&&r&&o,"argument-error"),this.apiKey=s,this.operation=o,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=vG(e);try{return new U1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this.providerId=yu.PROVIDER_ID}static credential(e,n){return vh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=U1.parseLink(n);return Ce(s,"argument-error"),vh._fromEmailAndCode(e,s.code,s.tenantId)}}yu.PROVIDER_ID="password";yu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends $1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends rf{constructor(){super("facebook.com")}static credential(e){return fl._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xo.credential(e.oauthAccessToken)}catch{return null}}}xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends rf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fl._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return xi.credential(n,s)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends rf{constructor(){super("github.com")}static credential(e){return fl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends rf{constructor(){super("twitter.com")}static credential(e,n){return fl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return vo.credential(n,s)}catch{return null}}}vo.TWITTER_SIGN_IN_METHOD="twitter.com";vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wG(t,e){return sf(t,"POST","/v1/accounts:signUp",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const o=await hr._fromIdTokenResponse(e,s,r),a=KE(s);return new ml({user:o,providerId:a,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=KE(s);return new ml({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function KE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp extends oi{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Hp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Hp(e,n,s,r)}}function zR(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Hp._fromErrorAndOperation(t,o,e,s):o})}async function bG(t,e,n=!1){const s=await hl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ml._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jG(t,e,n=!1){const{auth:s}=t;if(ss(s.app))return Promise.reject(Ni(s));const r="reauthenticate";try{const o=await hl(t,zR(s,r,e,t),n);Ce(o.idToken,s,"internal-error");const a=L1(o.idToken);Ce(a,s,"internal-error");const{sub:l}=a;return Ce(t.uid===l,s,"user-mismatch"),ml._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ys(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(t,e,n=!1){if(ss(t.app))return Promise.reject(Ni(t));const s="signIn",r=await zR(t,s,e),o=await ml._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(o.user),o}async function NG(t,e){return BR(Hi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(t){const e=Hi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _G(t,e,n){const s=Hi(t);await Wp(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",mG)}async function SG(t,e,n){if(ss(t.app))return Promise.reject(Ni(t));const s=Hi(t),a=await Wp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wG).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&WR(t),c}),l=await ml._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function EG(t,e,n){return ss(t.app)?Promise.reject(Ni(t)):NG(zt(t),yu.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&WR(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TG(t,e){return Sr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=zt(t),o={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await hl(s,TG(s.auth,o));s.displayName=a.displayName||null,s.photoURL=a.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(a)}function CG(t,e){return AG(zt(t),null,e)}async function AG(t,e,n){const{auth:s}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(o.password=n);const a=await hl(t,uG(s,o));await t._updateTokensIfNecessary(a,!0)}function PG(t,e,n,s){return zt(t).onIdTokenChanged(e,n,s)}function IG(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}function kG(t,e,n,s){return zt(t).onAuthStateChanged(e,n,s)}function RG(t){return zt(t).signOut()}const qp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qp,"1"),this.storage.removeItem(qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG=1e3,MG=10;class qR extends HR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(s);!n&&this.localCache[s]===a||this.notifyListeners(s,a)},o=this.storage.getItem(s);Hq()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,MG):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},DG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qR.type="LOCAL";const OG=qR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR extends HR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GR.type="SESSION";const KR=GR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new ix(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:o}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(a).map(async u=>u(n.origin,o)),c=await LG(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ix.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=z1("",20);r.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},s);a={messageChannel:r,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(m.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function FG(t){Gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function UG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $G(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function zG(){return YR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="firebaseLocalStorageDb",BG=1,Gp="firebaseLocalStorage",XR="fbase_key";class of{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ox(t,e){return t.transaction([Gp],e?"readwrite":"readonly").objectStore(Gp)}function WG(){const t=indexedDB.deleteDatabase(QR);return new of(t).toPromise()}function ow(){const t=indexedDB.open(QR,BG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Gp,{keyPath:XR})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Gp)?e(s):(s.close(),await WG(),e(await ow()))})})}async function QE(t,e,n){const s=ox(t,!0).put({[XR]:e,value:n});return new of(s).toPromise()}async function HG(t,e){const n=ox(t,!1).get(e),s=await new of(n).toPromise();return s===void 0?null:s.value}function XE(t,e){const n=ox(t,!0).delete(e);return new of(n).toPromise()}const qG=800,GG=3;class JR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ow(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>GG)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ix._getInstance(zG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await UG(),!this.activeServiceWorker)return;this.sender=new VG(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$G()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ow();return await QE(e,qp,"1"),await XE(e,qp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>QE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>HG(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=ox(r,!1).getAll();return new of(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JR.type="LOCAL";const KG=JR;new nf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t,e){return e?bi(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1 extends F1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ac(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ac(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ac(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YG(t){return BR(t.auth,new B1(t),t.bypassAuthState)}function QG(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),jG(n,new B1(t),t.bypassAuthState)}async function XG(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),bG(n,new B1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,s,r,o=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YG;case"linkViaPopup":case"linkViaRedirect":return XG;case"reauthViaPopup":case"reauthViaRedirect":return QG;default:Ys(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG=new nf(2e3,1e4);async function ZG(t,e,n){if(ss(t.app))return Promise.reject(xr(t,"operation-not-supported-in-this-environment"));const s=Hi(t);Sq(t,e,$1);const r=ZR(s,n);return new Va(s,"signInViaPopup",e,r).executeNotNull()}class Va extends eD{constructor(e,n,s,r,o){super(e,n,r,o),this.provider=s,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Mi(this.filter.length===1,"Popup operations only handle one event");const e=z1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JG.get())};e()}}Va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK="pendingRedirect",Hm=new Map;class tK extends eD{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Hm.get(this.auth._key());if(!e){try{const s=await nK(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Hm.set(this.auth._key(),e)}return this.bypassAuthState||Hm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nK(t,e){const n=iK(e),s=rK(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function sK(t,e){Hm.set(t._key(),e)}function rK(t){return bi(t._redirectPersistence)}function iK(t){return Wm(eK,t.config.apiKey,t.name)}async function oK(t,e,n=!1){if(ss(t.app))return Promise.reject(Ni(t));const s=Hi(t),r=ZR(s,e),a=await new tK(s,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK=10*60*1e3;class lK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!tD(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(xr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aK&&this.cachedEventUids.clear(),this.cachedEventUids.has(JE(e))}saveEventToCache(e){this.cachedEventUids.add(JE(e)),this.lastProcessedEventTime=Date.now()}}function JE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uK(t,e={}){return Sr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hK=/^https?/;async function fK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uK(t);for(const n of e)try{if(mK(n))return}catch{}Ys(t,"unauthorized-domain")}function mK(t){const e=rw(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===s}if(!hK.test(n))return!1;if(dK.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=new nf(3e4,6e4);function ZE(){const t=Gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gK(t){return new Promise((e,n)=>{var r,o,a;function s(){ZE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZE(),n(xr(t,"network-request-failed"))},timeout:pK.get()})}if((o=(r=Gr().gapi)==null?void 0:r.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=Gr().gapi)!=null&&a.load)s();else{const l=eG("iframefcb");return Gr()[l]=()=>{gapi.load?s():n(xr(t,"network-request-failed"))},FR(`${Zq()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw qm=null,e})}let qm=null;function xK(t){return qm=qm||gK(t),qm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK=new nf(5e3,15e3),vK="__/auth/iframe",wK="emulator/auth/iframe",bK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NK(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?O1(e,wK):`https://${t.config.authDomain}/${vK}`,s={apiKey:e.apiKey,appName:t.name,v:kl},r=jK.get(t.config.apiHost);r&&(s.eid=r);const o=t._getFrameworks();return o.length&&(s.fw=o.join(",")),`${n}?${tf(s).slice(1)}`}async function _K(t){const e=await xK(t),n=Gr().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:NK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bK,dontclear:!0},s=>new Promise(async(r,o)=>{await s.restyle({setHideOnLeave:!1});const a=xr(t,"network-request-failed"),l=Gr().setTimeout(()=>{o(a)},yK.get());function c(){Gr().clearTimeout(l),r(s)}s.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EK=500,TK=600,CK="_blank",AK="http://localhost";class eT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PK(t,e,n,s=EK,r=TK){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c={...SK,width:s.toString(),height:r.toString(),top:o,left:a},u=Un().toLowerCase();n&&(l=kR(u)?CK:n),PR(u)&&(e=e||AK,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[g,y])=>`${m}${g}=${y},`,"");if(Wq(u)&&l!=="_self")return IK(e||"",l),new eT(null);const h=window.open(e||"",l,d);Ce(h,t,"popup-blocked");try{h.focus()}catch{}return new eT(h)}function IK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK="__/auth/handler",RK="emulator/auth/handler",DK=encodeURIComponent("fac");async function tT(t,e,n,s,r,o){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:kl,eventId:r};if(e instanceof $1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",uH(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))a[d]=h}if(e instanceof rf){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${DK}=${encodeURIComponent(c)}`:"";return`${MK(t)}?${tf(l).slice(1)}${u}`}function MK({config:t}){return t.emulator?O1(t,RK):`https://${t.authDomain}/${kK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="webStorageSupport";class OK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KR,this._completeRedirectFn=oK,this._overrideRedirectResult=sK}async _openPopup(e,n,s,r){var a;Mi((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await tT(e,n,s,rw(),r);return PK(e,o,z1())}async _openRedirect(e,n,s,r){await this._originValidation(e);const o=await tT(e,n,s,rw(),r);return FG(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Mi(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await _K(e),s=new lK(e);return n.register("authEvent",r=>(Ce(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sv,{type:sv},r=>{var a;const o=(a=r==null?void 0:r[0])==null?void 0:a[sv];o!==void 0&&n(!!o),Ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LR()||IR()||V1()}}const LK=OK;var nT="@firebase/auth",sT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UK(t){dl(new Jo("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=s.options;Ce(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VR(t)},u=new Qq(s,r,o,c);return oG(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),dl(new Jo("auth-internal",e=>{const n=Hi(e.getProvider("auth").getImmediate());return(s=>new VK(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(nT,sT,FK(t)),qr(nT,sT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K=5*60,zK=gR("authIdTokenMaxAge")||$K;let rT=null;const BK=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>zK)return;const r=n==null?void 0:n.token;rT!==r&&(rT=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function WK(t=sx()){const e=nx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iG(t,{popupRedirectResolver:LK,persistence:[KG,OG,KR]}),s=gR("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const a=BK(o.toString());IG(n,a,()=>a(n.currentUser)),PG(n,l=>a(l))}}const r=fR("auth");return r&&aG(n,`http://${r}`),n}function HK(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Xq({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const o=xr("internal-error");o.customData=r,n(o)},s.type="text/javascript",s.charset="UTF-8",HK().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UK("Browser");var iT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uo,nD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,S){function T(){}T.prototype=S.prototype,_.F=S.prototype,_.prototype=new T,_.prototype.constructor=_,_.D=function(E,P,R){for(var D=Array(arguments.length-2),L=2;L<arguments.length;L++)D[L-2]=arguments[L];return S.prototype[P].apply(E,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(_,S,T){T||(T=0);const E=Array(16);if(typeof S=="string")for(var P=0;P<16;++P)E[P]=S.charCodeAt(T++)|S.charCodeAt(T++)<<8|S.charCodeAt(T++)<<16|S.charCodeAt(T++)<<24;else for(P=0;P<16;++P)E[P]=S[T++]|S[T++]<<8|S[T++]<<16|S[T++]<<24;S=_.g[0],T=_.g[1],P=_.g[2];let R=_.g[3],D;D=S+(R^T&(P^R))+E[0]+3614090360&4294967295,S=T+(D<<7&4294967295|D>>>25),D=R+(P^S&(T^P))+E[1]+3905402710&4294967295,R=S+(D<<12&4294967295|D>>>20),D=P+(T^R&(S^T))+E[2]+606105819&4294967295,P=R+(D<<17&4294967295|D>>>15),D=T+(S^P&(R^S))+E[3]+3250441966&4294967295,T=P+(D<<22&4294967295|D>>>10),D=S+(R^T&(P^R))+E[4]+4118548399&4294967295,S=T+(D<<7&4294967295|D>>>25),D=R+(P^S&(T^P))+E[5]+1200080426&4294967295,R=S+(D<<12&4294967295|D>>>20),D=P+(T^R&(S^T))+E[6]+2821735955&4294967295,P=R+(D<<17&4294967295|D>>>15),D=T+(S^P&(R^S))+E[7]+4249261313&4294967295,T=P+(D<<22&4294967295|D>>>10),D=S+(R^T&(P^R))+E[8]+1770035416&4294967295,S=T+(D<<7&4294967295|D>>>25),D=R+(P^S&(T^P))+E[9]+2336552879&4294967295,R=S+(D<<12&4294967295|D>>>20),D=P+(T^R&(S^T))+E[10]+4294925233&4294967295,P=R+(D<<17&4294967295|D>>>15),D=T+(S^P&(R^S))+E[11]+2304563134&4294967295,T=P+(D<<22&4294967295|D>>>10),D=S+(R^T&(P^R))+E[12]+1804603682&4294967295,S=T+(D<<7&4294967295|D>>>25),D=R+(P^S&(T^P))+E[13]+4254626195&4294967295,R=S+(D<<12&4294967295|D>>>20),D=P+(T^R&(S^T))+E[14]+2792965006&4294967295,P=R+(D<<17&4294967295|D>>>15),D=T+(S^P&(R^S))+E[15]+1236535329&4294967295,T=P+(D<<22&4294967295|D>>>10),D=S+(P^R&(T^P))+E[1]+4129170786&4294967295,S=T+(D<<5&4294967295|D>>>27),D=R+(T^P&(S^T))+E[6]+3225465664&4294967295,R=S+(D<<9&4294967295|D>>>23),D=P+(S^T&(R^S))+E[11]+643717713&4294967295,P=R+(D<<14&4294967295|D>>>18),D=T+(R^S&(P^R))+E[0]+3921069994&4294967295,T=P+(D<<20&4294967295|D>>>12),D=S+(P^R&(T^P))+E[5]+3593408605&4294967295,S=T+(D<<5&4294967295|D>>>27),D=R+(T^P&(S^T))+E[10]+38016083&4294967295,R=S+(D<<9&4294967295|D>>>23),D=P+(S^T&(R^S))+E[15]+3634488961&4294967295,P=R+(D<<14&4294967295|D>>>18),D=T+(R^S&(P^R))+E[4]+3889429448&4294967295,T=P+(D<<20&4294967295|D>>>12),D=S+(P^R&(T^P))+E[9]+568446438&4294967295,S=T+(D<<5&4294967295|D>>>27),D=R+(T^P&(S^T))+E[14]+3275163606&4294967295,R=S+(D<<9&4294967295|D>>>23),D=P+(S^T&(R^S))+E[3]+4107603335&4294967295,P=R+(D<<14&4294967295|D>>>18),D=T+(R^S&(P^R))+E[8]+1163531501&4294967295,T=P+(D<<20&4294967295|D>>>12),D=S+(P^R&(T^P))+E[13]+2850285829&4294967295,S=T+(D<<5&4294967295|D>>>27),D=R+(T^P&(S^T))+E[2]+4243563512&4294967295,R=S+(D<<9&4294967295|D>>>23),D=P+(S^T&(R^S))+E[7]+1735328473&4294967295,P=R+(D<<14&4294967295|D>>>18),D=T+(R^S&(P^R))+E[12]+2368359562&4294967295,T=P+(D<<20&4294967295|D>>>12),D=S+(T^P^R)+E[5]+4294588738&4294967295,S=T+(D<<4&4294967295|D>>>28),D=R+(S^T^P)+E[8]+2272392833&4294967295,R=S+(D<<11&4294967295|D>>>21),D=P+(R^S^T)+E[11]+1839030562&4294967295,P=R+(D<<16&4294967295|D>>>16),D=T+(P^R^S)+E[14]+4259657740&4294967295,T=P+(D<<23&4294967295|D>>>9),D=S+(T^P^R)+E[1]+2763975236&4294967295,S=T+(D<<4&4294967295|D>>>28),D=R+(S^T^P)+E[4]+1272893353&4294967295,R=S+(D<<11&4294967295|D>>>21),D=P+(R^S^T)+E[7]+4139469664&4294967295,P=R+(D<<16&4294967295|D>>>16),D=T+(P^R^S)+E[10]+3200236656&4294967295,T=P+(D<<23&4294967295|D>>>9),D=S+(T^P^R)+E[13]+681279174&4294967295,S=T+(D<<4&4294967295|D>>>28),D=R+(S^T^P)+E[0]+3936430074&4294967295,R=S+(D<<11&4294967295|D>>>21),D=P+(R^S^T)+E[3]+3572445317&4294967295,P=R+(D<<16&4294967295|D>>>16),D=T+(P^R^S)+E[6]+76029189&4294967295,T=P+(D<<23&4294967295|D>>>9),D=S+(T^P^R)+E[9]+3654602809&4294967295,S=T+(D<<4&4294967295|D>>>28),D=R+(S^T^P)+E[12]+3873151461&4294967295,R=S+(D<<11&4294967295|D>>>21),D=P+(R^S^T)+E[15]+530742520&4294967295,P=R+(D<<16&4294967295|D>>>16),D=T+(P^R^S)+E[2]+3299628645&4294967295,T=P+(D<<23&4294967295|D>>>9),D=S+(P^(T|~R))+E[0]+4096336452&4294967295,S=T+(D<<6&4294967295|D>>>26),D=R+(T^(S|~P))+E[7]+1126891415&4294967295,R=S+(D<<10&4294967295|D>>>22),D=P+(S^(R|~T))+E[14]+2878612391&4294967295,P=R+(D<<15&4294967295|D>>>17),D=T+(R^(P|~S))+E[5]+4237533241&4294967295,T=P+(D<<21&4294967295|D>>>11),D=S+(P^(T|~R))+E[12]+1700485571&4294967295,S=T+(D<<6&4294967295|D>>>26),D=R+(T^(S|~P))+E[3]+2399980690&4294967295,R=S+(D<<10&4294967295|D>>>22),D=P+(S^(R|~T))+E[10]+4293915773&4294967295,P=R+(D<<15&4294967295|D>>>17),D=T+(R^(P|~S))+E[1]+2240044497&4294967295,T=P+(D<<21&4294967295|D>>>11),D=S+(P^(T|~R))+E[8]+1873313359&4294967295,S=T+(D<<6&4294967295|D>>>26),D=R+(T^(S|~P))+E[15]+4264355552&4294967295,R=S+(D<<10&4294967295|D>>>22),D=P+(S^(R|~T))+E[6]+2734768916&4294967295,P=R+(D<<15&4294967295|D>>>17),D=T+(R^(P|~S))+E[13]+1309151649&4294967295,T=P+(D<<21&4294967295|D>>>11),D=S+(P^(T|~R))+E[4]+4149444226&4294967295,S=T+(D<<6&4294967295|D>>>26),D=R+(T^(S|~P))+E[11]+3174756917&4294967295,R=S+(D<<10&4294967295|D>>>22),D=P+(S^(R|~T))+E[2]+718787259&4294967295,P=R+(D<<15&4294967295|D>>>17),D=T+(R^(P|~S))+E[9]+3951481745&4294967295,_.g[0]=_.g[0]+S&4294967295,_.g[1]=_.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,_.g[2]=_.g[2]+P&4294967295,_.g[3]=_.g[3]+R&4294967295}s.prototype.v=function(_,S){S===void 0&&(S=_.length);const T=S-this.blockSize,E=this.C;let P=this.h,R=0;for(;R<S;){if(P==0)for(;R<=T;)r(this,_,R),R+=this.blockSize;if(typeof _=="string"){for(;R<S;)if(E[P++]=_.charCodeAt(R++),P==this.blockSize){r(this,E),P=0;break}}else for(;R<S;)if(E[P++]=_[R++],P==this.blockSize){r(this,E),P=0;break}}this.h=P,this.o+=S},s.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var S=1;S<_.length-8;++S)_[S]=0;S=this.o*8;for(var T=_.length-8;T<_.length;++T)_[T]=S&255,S/=256;for(this.v(_),_=Array(16),S=0,T=0;T<4;++T)for(let E=0;E<32;E+=8)_[S++]=this.g[T]>>>E&255;return _};function o(_,S){var T=l;return Object.prototype.hasOwnProperty.call(T,_)?T[_]:T[_]=S(_)}function a(_,S){this.h=S;const T=[];let E=!0;for(let P=_.length-1;P>=0;P--){const R=_[P]|0;E&&R==S||(T[P]=R,E=!1)}this.g=T}var l={};function c(_){return-128<=_&&_<128?o(_,function(S){return new a([S|0],S<0?-1:0)}):new a([_|0],_<0?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return h;if(_<0)return w(u(-_));const S=[];let T=1;for(let E=0;_>=T;E++)S[E]=_/T|0,T*=4294967296;return new a(S,0)}function d(_,S){if(_.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(_.charAt(0)=="-")return w(d(_.substring(1),S));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=u(Math.pow(S,8));let E=h;for(let R=0;R<_.length;R+=8){var P=Math.min(8,_.length-R);const D=parseInt(_.substring(R,R+P),S);P<8?(P=u(Math.pow(S,P)),E=E.j(P).add(u(D))):(E=E.j(T),E=E.add(u(D)))}return E}var h=c(0),m=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(x(this))return-w(this).m();let _=0,S=1;for(let T=0;T<this.g.length;T++){const E=this.i(T);_+=(E>=0?E:4294967296+E)*S,S*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(y(this))return"0";if(x(this))return"-"+w(this).toString(_);const S=u(Math.pow(_,6));var T=this;let E="";for(;;){const P=C(T,S).g;T=v(T,P.j(S));let R=((T.g.length>0?T.g[0]:T.h)>>>0).toString(_);if(T=P,y(T))return R+E;for(;R.length<6;)R="0"+R;E=R+E}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function y(_){if(_.h!=0)return!1;for(let S=0;S<_.g.length;S++)if(_.g[S]!=0)return!1;return!0}function x(_){return _.h==-1}t.l=function(_){return _=v(this,_),x(_)?-1:y(_)?0:1};function w(_){const S=_.g.length,T=[];for(let E=0;E<S;E++)T[E]=~_.g[E];return new a(T,~_.h).add(m)}t.abs=function(){return x(this)?w(this):this},t.add=function(_){const S=Math.max(this.g.length,_.g.length),T=[];let E=0;for(let P=0;P<=S;P++){let R=E+(this.i(P)&65535)+(_.i(P)&65535),D=(R>>>16)+(this.i(P)>>>16)+(_.i(P)>>>16);E=D>>>16,R&=65535,D&=65535,T[P]=D<<16|R}return new a(T,T[T.length-1]&-2147483648?-1:0)};function v(_,S){return _.add(w(S))}t.j=function(_){if(y(this)||y(_))return h;if(x(this))return x(_)?w(this).j(w(_)):w(w(this).j(_));if(x(_))return w(this.j(w(_)));if(this.l(g)<0&&_.l(g)<0)return u(this.m()*_.m());const S=this.g.length+_.g.length,T=[];for(var E=0;E<2*S;E++)T[E]=0;for(E=0;E<this.g.length;E++)for(let P=0;P<_.g.length;P++){const R=this.i(E)>>>16,D=this.i(E)&65535,L=_.i(P)>>>16,F=_.i(P)&65535;T[2*E+2*P]+=D*F,j(T,2*E+2*P),T[2*E+2*P+1]+=R*F,j(T,2*E+2*P+1),T[2*E+2*P+1]+=D*L,j(T,2*E+2*P+1),T[2*E+2*P+2]+=R*L,j(T,2*E+2*P+2)}for(_=0;_<S;_++)T[_]=T[2*_+1]<<16|T[2*_];for(_=S;_<2*S;_++)T[_]=0;return new a(T,0)};function j(_,S){for(;(_[S]&65535)!=_[S];)_[S+1]+=_[S]>>>16,_[S]&=65535,S++}function b(_,S){this.g=_,this.h=S}function C(_,S){if(y(S))throw Error("division by zero");if(y(_))return new b(h,h);if(x(_))return S=C(w(_),S),new b(w(S.g),w(S.h));if(x(S))return S=C(_,w(S)),new b(w(S.g),S.h);if(_.g.length>30){if(x(_)||x(S))throw Error("slowDivide_ only works with positive integers.");for(var T=m,E=S;E.l(_)<=0;)T=k(T),E=k(E);var P=I(T,1),R=I(E,1);for(E=I(E,2),T=I(T,2);!y(E);){var D=R.add(E);D.l(_)<=0&&(P=P.add(T),R=D),E=I(E,1),T=I(T,1)}return S=v(_,P.j(S)),new b(P,S)}for(P=h;_.l(S)>=0;){for(T=Math.max(1,Math.floor(_.m()/S.m())),E=Math.ceil(Math.log(T)/Math.LN2),E=E<=48?1:Math.pow(2,E-48),R=u(T),D=R.j(S);x(D)||D.l(_)>0;)T-=E,R=u(T),D=R.j(S);y(R)&&(R=m),P=P.add(R),_=v(_,D)}return new b(P,_)}t.B=function(_){return C(this,_).h},t.and=function(_){const S=Math.max(this.g.length,_.g.length),T=[];for(let E=0;E<S;E++)T[E]=this.i(E)&_.i(E);return new a(T,this.h&_.h)},t.or=function(_){const S=Math.max(this.g.length,_.g.length),T=[];for(let E=0;E<S;E++)T[E]=this.i(E)|_.i(E);return new a(T,this.h|_.h)},t.xor=function(_){const S=Math.max(this.g.length,_.g.length),T=[];for(let E=0;E<S;E++)T[E]=this.i(E)^_.i(E);return new a(T,this.h^_.h)};function k(_){const S=_.g.length+1,T=[];for(let E=0;E<S;E++)T[E]=_.i(E)<<1|_.i(E-1)>>>31;return new a(T,_.h)}function I(_,S){const T=S>>5;S%=32;const E=_.g.length-T,P=[];for(let R=0;R<E;R++)P[R]=S>0?_.i(R+T)>>>S|_.i(R+T+1)<<32-S:_.i(R+T);return new a(P,_.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,nD=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Uo=a}).apply(typeof iT<"u"?iT:typeof self<"u"?self:typeof window<"u"?window:{});var hm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sD,dd,rD,Gm,aw,iD,oD,aD;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof hm=="object"&&hm];for(var N=0;N<f.length;++N){var A=f[N];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=n(this);function r(f,N){if(N)e:{var A=s;f=f.split(".");for(var O=0;O<f.length-1;O++){var z=f[O];if(!(z in A))break e;A=A[z]}f=f[f.length-1],O=A[f],N=N(O),N!=O&&N!=null&&e(A,f,{configurable:!0,writable:!0,value:N})}}r("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(f){return f||function(N){var A=[],O;for(O in N)Object.prototype.hasOwnProperty.call(N,O)&&A.push([O,N[O]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var N=typeof f;return N=="object"&&f!=null||N=="function"}function c(f,N,A){return f.call.apply(f.bind,arguments)}function u(f,N,A){return u=c,u.apply(null,arguments)}function d(f,N){var A=Array.prototype.slice.call(arguments,1);return function(){var O=A.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function h(f,N){function A(){}A.prototype=N.prototype,f.Z=N.prototype,f.prototype=new A,f.prototype.constructor=f,f.Ob=function(O,z,H){for(var oe=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)oe[Fe-2]=arguments[Fe];return N.prototype[z].apply(O,oe)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function g(f){const N=f.length;if(N>0){const A=Array(N);for(let O=0;O<N;O++)A[O]=f[O];return A}return[]}function y(f,N){for(let O=1;O<arguments.length;O++){const z=arguments[O];var A=typeof z;if(A=A!="object"?A:z?Array.isArray(z)?"array":A:"null",A=="array"||A=="object"&&typeof z.length=="number"){A=f.length||0;const H=z.length||0;f.length=A+H;for(let oe=0;oe<H;oe++)f[A+oe]=z[oe]}else f.push(z)}}class x{constructor(N,A){this.i=N,this.j=A,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function w(f){a.setTimeout(()=>{throw f},0)}function v(){var f=_;let N=null;return f.g&&(N=f.g,f.g=f.g.next,f.g||(f.h=null),N.next=null),N}class j{constructor(){this.h=this.g=null}add(N,A){const O=b.get();O.set(N,A),this.h?this.h.next=O:this.g=O,this.h=O}}var b=new x(()=>new C,f=>f.reset());class C{constructor(){this.next=this.g=this.h=null}set(N,A){this.h=N,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let k,I=!1,_=new j,S=()=>{const f=Promise.resolve(void 0);k=()=>{f.then(T)}};function T(){for(var f;f=v();){try{f.h.call(f.g)}catch(A){w(A)}var N=b;N.j(f),N.h<100&&(N.h++,f.next=N.g,N.g=f)}I=!1}function E(){this.u=this.u,this.C=this.C}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(f,N){this.type=f,this.g=this.target=N,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,N=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};a.addEventListener("test",A,N),a.removeEventListener("test",A,N)}catch{}return f}();function D(f){return/^[\s\xa0]*$/.test(f)}function L(f,N){P.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,N)}h(L,P),L.prototype.init=function(f,N){const A=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=N,N=f.relatedTarget,N||(A=="mouseover"?N=f.fromElement:A=="mouseout"&&(N=f.toElement)),this.relatedTarget=N,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&L.Z.h.call(this)},L.prototype.h=function(){L.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var F="closure_listenable_"+(Math.random()*1e6|0),W=0;function B(f,N,A,O,z){this.listener=f,this.proxy=null,this.src=N,this.type=A,this.capture=!!O,this.ha=z,this.key=++W,this.da=this.fa=!1}function V(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function M(f,N,A){for(const O in f)N.call(A,f[O],O,f)}function $(f,N){for(const A in f)N.call(void 0,f[A],A,f)}function G(f){const N={};for(const A in f)N[A]=f[A];return N}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(f,N){let A,O;for(let z=1;z<arguments.length;z++){O=arguments[z];for(A in O)f[A]=O[A];for(let H=0;H<Z.length;H++)A=Z[H],Object.prototype.hasOwnProperty.call(O,A)&&(f[A]=O[A])}}function q(f){this.src=f,this.g={},this.h=0}q.prototype.add=function(f,N,A,O,z){const H=f.toString();f=this.g[H],f||(f=this.g[H]=[],this.h++);const oe=ve(f,N,O,z);return oe>-1?(N=f[oe],A||(N.fa=!1)):(N=new B(N,this.src,H,!!O,z),N.fa=A,f.push(N)),N};function te(f,N){const A=N.type;if(A in f.g){var O=f.g[A],z=Array.prototype.indexOf.call(O,N,void 0),H;(H=z>=0)&&Array.prototype.splice.call(O,z,1),H&&(V(N),f.g[A].length==0&&(delete f.g[A],f.h--))}}function ve(f,N,A,O){for(let z=0;z<f.length;++z){const H=f[z];if(!H.da&&H.listener==N&&H.capture==!!A&&H.ha==O)return z}return-1}var Y="closure_lm_"+(Math.random()*1e6|0),ye={};function we(f,N,A,O,z){if(Array.isArray(N)){for(let H=0;H<N.length;H++)we(f,N[H],A,O,z);return null}return A=Jt(A),f&&f[F]?f.J(N,A,l(O)?!!O.capture:!1,z):Se(f,N,A,!1,O,z)}function Se(f,N,A,O,z,H){if(!N)throw Error("Invalid event type");const oe=l(z)?!!z.capture:!!z;let Fe=ut(f);if(Fe||(f[Y]=Fe=new q(f)),A=Fe.add(N,A,O,oe,H),A.proxy)return A;if(O=be(),A.proxy=O,O.src=f,O.listener=A,f.addEventListener)R||(z=oe),z===void 0&&(z=!1),f.addEventListener(N.toString(),O,z);else if(f.attachEvent)f.attachEvent($e(N.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return A}function be(){function f(A){return N.call(f.src,f.listener,A)}const N=ot;return f}function ne(f,N,A,O,z){if(Array.isArray(N))for(var H=0;H<N.length;H++)ne(f,N[H],A,O,z);else O=l(O)?!!O.capture:!!O,A=Jt(A),f&&f[F]?(f=f.i,H=String(N).toString(),H in f.g&&(N=f.g[H],A=ve(N,A,O,z),A>-1&&(V(N[A]),Array.prototype.splice.call(N,A,1),N.length==0&&(delete f.g[H],f.h--)))):f&&(f=ut(f))&&(N=f.g[N.toString()],f=-1,N&&(f=ve(N,A,O,z)),(A=f>-1?N[f]:null)&&Te(A))}function Te(f){if(typeof f!="number"&&f&&!f.da){var N=f.src;if(N&&N[F])te(N.i,f);else{var A=f.type,O=f.proxy;N.removeEventListener?N.removeEventListener(A,O,f.capture):N.detachEvent?N.detachEvent($e(A),O):N.addListener&&N.removeListener&&N.removeListener(O),(A=ut(N))?(te(A,f),A.h==0&&(A.src=null,N[Y]=null)):V(f)}}}function $e(f){return f in ye?ye[f]:ye[f]="on"+f}function ot(f,N){if(f.da)f=!0;else{N=new L(N,this);const A=f.listener,O=f.ha||f.src;f.fa&&Te(f),f=A.call(O,N)}return f}function ut(f){return f=f[Y],f instanceof q?f:null}var St="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jt(f){return typeof f=="function"?f:(f[St]||(f[St]=function(N){return f.handleEvent(N)}),f[St])}function qe(){E.call(this),this.i=new q(this),this.M=this,this.G=null}h(qe,E),qe.prototype[F]=!0,qe.prototype.removeEventListener=function(f,N,A,O){ne(this,f,N,A,O)};function tt(f,N){var A,O=f.G;if(O)for(A=[];O;O=O.G)A.push(O);if(f=f.M,O=N.type||N,typeof N=="string")N=new P(N,f);else if(N instanceof P)N.target=N.target||f;else{var z=N;N=new P(O,f),U(N,z)}z=!0;let H,oe;if(A)for(oe=A.length-1;oe>=0;oe--)H=N.g=A[oe],z=Zt(H,O,!0,N)&&z;if(H=N.g=f,z=Zt(H,O,!0,N)&&z,z=Zt(H,O,!1,N)&&z,A)for(oe=0;oe<A.length;oe++)H=N.g=A[oe],z=Zt(H,O,!1,N)&&z}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var f=this.i;for(const N in f.g){const A=f.g[N];for(let O=0;O<A.length;O++)V(A[O]);delete f.g[N],f.h--}}this.G=null},qe.prototype.J=function(f,N,A,O){return this.i.add(String(f),N,!1,A,O)},qe.prototype.K=function(f,N,A,O){return this.i.add(String(f),N,!0,A,O)};function Zt(f,N,A,O){if(N=f.i.g[String(N)],!N)return!0;N=N.concat();let z=!0;for(let H=0;H<N.length;++H){const oe=N[H];if(oe&&!oe.da&&oe.capture==A){const Fe=oe.listener,tn=oe.ha||oe.src;oe.fa&&te(f.i,oe),z=Fe.call(tn,O)!==!1&&z}}return z&&!O.defaultPrevented}function X(f,N){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:a.setTimeout(f,N||0)}function Ge(f){f.g=X(()=>{f.g=null,f.i&&(f.i=!1,Ge(f))},f.l);const N=f.h;f.h=null,f.m.apply(null,N)}class Rt extends E{constructor(N,A){super(),this.m=N,this.l=A,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:Ge(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Et(f){E.call(this),this.h=f,this.g={}}h(Et,E);var dt=[];function Ht(f){M(f.g,function(N,A){this.g.hasOwnProperty(A)&&Te(N)},f),f.g={}}Et.prototype.N=function(){Et.Z.N.call(this),Ht(this)},Et.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xs=a.JSON.stringify,ui=a.JSON.parse,Xn=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function fs(){}function Is(){}var en={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zn(){P.call(this,"d")}h(zn,P);function Yi(){P.call(this,"c")}h(Yi,P);var Tn={},zl=null;function Qi(){return zl=zl||new qe}Tn.Ia="serverreachability";function Xi(f){P.call(this,Tn.Ia,f)}h(Xi,P);function Ar(f){const N=Qi();tt(N,new Xi(N))}Tn.STAT_EVENT="statevent";function ya(f,N){P.call(this,Tn.STAT_EVENT,f),this.stat=N}h(ya,P);function Dt(f){const N=Qi();tt(N,new ya(N,f))}Tn.Ja="timingevent";function Jn(f,N){P.call(this,Tn.Ja,f),this.size=N}h(Jn,P);function di(f,N){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},N)}function Ee(){this.g=!0}Ee.prototype.ua=function(){this.g=!1};function Ye(f,N,A,O,z,H){f.info(function(){if(f.g)if(H){var oe="",Fe=H.split("&");for(let at=0;at<Fe.length;at++){var tn=Fe[at].split("=");if(tn.length>1){const cn=tn[0];tn=tn[1];const kr=cn.split("_");oe=kr.length>=2&&kr[1]=="type"?oe+(cn+"="+tn+"&"):oe+(cn+"=redacted&")}}}else oe=null;else oe=H;return"XMLHTTP REQ ("+O+") [attempt "+z+"]: "+N+`
`+A+`
`+oe})}function rt(f,N,A,O,z,H,oe){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+z+"]: "+N+`
`+A+`
`+H+" "+oe})}function ln(f,N,A,O){f.info(function(){return"XMLHTTP TEXT ("+N+"): "+Pr(f,A)+(O?" "+O:"")})}function ms(f,N){f.info(function(){return"TIMEOUT: "+N})}Ee.prototype.info=function(){};function Pr(f,N){if(!f.g)return N;if(!N)return null;try{const H=JSON.parse(N);if(H){for(f=0;f<H.length;f++)if(Array.isArray(H[f])){var A=H[f];if(!(A.length<2)){var O=A[1];if(Array.isArray(O)&&!(O.length<1)){var z=O[0];if(z!="noop"&&z!="stop"&&z!="close")for(let oe=1;oe<O.length;oe++)O[oe]=""}}}}return Xs(H)}catch{return N}}var ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Js;function ty(){}h(ty,fs),ty.prototype.g=function(){return new XMLHttpRequest},Js=new ty;function Ru(f){return encodeURIComponent(String(f))}function GV(f){var N=1;f=f.split(":");const A=[];for(;N>0&&f.length;)A.push(f.shift()),N--;return f.length&&A.push(f.join(":")),A}function Ji(f,N,A,O){this.j=f,this.i=N,this.l=A,this.S=O||1,this.V=new Et(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new YN}function YN(){this.i=null,this.g="",this.h=!1}var QN={},ny={};function sy(f,N,A){f.M=1,f.A=Df(Ir(N)),f.u=A,f.R=!0,XN(f,null)}function XN(f,N){f.F=Date.now(),Rf(f),f.B=Ir(f.A);var A=f.B,O=f.S;Array.isArray(O)||(O=[String(O)]),u_(A.i,"t",O),f.C=0,A=f.j.L,f.h=new YN,f.g=C_(f.j,A?N:null,!f.u),f.P>0&&(f.O=new Rt(u(f.Y,f,f.g),f.P)),N=f.V,A=f.g,O=f.ba;var z="readystatechange";Array.isArray(z)||(z&&(dt[0]=z.toString()),z=dt);for(let H=0;H<z.length;H++){const oe=we(A,z[H],O||N.handleEvent,!1,N.h||N);if(!oe)break;N.g[oe.key]=oe}N=f.J?G(f.J):{},f.u?(f.v||(f.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,N)):(f.v="GET",f.g.ea(f.B,f.v,null,N)),Ar(),Ye(f.i,f.v,f.B,f.l,f.S,f.u)}Ji.prototype.ba=function(f){f=f.target;const N=this.O;N&&to(f)==3?N.j():this.Y(f)},Ji.prototype.Y=function(f){try{if(f==this.g)e:{const Fe=to(this.g),tn=this.g.ya(),at=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||x_(this.g)))){this.K||Fe!=4||tn==7||(tn==8||at<=0?Ar(3):Ar(2)),ry(this);var N=this.g.ca();this.X=N;var A=KV(this);if(this.o=N==200,rt(this.i,this.v,this.B,this.l,this.S,Fe,N),this.o){if(this.U&&!this.L){t:{if(this.g){var O,z=this.g;if((O=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(O)){var H=O;break t}}H=null}if(f=H)ln(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,iy(this,f);else{this.o=!1,this.m=3,Dt(12),va(this),Du(this);break e}}if(this.R){f=!0;let cn;for(;!this.K&&this.C<A.length;)if(cn=YV(this,A),cn==ny){Fe==4&&(this.m=4,Dt(14),f=!1),ln(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==QN){this.m=4,Dt(15),ln(this.i,this.l,A,"[Invalid Chunk]"),f=!1;break}else ln(this.i,this.l,cn,null),iy(this,cn);if(JN(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||A.length!=0||this.h.h||(this.m=1,Dt(16),f=!1),this.o=this.o&&f,!f)ln(this.i,this.l,A,"[Invalid Chunked Response]"),va(this),Du(this);else if(A.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),fy(oe),oe.P=!0,Dt(11))}}else ln(this.i,this.l,A,null),iy(this,A);Fe==4&&va(this),this.o&&!this.K&&(Fe==4?__(this.j,this):(this.o=!1,Rf(this)))}else cF(this.g),N==400&&A.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),va(this),Du(this)}}}catch{}finally{}};function KV(f){if(!JN(f))return f.g.la();const N=x_(f.g);if(N==="")return"";let A="";const O=N.length,z=to(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return va(f),Du(f),"";f.h.i=new a.TextDecoder}for(let H=0;H<O;H++)f.h.h=!0,A+=f.h.i.decode(N[H],{stream:!(z&&H==O-1)});return N.length=0,f.h.g+=A,f.C=0,f.h.g}function JN(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function YV(f,N){var A=f.C,O=N.indexOf(`
`,A);return O==-1?ny:(A=Number(N.substring(A,O)),isNaN(A)?QN:(O+=1,O+A>N.length?ny:(N=N.slice(O,O+A),f.C=O+A,N)))}Ji.prototype.cancel=function(){this.K=!0,va(this)};function Rf(f){f.T=Date.now()+f.H,ZN(f,f.H)}function ZN(f,N){if(f.D!=null)throw Error("WatchDog timer not null");f.D=di(u(f.aa,f),N)}function ry(f){f.D&&(a.clearTimeout(f.D),f.D=null)}Ji.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ms(this.i,this.B),this.M!=2&&(Ar(),Dt(17)),va(this),this.m=2,Du(this)):ZN(this,this.T-f)};function Du(f){f.j.I==0||f.K||__(f.j,f)}function va(f){ry(f);var N=f.O;N&&typeof N.dispose=="function"&&N.dispose(),f.O=null,Ht(f.V),f.g&&(N=f.g,f.g=null,N.abort(),N.dispose())}function iy(f,N){try{var A=f.j;if(A.I!=0&&(A.g==f||oy(A.h,f))){if(!f.L&&oy(A.h,f)&&A.I==3){try{var O=A.Ba.g.parse(N)}catch{O=null}if(Array.isArray(O)&&O.length==3){var z=O;if(z[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<f.F)Ff(A),Lf(A);else break e;hy(A),Dt(18)}}else A.xa=z[1],0<A.xa-A.K&&z[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=di(u(A.Va,A),6e3));n_(A.h)<=1&&A.ta&&(A.ta=void 0)}else ba(A,11)}else if((f.L||A.g==f)&&Ff(A),!D(N))for(z=A.Ba.g.parse(N),N=0;N<z.length;N++){let at=z[N];const cn=at[0];if(!(cn<=A.K))if(A.K=cn,at=at[1],A.I==2)if(at[0]=="c"){A.M=at[1],A.ba=at[2];const kr=at[3];kr!=null&&(A.ka=kr,A.j.info("VER="+A.ka));const ja=at[4];ja!=null&&(A.za=ja,A.j.info("SVER="+A.za));const no=at[5];no!=null&&typeof no=="number"&&no>0&&(O=1.5*no,A.O=O,A.j.info("backChannelRequestTimeoutMs_="+O)),O=A;const so=f.g;if(so){const $f=so.g?so.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($f){var H=O.h;H.g||$f.indexOf("spdy")==-1&&$f.indexOf("quic")==-1&&$f.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ay(H,H.h),H.h=null))}if(O.G){const my=so.g?so.g.getResponseHeader("X-HTTP-Session-Id"):null;my&&(O.wa=my,mt(O.J,O.G,my))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-f.F,A.j.info("Handshake RTT: "+A.T+"ms")),O=A;var oe=f;if(O.na=T_(O,O.L?O.ba:null,O.W),oe.L){s_(O.h,oe);var Fe=oe,tn=O.O;tn&&(Fe.H=tn),Fe.D&&(ry(Fe),Rf(Fe)),O.g=oe}else j_(O);A.i.length>0&&Vf(A)}else at[0]!="stop"&&at[0]!="close"||ba(A,7);else A.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?ba(A,7):dy(A):at[0]!="noop"&&A.l&&A.l.qa(at),A.A=0)}}Ar(4)}catch{}}var QV=class{constructor(f,N){this.g=f,this.map=N}};function e_(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function t_(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function n_(f){return f.h?1:f.g?f.g.size:0}function oy(f,N){return f.h?f.h==N:f.g?f.g.has(N):!1}function ay(f,N){f.g?f.g.add(N):f.h=N}function s_(f,N){f.h&&f.h==N?f.h=null:f.g&&f.g.has(N)&&f.g.delete(N)}e_.prototype.cancel=function(){if(this.i=r_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function r_(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let N=f.i;for(const A of f.g.values())N=N.concat(A.G);return N}return g(f.i)}var i_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XV(f,N){if(f){f=f.split("&");for(let A=0;A<f.length;A++){const O=f[A].indexOf("=");let z,H=null;O>=0?(z=f[A].substring(0,O),H=f[A].substring(O+1)):z=f[A],N(z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Zi(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;f instanceof Zi?(this.l=f.l,Mu(this,f.j),this.o=f.o,this.g=f.g,Ou(this,f.u),this.h=f.h,ly(this,d_(f.i)),this.m=f.m):f&&(N=String(f).match(i_))?(this.l=!1,Mu(this,N[1]||"",!0),this.o=Lu(N[2]||""),this.g=Lu(N[3]||"",!0),Ou(this,N[4]),this.h=Lu(N[5]||"",!0),ly(this,N[6]||"",!0),this.m=Lu(N[7]||"")):(this.l=!1,this.i=new Fu(null,this.l))}Zi.prototype.toString=function(){const f=[];var N=this.j;N&&f.push(Vu(N,o_,!0),":");var A=this.g;return(A||N=="file")&&(f.push("//"),(N=this.o)&&f.push(Vu(N,o_,!0),"@"),f.push(Ru(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&f.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(Vu(A,A.charAt(0)=="/"?eF:ZV,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",Vu(A,nF)),f.join("")},Zi.prototype.resolve=function(f){const N=Ir(this);let A=!!f.j;A?Mu(N,f.j):A=!!f.o,A?N.o=f.o:A=!!f.g,A?N.g=f.g:A=f.u!=null;var O=f.h;if(A)Ou(N,f.u);else if(A=!!f.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var z=N.h.lastIndexOf("/");z!=-1&&(O=N.h.slice(0,z+1)+O)}if(z=O,z==".."||z==".")O="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){O=z.lastIndexOf("/",0)==0,z=z.split("/");const H=[];for(let oe=0;oe<z.length;){const Fe=z[oe++];Fe=="."?O&&oe==z.length&&H.push(""):Fe==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),O&&oe==z.length&&H.push("")):(H.push(Fe),O=!0)}O=H.join("/")}else O=z}return A?N.h=O:A=f.i.toString()!=="",A?ly(N,d_(f.i)):A=!!f.m,A&&(N.m=f.m),N};function Ir(f){return new Zi(f)}function Mu(f,N,A){f.j=A?Lu(N,!0):N,f.j&&(f.j=f.j.replace(/:$/,""))}function Ou(f,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);f.u=N}else f.u=null}function ly(f,N,A){N instanceof Fu?(f.i=N,sF(f.i,f.l)):(A||(N=Vu(N,tF)),f.i=new Fu(N,f.l))}function mt(f,N,A){f.i.set(N,A)}function Df(f){return mt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Lu(f,N){return f?N?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Vu(f,N,A){return typeof f=="string"?(f=encodeURI(f).replace(N,JV),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function JV(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var o_=/[#\/\?@]/g,ZV=/[#\?:]/g,eF=/[#\?]/g,tF=/[#\?@]/g,nF=/#/g;function Fu(f,N){this.h=this.g=null,this.i=f||null,this.j=!!N}function wa(f){f.g||(f.g=new Map,f.h=0,f.i&&XV(f.i,function(N,A){f.add(decodeURIComponent(N.replace(/\+/g," ")),A)}))}t=Fu.prototype,t.add=function(f,N){wa(this),this.i=null,f=Bl(this,f);let A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(N),this.h+=1,this};function a_(f,N){wa(f),N=Bl(f,N),f.g.has(N)&&(f.i=null,f.h-=f.g.get(N).length,f.g.delete(N))}function l_(f,N){return wa(f),N=Bl(f,N),f.g.has(N)}t.forEach=function(f,N){wa(this),this.g.forEach(function(A,O){A.forEach(function(z){f.call(N,z,O,this)},this)},this)};function c_(f,N){wa(f);let A=[];if(typeof N=="string")l_(f,N)&&(A=A.concat(f.g.get(Bl(f,N))));else for(f=Array.from(f.g.values()),N=0;N<f.length;N++)A=A.concat(f[N]);return A}t.set=function(f,N){return wa(this),this.i=null,f=Bl(this,f),l_(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[N]),this.h+=1,this},t.get=function(f,N){return f?(f=c_(this,f),f.length>0?String(f[0]):N):N};function u_(f,N,A){a_(f,N),A.length>0&&(f.i=null,f.g.set(Bl(f,N),g(A)),f.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],N=Array.from(this.g.keys());for(let O=0;O<N.length;O++){var A=N[O];const z=Ru(A);A=c_(this,A);for(let H=0;H<A.length;H++){let oe=z;A[H]!==""&&(oe+="="+Ru(A[H])),f.push(oe)}}return this.i=f.join("&")};function d_(f){const N=new Fu;return N.i=f.i,f.g&&(N.g=new Map(f.g),N.h=f.h),N}function Bl(f,N){return N=String(N),f.j&&(N=N.toLowerCase()),N}function sF(f,N){N&&!f.j&&(wa(f),f.i=null,f.g.forEach(function(A,O){const z=O.toLowerCase();O!=z&&(a_(this,O),u_(this,z,A))},f)),f.j=N}function rF(f,N){const A=new Ee;if(a.Image){const O=new Image;O.onload=d(eo,A,"TestLoadImage: loaded",!0,N,O),O.onerror=d(eo,A,"TestLoadImage: error",!1,N,O),O.onabort=d(eo,A,"TestLoadImage: abort",!1,N,O),O.ontimeout=d(eo,A,"TestLoadImage: timeout",!1,N,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else N(!1)}function iF(f,N){const A=new Ee,O=new AbortController,z=setTimeout(()=>{O.abort(),eo(A,"TestPingServer: timeout",!1,N)},1e4);fetch(f,{signal:O.signal}).then(H=>{clearTimeout(z),H.ok?eo(A,"TestPingServer: ok",!0,N):eo(A,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(z),eo(A,"TestPingServer: error",!1,N)})}function eo(f,N,A,O,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),O(A)}catch{}}function oF(){this.g=new Xn}function cy(f){this.i=f.Sb||null,this.h=f.ab||!1}h(cy,fs),cy.prototype.g=function(){return new Mf(this.i,this.h)};function Mf(f,N){qe.call(this),this.H=f,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Mf,qe),t=Mf.prototype,t.open=function(f,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=N,this.readyState=1,$u(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(N.body=f),(this.H||a).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Uu(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,$u(this)),this.g&&(this.readyState=3,$u(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;h_(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function h_(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var N=f.value?f.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!f.done}))&&(this.response=this.responseText+=N)}f.done?Uu(this):$u(this),this.readyState==3&&h_(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Uu(this))},t.Na=function(f){this.g&&(this.response=f,Uu(this))},t.ga=function(){this.g&&Uu(this)};function Uu(f){f.readyState=4,f.l=null,f.j=null,f.B=null,$u(f)}t.setRequestHeader=function(f,N){this.A.append(f,N)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],N=this.h.entries();for(var A=N.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=N.next();return f.join(`\r
`)};function $u(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Mf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function f_(f){let N="";return M(f,function(A,O){N+=O,N+=":",N+=A,N+=`\r
`}),N}function uy(f,N,A){e:{for(O in A){var O=!1;break e}O=!0}O||(A=f_(A),typeof f=="string"?A!=null&&Ru(A):mt(f,N,A))}function Mt(f){qe.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Mt,qe);var aF=/^https?$/i,lF=["POST","PUT"];t=Mt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,N,A,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);N=N?N.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Js.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(N,String(f),!0),this.B=!1}catch(H){m_(this,H);return}if(f=A||"",A=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var z in O)A.set(z,O[z]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const H of O.keys())A.set(H,O.get(H));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(A.keys()).find(H=>H.toLowerCase()=="content-type"),z=a.FormData&&f instanceof a.FormData,!(Array.prototype.indexOf.call(lF,N,void 0)>=0)||O||z||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,oe]of A)this.g.setRequestHeader(H,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(H){m_(this,H)}};function m_(f,N){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=N,f.o=5,p_(f),Of(f)}function p_(f){f.A||(f.A=!0,tt(f,"complete"),tt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,tt(this,"complete"),tt(this,"abort"),Of(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Of(this,!0)),Mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?g_(this):this.Xa())},t.Xa=function(){g_(this)};function g_(f){if(f.h&&typeof o<"u"){if(f.v&&to(f)==4)setTimeout(f.Ca.bind(f),0);else if(tt(f,"readystatechange"),to(f)==4){f.h=!1;try{const H=f.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var A;if(!(A=N)){var O;if(O=H===0){let oe=String(f.D).match(i_)[1]||null;!oe&&a.self&&a.self.location&&(oe=a.self.location.protocol.slice(0,-1)),O=!aF.test(oe?oe.toLowerCase():"")}A=O}if(A)tt(f,"complete"),tt(f,"success");else{f.o=6;try{var z=to(f)>2?f.g.statusText:""}catch{z=""}f.l=z+" ["+f.ca()+"]",p_(f)}}finally{Of(f)}}}}function Of(f,N){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const A=f.g;f.g=null,N||tt(f,"ready");try{A.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function to(f){return f.g?f.g.readyState:0}t.ca=function(){try{return to(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var N=this.g.responseText;return f&&N.indexOf(f)==0&&(N=N.substring(f.length)),ui(N)}};function x_(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function cF(f){const N={};f=(f.g&&to(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(D(f[O]))continue;var A=GV(f[O]);const z=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const H=N[z]||[];N[z]=H,H.push(A)}$(N,function(O){return O.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zu(f,N,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||N}function y_(f){this.za=0,this.i=[],this.j=new Ee,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zu("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zu("baseRetryDelayMs",5e3,f),this.Za=zu("retryDelaySeedMs",1e4,f),this.Ta=zu("forwardChannelMaxRetries",2,f),this.va=zu("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new e_(f&&f.concurrentRequestLimit),this.Ba=new oF,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=y_.prototype,t.ka=8,t.I=1,t.connect=function(f,N,A,O){Dt(0),this.W=f,this.H=N||{},A&&O!==void 0&&(this.H.OSID=A,this.H.OAID=O),this.F=this.X,this.J=T_(this,null,this.W),Vf(this)};function dy(f){if(v_(f),f.I==3){var N=f.V++,A=Ir(f.J);if(mt(A,"SID",f.M),mt(A,"RID",N),mt(A,"TYPE","terminate"),Bu(f,A),N=new Ji(f,f.j,N),N.M=2,N.A=Df(Ir(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(N.A.toString(),"")}catch{}!A&&a.Image&&(new Image().src=N.A,A=!0),A||(N.g=C_(N.j,null),N.g.ea(N.A)),N.F=Date.now(),Rf(N)}E_(f)}function Lf(f){f.g&&(fy(f),f.g.cancel(),f.g=null)}function v_(f){Lf(f),f.v&&(a.clearTimeout(f.v),f.v=null),Ff(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&a.clearTimeout(f.m),f.m=null)}function Vf(f){if(!t_(f.h)&&!f.m){f.m=!0;var N=f.Ea;k||S(),I||(k(),I=!0),_.add(N,f),f.D=0}}function uF(f,N){return n_(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=N.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=di(u(f.Ea,f,N),S_(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const z=new Ji(this,this.j,f);let H=this.o;if(this.U&&(H?(H=G(H),U(H,this.U)):H=this.U),this.u!==null||this.R||(z.J=H,H=null),this.S)e:{for(var N=0,A=0;A<this.i.length;A++){t:{var O=this.i[A];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(N+=O,N>4096){N=A;break e}if(N===4096||A===this.i.length-1){N=A+1;break e}}N=1e3}else N=1e3;N=b_(this,z,N),A=Ir(this.J),mt(A,"RID",f),mt(A,"CVER",22),this.G&&mt(A,"X-HTTP-Session-Id",this.G),Bu(this,A),H&&(this.R?N="headers="+Ru(f_(H))+"&"+N:this.u&&uy(A,this.u,H)),ay(this.h,z),this.Ra&&mt(A,"TYPE","init"),this.S?(mt(A,"$req",N),mt(A,"SID","null"),z.U=!0,sy(z,A,null)):sy(z,A,N),this.I=2}}else this.I==3&&(f?w_(this,f):this.i.length==0||t_(this.h)||w_(this))};function w_(f,N){var A;N?A=N.l:A=f.V++;const O=Ir(f.J);mt(O,"SID",f.M),mt(O,"RID",A),mt(O,"AID",f.K),Bu(f,O),f.u&&f.o&&uy(O,f.u,f.o),A=new Ji(f,f.j,A,f.D+1),f.u===null&&(A.J=f.o),N&&(f.i=N.G.concat(f.i)),N=b_(f,A,1e3),A.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ay(f.h,A),sy(A,O,N)}function Bu(f,N){f.H&&M(f.H,function(A,O){mt(N,O,A)}),f.l&&M({},function(A,O){mt(N,O,A)})}function b_(f,N,A){A=Math.min(f.i.length,A);const O=f.l?u(f.l.Ka,f.l,f):null;e:{var z=f.i;let Fe=-1;for(;;){const tn=["count="+A];Fe==-1?A>0?(Fe=z[0].g,tn.push("ofs="+Fe)):Fe=0:tn.push("ofs="+Fe);let at=!0;for(let cn=0;cn<A;cn++){var H=z[cn].g;const kr=z[cn].map;if(H-=Fe,H<0)Fe=Math.max(0,z[cn].g-100),at=!1;else try{H="req"+H+"_"||"";try{var oe=kr instanceof Map?kr:Object.entries(kr);for(const[ja,no]of oe){let so=no;l(no)&&(so=Xs(no)),tn.push(H+ja+"="+encodeURIComponent(so))}}catch(ja){throw tn.push(H+"type="+encodeURIComponent("_badmap")),ja}}catch{O&&O(kr)}}if(at){oe=tn.join("&");break e}}oe=void 0}return f=f.i.splice(0,A),N.G=f,oe}function j_(f){if(!f.g&&!f.v){f.Y=1;var N=f.Da;k||S(),I||(k(),I=!0),_.add(N,f),f.A=0}}function hy(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=di(u(f.Da,f),S_(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,N_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=di(u(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Lf(this),N_(this))};function fy(f){f.B!=null&&(a.clearTimeout(f.B),f.B=null)}function N_(f){f.g=new Ji(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var N=Ir(f.na);mt(N,"RID","rpc"),mt(N,"SID",f.M),mt(N,"AID",f.K),mt(N,"CI",f.F?"0":"1"),!f.F&&f.ia&&mt(N,"TO",f.ia),mt(N,"TYPE","xmlhttp"),Bu(f,N),f.u&&f.o&&uy(N,f.u,f.o),f.O&&(f.g.H=f.O);var A=f.g;f=f.ba,A.M=1,A.A=Df(Ir(N)),A.u=null,A.R=!0,XN(A,f)}t.Va=function(){this.C!=null&&(this.C=null,Lf(this),hy(this),Dt(19))};function Ff(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function __(f,N){var A=null;if(f.g==N){Ff(f),fy(f),f.g=null;var O=2}else if(oy(f.h,N))A=N.G,s_(f.h,N),O=1;else return;if(f.I!=0){if(N.o)if(O==1){A=N.u?N.u.length:0,N=Date.now()-N.F;var z=f.D;O=Qi(),tt(O,new Jn(O,A)),Vf(f)}else j_(f);else if(z=N.m,z==3||z==0&&N.X>0||!(O==1&&uF(f,N)||O==2&&hy(f)))switch(A&&A.length>0&&(N=f.h,N.i=N.i.concat(A)),z){case 1:ba(f,5);break;case 4:ba(f,10);break;case 3:ba(f,6);break;default:ba(f,2)}}}function S_(f,N){let A=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(A*=2),A*N}function ba(f,N){if(f.j.info("Error code "+N),N==2){var A=u(f.bb,f),O=f.Ua;const z=!O;O=new Zi(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Mu(O,"https"),Df(O),z?rF(O.toString(),A):iF(O.toString(),A)}else Dt(2);f.I=0,f.l&&f.l.pa(N),E_(f),v_(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function E_(f){if(f.I=0,f.ja=[],f.l){const N=r_(f.h);(N.length!=0||f.i.length!=0)&&(y(f.ja,N),y(f.ja,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.oa()}}function T_(f,N,A){var O=A instanceof Zi?Ir(A):new Zi(A);if(O.g!="")N&&(O.g=N+"."+O.g),Ou(O,O.u);else{var z=a.location;O=z.protocol,N=N?N+"."+z.hostname:z.hostname,z=+z.port;const H=new Zi(null);O&&Mu(H,O),N&&(H.g=N),z&&Ou(H,z),A&&(H.h=A),O=H}return A=f.G,N=f.wa,A&&N&&mt(O,A,N),mt(O,"VER",f.ka),Bu(f,O),O}function C_(f,N,A){if(N&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=f.Aa&&!f.ma?new Mt(new cy({ab:A})):new Mt(f.ma),N.Fa(f.L),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function A_(){}t=A_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Uf(){}Uf.prototype.g=function(f,N){return new ps(f,N)};function ps(f,N){qe.call(this),this.g=new y_(N),this.l=f,this.h=N&&N.messageUrlParams||null,f=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(f?f["X-WebChannel-Content-Type"]=N.messageContentType:f={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(f?f["X-WebChannel-Client-Profile"]=N.sa:f={"X-WebChannel-Client-Profile":N.sa}),this.g.U=f,(f=N&&N.Qb)&&!D(f)&&(this.g.u=f),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!D(N)&&(this.g.G=N,f=this.h,f!==null&&N in f&&(f=this.h,N in f&&delete f[N])),this.j=new Wl(this)}h(ps,qe),ps.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ps.prototype.close=function(){dy(this.g)},ps.prototype.o=function(f){var N=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.v&&(A={},A.__data__=Xs(f),f=A);N.i.push(new QV(N.Ya++,f)),N.I==3&&Vf(N)},ps.prototype.N=function(){this.g.l=null,delete this.j,dy(this.g),delete this.g,ps.Z.N.call(this)};function P_(f){zn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var N=f.__sm__;if(N){e:{for(const A in N){f=A;break e}f=void 0}(this.i=f)&&(f=this.i,N=N!==null&&f in N?N[f]:void 0),this.data=N}else this.data=f}h(P_,zn);function I_(){Yi.call(this),this.status=1}h(I_,Yi);function Wl(f){this.g=f}h(Wl,A_),Wl.prototype.ra=function(){tt(this.g,"a")},Wl.prototype.qa=function(f){tt(this.g,new P_(f))},Wl.prototype.pa=function(f){tt(this.g,new I_)},Wl.prototype.oa=function(){tt(this.g,"b")},Uf.prototype.createWebChannel=Uf.prototype.g,ps.prototype.send=ps.prototype.o,ps.prototype.open=ps.prototype.m,ps.prototype.close=ps.prototype.close,aD=function(){return new Uf},oD=function(){return Qi()},iD=Tn,aw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,Gm=ks,Zn.COMPLETE="complete",rD=Zn,Is.EventType=en,en.OPEN="a",en.CLOSE="b",en.ERROR="c",en.MESSAGE="d",qe.prototype.listen=qe.prototype.J,dd=Is,Mt.prototype.listenOnce=Mt.prototype.K,Mt.prototype.getLastError=Mt.prototype.Ha,Mt.prototype.getLastErrorCode=Mt.prototype.ya,Mt.prototype.getStatus=Mt.prototype.ca,Mt.prototype.getResponseJson=Mt.prototype.La,Mt.prototype.getResponseText=Mt.prototype.la,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Fa,sD=Mt}).apply(typeof hm<"u"?hm:typeof self<"u"?self:typeof window<"u"?window:{});const oT="@firebase/firestore",aT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new k1("@firebase/firestore");function Jl(){return pl.logLevel}function fe(t,...e){if(pl.logLevel<=Be.DEBUG){const n=e.map(W1);pl.debug(`Firestore (${vu}): ${t}`,...n)}}function Oi(t,...e){if(pl.logLevel<=Be.ERROR){const n=e.map(W1);pl.error(`Firestore (${vu}): ${t}`,...n)}}function Zc(t,...e){if(pl.logLevel<=Be.WARN){const n=e.map(W1);pl.warn(`Firestore (${vu}): ${t}`,...n)}}function W1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,lD(t,s,n)}function lD(t,e,n){let s=`FIRESTORE (${vu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Oi(s),new Error(s)}function et(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||lD(e,r,s)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}}class GK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KK{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let o=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _i,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _i)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(et(typeof s.accessToken=="string",31837,{l:s}),new cD(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class YK{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QK{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new YK(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ss(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const s=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>s(o))};const r=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=JK(40);for(let o=0;o<r.length;++o)s.length<20&&r[o]<n&&(s+=e.charAt(r[o]%62))}return s}}function We(t,e){return t<e?-1:t>e?1:0}function lw(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),o=e.charAt(s);if(r!==o)return rv(r)===rv(o)?We(r,o):rv(r)?1:-1}return We(t.length,e.length)}const ZK=55296,eY=57343;function rv(t){const e=t.charCodeAt(0);return e>=ZK&&e<=eY}function eu(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="__name__";class Mr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const o=Mr.compareSegments(e.get(r),n.get(r));if(o!==0)return o}return We(e.length,n.length)}static compareSegments(e,n){const s=Mr.isNumericId(e),r=Mr.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Mr.extractNumericId(e).compare(Mr.extractNumericId(n)):lw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Uo.fromString(e.substring(4,e.length-2))}}class ht extends Mr{construct(e,n,s){return new ht(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new ht(n)}static emptyPath(){return new ht([])}}const tY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Mr{construct(e,n,s){return new vn(e,n,s)}static isValidIdentifier(e){return tY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cT}static keyField(){return new vn([cT])}static fromServerFormat(e){const n=[];let s="",r=0;const o=()=>{if(s.length===0)throw new de(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new de(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new de(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(s+=l,r++):(o(),r++)}if(o(),a)throw new de(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ht.fromString(e))}static fromName(e){return new _e(ht.fromString(e).popFirst(5))}static empty(){return new _e(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t,e,n){if(!n)throw new de(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nY(t,e,n,s){if(e===!0&&s===!0)throw new de(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uT(t){if(!_e.isDocumentKey(t))throw new de(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dT(t){if(_e.isDocumentKey(t))throw new de(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ax(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ax(t);throw new de(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function sY(t,e){if(e<=0)throw new de(K.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function af(t,e){if(!dD(t))throw new de(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,o="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const a=t[s];if(r&&typeof a!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${s}' field to equal '${o.value}'`;break}}if(n)throw new de(K.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=-62135596800,fT=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*fT);return new xt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hT)throw new de(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fT}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(af(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:Qt("string",xt._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new xt(0,0))}static max(){return new Re(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=-1;function rY(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=Re.fromTimestamp(s===1e9?new xt(n+1,0):new xt(n,s));return new Zo(r,_e.empty(),e)}function iY(t){return new Zo(t.readTime,t.key,wh)}class Zo{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Zo(Re.min(),_e.empty(),wh)}static max(){return new Zo(Re.max(),_e.empty(),wh)}}function oY(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==aY)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let r=0,o=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++o,a&&o===r&&n()},c=>s(c))}),a=!0,o===r&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(r=>r?J.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,o)=>{s.push(n.call(this,r,o))}),this.waitFor(s)}static mapArray(e,n){return new J((s,r)=>{const o=e.length,a=new Array(o);let l=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===o&&s(a)},d=>r(d))}})}static doWhile(e,n){return new J((s,r)=>{const o=()=>{e()===!0?n().next(()=>{o()},r):s()};o()})}}function cY(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=-1;function cx(t){return t==null}function Kp(t){return t===0&&1/t==-1/0}function uY(t){return typeof t=="number"&&Number.isInteger(t)&&!Kp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="";function dY(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mT(e)),e=hY(t.get(n),e);return mT(e)}function hY(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const o=t.charAt(r);switch(o){case"\0":n+="";break;case hD:n+="";break;default:n+=o}}return n}function mT(t){return t+hD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){this.comparator=e,this.root=n||xn.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fm(this.root,e,this.comparator,!1)}getReverseIterator(){return new fm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fm(this.root,e,this.comparator,!0)}}class fm{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?s(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,n,s,r,o){this.key=e,this.value=n,this.color=s??xn.RED,this.left=r??xn.EMPTY,this.right=o??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,o){return new xn(e??this.key,n??this.value,s??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const o=s(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,s),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return xn.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,r,o){return this}insert(e,n,s){return new xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gT(this.data.getIterator())}getIteratorFrom(e){return new gT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=s.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class gT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new vs([])}unionWith(e){let n=new on(vn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new vs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eu(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mD("Invalid base64 string: "+o):o}}(e);return new En(n)}static fromUint8Array(e){const n=function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o}(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const fY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(t){if(et(!!t,39018),typeof t=="string"){let e=0;const n=fY.exec(t);if(et(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ta(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="server_timestamp",gD="__type__",xD="__previous_value__",yD="__local_write_time__";function G1(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[gD])==null?void 0:s.stringValue)===pD}function ux(t){const e=t.mapValue.fields[xD];return G1(e)?ux(e):e}function bh(t){const e=ea(t.mapValue.fields[yD].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(e,n,s,r,o,a,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Yp="(default)";class jh{constructor(e,n){this.projectId=e,this.database=n||Yp}static empty(){return new jh("","")}get isDefaultDatabase(){return this.database===Yp}isEqual(e){return e instanceof jh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="__type__",pY="__max__",mm={mapValue:{}},wD="__vector__",Qp="value";function na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G1(t)?4:xY(t)?9007199254740991:gY(t)?10:11:Ae(28295,{value:t})}function ni(t,e){if(t===e)return!0;const n=na(t);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bh(t).isEqual(bh(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const a=ea(r.timestampValue),l=ea(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return ta(r.bytesValue).isEqual(ta(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Bt(r.geoPointValue.latitude)===Bt(o.geoPointValue.latitude)&&Bt(r.geoPointValue.longitude)===Bt(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Bt(r.integerValue)===Bt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const a=Bt(r.doubleValue),l=Bt(o.doubleValue);return a===l?Kp(a)===Kp(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return eu(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(r,o){const a=r.mapValue.fields||{},l=o.mapValue.fields||{};if(pT(a)!==pT(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!ni(a[c],l[c])))return!1;return!0}(t,e);default:return Ae(52216,{left:t})}}function Nh(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function tu(t,e){if(t===e)return 0;const n=na(t),s=na(e);if(n!==s)return We(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(o,a){const l=Bt(o.integerValue||o.doubleValue),c=Bt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return xT(t.timestampValue,e.timestampValue);case 4:return xT(bh(t),bh(e));case 5:return lw(t.stringValue,e.stringValue);case 6:return function(o,a){const l=ta(o),c=ta(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const l=o.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=We(l[u],c[u]);if(d!==0)return d}return We(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const l=We(Bt(o.latitude),Bt(a.latitude));return l!==0?l:We(Bt(o.longitude),Bt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yT(t.arrayValue,e.arrayValue);case 10:return function(o,a){var m,g,y,x;const l=o.fields||{},c=a.fields||{},u=(m=l[Qp])==null?void 0:m.arrayValue,d=(g=c[Qp])==null?void 0:g.arrayValue,h=We(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((x=d==null?void 0:d.values)==null?void 0:x.length)||0);return h!==0?h:yT(u,d)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===mm.mapValue&&a===mm.mapValue)return 0;if(o===mm.mapValue)return 1;if(a===mm.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const m=lw(c[h],d[h]);if(m!==0)return m;const g=tu(l[c[h]],u[d[h]]);if(g!==0)return g}return We(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function xT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=ea(t),s=ea(e),r=We(n.seconds,s.seconds);return r!==0?r:We(n.nanos,s.nanos)}function yT(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const o=tu(n[r],s[r]);if(o)return o}return We(n.length,s.length)}function nu(t){return cw(t)}function cw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=ea(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ta(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const o of n.values||[])r?r=!1:s+=",",s+=cw(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const a of s)o?o=!1:r+=",",r+=`${a}:${cw(n.fields[a])}`;return r+"}"}(t.mapValue):Ae(61005,{value:t})}function Km(t){switch(na(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ux(t);return e?16+Km(e):16;case 5:return 2*t.stringValue.length;case 6:return ta(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,o)=>r+Km(o),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return ha(s.fields,(o,a)=>{r+=o.length+Km(a)}),r}(t.mapValue);default:throw Ae(13486,{value:t})}}function vT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uw(t){return!!t&&"integerValue"in t}function K1(t){return!!t&&"arrayValue"in t}function wT(t){return!!t&&"nullValue"in t}function bT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ym(t){return!!t&&"mapValue"in t}function gY(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[vD])==null?void 0:s.stringValue)===wD}function Rd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ha(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Rd(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rd(t.arrayValue.values[n]);return e}return{...t}}function xY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pY}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.value=e}static empty(){return new rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ym(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rd(n)}setAll(e){let n=vn.emptyPath(),s={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}a?s[l.lastSegment()]=Rd(a):r.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,s,r)}delete(e){const n=this.field(e.popLast());Ym(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Ym(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){ha(n,(r,o)=>e[r]=o);for(const r of s)delete e[r]}clone(){return new rs(Rd(this.value))}}function bD(t){const e=[];return ha(t.fields,(n,s)=>{const r=new vn([n]);if(Ym(s)){const o=bD(s.mapValue).fields;if(o.length===0)e.push(r);else for(const a of o)e.push(r.child(a))}else e.push(r)}),new vs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,s,r,o,a,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Mn(e,0,Re.min(),Re.min(),Re.min(),rs.empty(),0)}static newFoundDocument(e,n,s,r){return new Mn(e,1,n,Re.min(),s,r,0)}static newNoDocument(e,n){return new Mn(e,2,n,Re.min(),Re.min(),rs.empty(),0)}static newUnknownDocument(e,n){return new Mn(e,3,n,Re.min(),Re.min(),rs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.position=e,this.inclusive=n}}function jT(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const o=e[r],a=t.position[r];if(o.field.isKeyField()?s=_e.comparator(_e.fromName(a.referenceValue),n.key):s=tu(a,n.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function NT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function yY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{}class Yt extends jD{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new wY(e,n,s):n==="array-contains"?new NY(e,s):n==="in"?new _Y(e,s):n==="not-in"?new SY(e,s):n==="array-contains-any"?new EY(e,s):new Yt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new bY(e,s):new jY(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tu(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(tu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends jD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Nr(e,n)}matches(e){return ND(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ND(t){return t.op==="and"}function _D(t){return vY(t)&&ND(t)}function vY(t){for(const e of t.filters)if(e instanceof Nr)return!1;return!0}function dw(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+nu(t.value);if(_D(t))return t.filters.map(e=>dw(e)).join(",");{const e=t.filters.map(n=>dw(n)).join(",");return`${t.op}(${e})`}}function SD(t,e){return t instanceof Yt?function(s,r){return r instanceof Yt&&s.op===r.op&&s.field.isEqual(r.field)&&ni(s.value,r.value)}(t,e):t instanceof Nr?function(s,r){return r instanceof Nr&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((o,a,l)=>o&&SD(a,r.filters[l]),!0):!1}(t,e):void Ae(19439)}function ED(t){return t instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${nu(n.value)}`}(t):t instanceof Nr?function(n){return n.op.toString()+" {"+n.getFilters().map(ED).join(" ,")+"}"}(t):"Filter"}class wY extends Yt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class bY extends Yt{constructor(e,n){super(e,"in",n),this.keys=TD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jY extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=TD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>_e.fromName(s.referenceValue))}class NY extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return K1(n)&&Nh(n.arrayValue,this.value)}}class _Y extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nh(this.value.arrayValue,n)}}class SY extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nh(this.value.arrayValue,n)}}class EY extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!K1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Nh(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TY{constructor(e,n=null,s=[],r=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=o,this.startAt=a,this.endAt=l,this.Te=null}}function _T(t,e=null,n=[],s=[],r=null,o=null,a=null){return new TY(t,e,n,s,r,o,a)}function Y1(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>dw(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(o){return o.field.canonicalString()+o.dir}(s)).join(","),cx(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>nu(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>nu(s)).join(",")),e.Te=n}return e.Te}function Q1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NT(t.startAt,e.startAt)&&NT(t.endAt,e.endAt)}function hw(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n=null,s=[],r=[],o=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CY(t,e,n,s,r,o,a,l){return new ju(t,e,n,s,r,o,a,l)}function dx(t){return new ju(t)}function ST(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CD(t){return t.collectionGroup!==null}function Dd(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new on(vn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new _h(o,s))}),n.has(vn.keyField().canonicalString())||e.Ie.push(new _h(vn.keyField(),s))}return e.Ie}function Kr(t){const e=Me(t);return e.Ee||(e.Ee=AY(e,Dd(t))),e.Ee}function AY(t,e){if(t.limitType==="F")return _T(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new _h(r.field,o)});const n=t.endAt?new Xp(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Xp(t.startAt.position,t.startAt.inclusive):null;return _T(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function fw(t,e){const n=t.filters.concat([e]);return new ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jp(t,e,n){return new ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hx(t,e){return Q1(Kr(t),Kr(e))&&t.limitType===e.limitType}function AD(t){return`${Y1(Kr(t))}|lt:${t.limitType}`}function Zl(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>ED(r)).join(", ")}]`),cx(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>nu(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>nu(r)).join(",")),`Target(${s})`}(Kr(t))}; limitType=${t.limitType})`}function fx(t,e){return e.isFoundDocument()&&function(s,r){const o=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):_e.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)}(t,e)&&function(s,r){for(const o of Dd(s))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const o of s.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(a,l,c){const u=jT(a,l,c);return a.inclusive?u<=0:u<0}(s.startAt,Dd(s),r)||s.endAt&&!function(a,l,c){const u=jT(a,l,c);return a.inclusive?u>=0:u>0}(s.endAt,Dd(s),r))}(t,e)}function PY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PD(t){return(e,n)=>{let s=!1;for(const r of Dd(t)){const o=IY(r,e,n);if(o!==0)return o;s=s||r.field.isKeyField()}return 0}}function IY(t,e,n){const s=t.field.isKeyField()?_e.comparator(e.key,n.key):function(o,a,l){const c=a.data.field(o),u=l.data.field(o);return c!==null&&u!==null?tu(c,u):Ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,o]of s)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,(n,s)=>{for(const[r,o]of s)e(r,o)})}isEmpty(){return fD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY=new kt(_e.comparator);function Li(){return kY}const ID=new kt(_e.comparator);function hd(...t){let e=ID;for(const n of t)e=e.insert(n.key,n);return e}function kD(t){let e=ID;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Fa(){return Md()}function RD(){return Md()}function Md(){return new Rl(t=>t.toString(),(t,e)=>t.isEqual(e))}const RY=new kt(_e.comparator),DY=new on(_e.comparator);function He(...t){let e=DY;for(const n of t)e=e.add(n);return e}const MY=new on(We);function OY(){return MY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kp(e)?"-0":e}}function DD(t){return{integerValue:""+t}}function LY(t,e){return uY(e)?DD(e):X1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this._=void 0}}function VY(t,e,n){return t instanceof Sh?function(r,o){const a={fields:{[gD]:{stringValue:pD},[yD]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&G1(o)&&(o=ux(o)),o&&(a.fields[xD]=o),{mapValue:a}}(n,e):t instanceof Eh?OD(t,e):t instanceof Th?LD(t,e):function(r,o){const a=MD(r,o),l=ET(a)+ET(r.Ae);return uw(a)&&uw(r.Ae)?DD(l):X1(r.serializer,l)}(t,e)}function FY(t,e,n){return t instanceof Eh?OD(t,e):t instanceof Th?LD(t,e):n}function MD(t,e){return t instanceof Zp?function(s){return uw(s)||function(o){return!!o&&"doubleValue"in o}(s)}(e)?e:{integerValue:0}:null}class Sh extends mx{}class Eh extends mx{constructor(e){super(),this.elements=e}}function OD(t,e){const n=VD(e);for(const s of t.elements)n.some(r=>ni(r,s))||n.push(s);return{arrayValue:{values:n}}}class Th extends mx{constructor(e){super(),this.elements=e}}function LD(t,e){let n=VD(e);for(const s of t.elements)n=n.filter(r=>!ni(r,s));return{arrayValue:{values:n}}}class Zp extends mx{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ET(t){return Bt(t.integerValue||t.doubleValue)}function VD(t){return K1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e,n){this.field=e,this.transform=n}}function $Y(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof Eh&&r instanceof Eh||s instanceof Th&&r instanceof Th?eu(s.elements,r.elements,ni):s instanceof Zp&&r instanceof Zp?ni(s.Ae,r.Ae):s instanceof Sh&&r instanceof Sh}(t.transform,e.transform)}class zY{constructor(e,n){this.version=e,this.transformResults=n}}class $s{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $s}static exists(e){return new $s(void 0,e)}static updateTime(e){return new $s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class px{}function FD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new J1(t.key,$s.none()):new lf(t.key,t.data,$s.none());{const n=t.data,s=rs.empty();let r=new on(vn.comparator);for(let o of e.fields)if(!r.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?s.delete(o):s.set(o,a),r=r.add(o)}return new fa(t.key,s,new vs(r.toArray()),$s.none())}}function BY(t,e,n){t instanceof lf?function(r,o,a){const l=r.value.clone(),c=CT(r.fieldTransforms,o,a.transformResults);l.setAll(c),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof fa?function(r,o,a){if(!Qm(r.precondition,o))return void o.convertToUnknownDocument(a.version);const l=CT(r.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(UD(r)),c.setAll(l),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(r,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Od(t,e,n,s){return t instanceof lf?function(o,a,l,c){if(!Qm(o.precondition,a))return l;const u=o.value.clone(),d=AT(o.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,s):t instanceof fa?function(o,a,l,c){if(!Qm(o.precondition,a))return l;const u=AT(o.fieldTransforms,c,a),d=a.data;return d.setAll(UD(o)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,s):function(o,a,l){return Qm(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function WY(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),o=MD(s.transform,r||null);o!=null&&(n===null&&(n=rs.empty()),n.set(s.field,o))}return n||null}function TT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&eu(s,r,(o,a)=>$Y(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lf extends px{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fa extends px{constructor(e,n,s,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function UD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function CT(t,e,n){const s=new Map;et(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const o=t[r],a=o.transform,l=e.data.field(o.field);s.set(o.field,FY(a,l,n[r]))}return s}function AT(t,e,n){const s=new Map;for(const r of t){const o=r.transform,a=n.data.field(r.field);s.set(r.field,VY(o,a,e))}return s}class J1 extends px{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HY extends px{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&BY(o,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Od(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Od(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=RD();return this.mutations.forEach(r=>{const o=e.get(r.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(r.key)?null:l;const c=FD(a,l);c!==null&&s.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&eu(this.mutations,e.mutations,(n,s)=>TT(n,s))&&eu(this.baseMutations,e.baseMutations,(n,s)=>TT(n,s))}}class Z1{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){et(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=function(){return RY}();const o=e.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,s[a].version);return new Z1(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GY=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Ke;function YY(t){switch(t){case K.OK:return Ae(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function $D(t){if(t===void 0)return Oi("GRPC error has no .code"),K.UNKNOWN;switch(t){case qt.OK:return K.OK;case qt.CANCELLED:return K.CANCELLED;case qt.UNKNOWN:return K.UNKNOWN;case qt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case qt.INTERNAL:return K.INTERNAL;case qt.UNAVAILABLE:return K.UNAVAILABLE;case qt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case qt.NOT_FOUND:return K.NOT_FOUND;case qt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case qt.ABORTED:return K.ABORTED;case qt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case qt.DATA_LOSS:return K.DATA_LOSS;default:return Ae(39323,{code:t})}}(Ke=qt||(qt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY=new Uo([4294967295,4294967295],0);function PT(t){const e=QY().encode(t),n=new nD;return n.update(e),new Uint8Array(n.digest())}function IT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Uo([n,s],0),new Uo([r,o],0)]}class ej{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new fd(`Invalid padding: ${n}`);if(s<0)throw new fd(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new fd(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new fd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Uo.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(Uo.fromNumber(s)));return r.compare(XY)===1&&(r=new Uo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=PT(e),[s,r]=IT(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(s,r,o);if(!this.we(a))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new ej(o,r,n);return s.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=PT(e),[s,r]=IT(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(s,r,o);this.Se(a)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,s,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,cf.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new gx(Re.min(),r,new kt(We),Li(),He())}}class cf{constructor(e,n,s,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cf(s,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class zD{constructor(e,n){this.targetId=e,this.Ce=n}}class BD{constructor(e,n,s=En.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class kT{constructor(){this.ve=0,this.Fe=RT(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),s=He();return this.Fe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:Ae(38017,{changeType:o})}}),new cf(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=RT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JY{constructor(e){this.Ge=e,this.ze=new Map,this.je=Li(),this.Je=pm(),this.He=pm(),this.Ye=new kt(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const o=r.target;if(hw(o))if(s===0){const a=new _e(o.path);this.et(n,a,Mn.newNoDocument(a,Re.min()))}else et(s===1,20013,{expectedCount:s});else{const a=this._t(n);if(a!==s){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:o=0}=n;let a,l;try{a=ta(s).toUint8Array()}catch(c){if(c instanceof mD)return Zc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new ej(a,r,o)}catch(c){return Zc(c instanceof fd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(o=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.et(n,o,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((o,a)=>{const l=this.ot(a);if(l){if(o.current&&hw(l.target)){const c=new _e(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Mn.newNoDocument(c,e))}o.Be&&(n.set(a,o.ke()),o.qe())}});let s=He();this.He.forEach((o,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(o))}),this.je.forEach((o,a)=>a.setReadTime(e));const r=new gx(e,n,this.Ye,this.je,s);return this.je=Li(),this.Je=pm(),this.He=pm(),this.Ye=new kt(We),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new kT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new on(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new on(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function pm(){return new kt(_e.comparator)}function RT(){return new kt(_e.comparator)}const ZY={asc:"ASCENDING",desc:"DESCENDING"},eQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tQ={and:"AND",or:"OR"};class nQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mw(t,e){return t.useProto3Json||cx(e)?e:{value:e}}function eg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sQ(t,e){return eg(t,e.toTimestamp())}function Yr(t){return et(!!t,49232),Re.fromTimestamp(function(n){const s=ea(n);return new xt(s.seconds,s.nanos)}(t))}function tj(t,e){return pw(t,e).canonicalString()}function pw(t,e){const n=function(r){return new ht(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HD(t){const e=ht.fromString(t);return et(QD(e),10190,{key:e.toString()}),e}function gw(t,e){return tj(t.databaseId,e.path)}function iv(t,e){const n=HD(e);if(n.get(1)!==t.databaseId.projectId)throw new de(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(GD(n))}function qD(t,e){return tj(t.databaseId,e)}function rQ(t){const e=HD(t);return e.length===4?ht.emptyPath():GD(e)}function xw(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GD(t){return et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function DT(t,e,n){return{name:gw(t,e),fields:n.value.mapValue.fields}}function iQ(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ae(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(et(d===void 0||typeof d=="string",58123),En.fromBase64String(d||"")):(et(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),En.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?K.UNKNOWN:$D(u.code);return new de(d,u.message||"")}(a);n=new BD(s,r,o,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=iv(t,s.document.name),o=Yr(s.document.updateTime),a=s.document.createTime?Yr(s.document.createTime):Re.min(),l=new rs({mapValue:{fields:s.document.fields}}),c=Mn.newFoundDocument(r,o,a,l),u=s.targetIds||[],d=s.removedTargetIds||[];n=new Xm(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=iv(t,s.document),o=s.readTime?Yr(s.readTime):Re.min(),a=Mn.newNoDocument(r,o),l=s.removedTargetIds||[];n=new Xm([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=iv(t,s.document),o=s.removedTargetIds||[];n=new Xm([],o,r,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:o}=s,a=new KY(r,o),l=s.targetId;n=new zD(l,a)}}return n}function oQ(t,e){let n;if(e instanceof lf)n={update:DT(t,e.key,e.value)};else if(e instanceof J1)n={delete:gw(t,e.key)};else if(e instanceof fa)n={update:DT(t,e.key,e.data),updateMask:pQ(e.fieldMask)};else{if(!(e instanceof HY))return Ae(16599,{Vt:e.type});n={verify:gw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(o,a){const l=a.transform;if(l instanceof Sh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Eh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Th)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Zp)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Ae(20930,{transform:a.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:sQ(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae(27497)}(t,e.precondition)),n}function aQ(t,e){return t&&t.length>0?(et(e!==void 0,14353),t.map(n=>function(r,o){let a=r.updateTime?Yr(r.updateTime):Yr(o);return a.isEqual(Re.min())&&(a=Yr(o)),new zY(a,r.transformResults||[])}(n,e))):[]}function lQ(t,e){return{documents:[qD(t,e.path)]}}function cQ(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=qD(t,r);const o=function(u){if(u.length!==0)return YD(Nr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:ec(m.field),direction:hQ(m.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=mw(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:r}}function uQ(t){let e=rQ(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){et(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const m=KD(h);return m instanceof Nr&&_D(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(m=>function(y){return new _h(tc(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(h){let m;return m=typeof h=="object"?h.value:h,cx(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(h){const m=!!h.before,g=h.values||[];return new Xp(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,g=h.values||[];return new Xp(g,m)}(n.endAt)),CY(e,r,a,o,l,"F",c,u)}function dQ(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=tc(n.unaryFilter.field);return Yt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=tc(n.unaryFilter.field);return Yt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=tc(n.unaryFilter.field);return Yt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=tc(n.unaryFilter.field);return Yt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return Yt.create(tc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nr.create(n.compositeFilter.filters.map(s=>KD(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(n.compositeFilter.op))}(t):Ae(30097,{filter:t})}function hQ(t){return ZY[t]}function fQ(t){return eQ[t]}function mQ(t){return tQ[t]}function ec(t){return{fieldPath:t.canonicalString()}}function tc(t){return vn.fromServerFormat(t.fieldPath)}function YD(t){return t instanceof Yt?function(n){if(n.op==="=="){if(bT(n.value))return{unaryFilter:{field:ec(n.field),op:"IS_NAN"}};if(wT(n.value))return{unaryFilter:{field:ec(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bT(n.value))return{unaryFilter:{field:ec(n.field),op:"IS_NOT_NAN"}};if(wT(n.value))return{unaryFilter:{field:ec(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ec(n.field),op:fQ(n.op),value:n.value}}}(t):t instanceof Nr?function(n){const s=n.getFilters().map(r=>YD(r));return s.length===1?s[0]:{compositeFilter:{op:mQ(n.op),filters:s}}}(t):Ae(54877,{filter:t})}function pQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,s,r,o=Re.min(),a=Re.min(),l=En.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e){this.yt=e}}function xQ(t){const e=uQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(){this.Cn=new vQ}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Zo.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Zo.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class vQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new on(ht.comparator),o=!r.has(s);return this.index[n]=r.add(s),o}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new on(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XD=41943040;class ts{static withCacheSize(e){return new ts(e,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts.DEFAULT_COLLECTION_PERCENTILE=10,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ts.DEFAULT=new ts(XD,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ts.DISABLED=new ts(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new su(0)}static cr(){return new su(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="LruGarbageCollector",wQ=1048576;function LT([t,e],[n,s]){const r=We(t,n);return r===0?We(e,s):r}class bQ{constructor(e){this.Ir=e,this.buffer=new on(LT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();LT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jQ{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(OT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bu(n)?fe(OT,"Ignoring IndexedDB error during garbage collection: ",n):await wu(n)}await this.Vr(3e5)})}}class NQ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(lx.ce);const s=new bQ(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(MT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,o,a,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,a=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(s=h,l=Date.now(),this.removeTargets(e,s,n))).next(h=>(o=h,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(h=>(u=Date.now(),Jl()<=Be.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:h})))}}function _Q(t,e){return new NQ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(){this.changes=new Rl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Od(s.mutation,r,vs.empty(),xt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,He()).next(()=>s))}getLocalViewOfDocuments(e,n,s=He()){const r=Fa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(o=>{let a=hd();return o.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const s=Fa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,He()))}populateOverlays(e,n,s){const r=[];return s.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,s,r){let o=Li();const a=Md(),l=function(){return Md()}();return n.forEach((c,u)=>{const d=s.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof fa)?o=o.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Od(d.mutation,u,d.mutation.getFieldMask(),xt.now())):a.set(u.key,vs.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>l.set(u,new EQ(d,a.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const s=Md();let r=new kt((a,l)=>a-l),o=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=s.get(c)||vs.empty();d=l.applyToLocalView(u,d),s.set(c,d);const h=(r.get(l.batchId)||He()).add(c);r=r.insert(l.batchId,h)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=RD();d.forEach(m=>{if(!o.has(m)){const g=FD(n.get(m),s.get(m));g!==null&&h.set(m,g),o=o.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return J.waitFor(a)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(a){return _e.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(o=>{const a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-o.size):J.resolve(Fa());let l=wh,c=o;return a.next(u=>J.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),o.get(d)?J.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,He())).next(d=>({batchId:l,changes:kD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(s=>{let r=hd();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const o=n.collectionGroup;let a=hd();return this.indexManager.getCollectionParents(e,o).next(l=>J.forEach(l,c=>{const u=function(h,m){return new ju(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,s,r).next(d=>{d.forEach((h,m)=>{a=a.insert(h,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,s,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,o,r))).next(a=>{o.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Mn.newInvalidDocument(d)))});let l=hd();return a.forEach((c,u)=>{const d=o.get(c);d!==void 0&&Od(d.mutation,u,vs.empty(),xt.now()),fx(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Yr(r.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:xQ(r.bundledQuery),readTime:Yr(r.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(){this.overlays=new kt(_e.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Fa();return J.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&s.set(r,o)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,o)=>{this.St(e,n,o)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const r=Fa(),o=n.length+1,a=new _e(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>s&&r.set(c.getKey(),c)}return J.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let o=new kt((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>s){let d=o.get(u.largestBatchId);d===null&&(d=Fa(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Fa(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=r)););return J.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new GY(n,s));let o=this.qr.get(n);o===void 0&&(o=He(),this.qr.set(n,o)),this.qr.set(n,o.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.Qr=new on(un.$r),this.Ur=new on(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new un(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new un(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new _e(new ht([])),s=new un(n,e),r=new un(n,e+1),o=[];return this.Ur.forEachInRange([s,r],a=>{this.Gr(a),o.push(a.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new ht([])),s=new un(n,e),r=new un(n,e+1);let o=He();return this.Ur.forEachInRange([s,r],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new un(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new on(un.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new qY(o,n,s,r);this.mutationQueue.push(a);for(const l of r)this.Zr=this.Zr.add(new un(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return J.resolve(a)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),o=r<0?0:r;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?q1:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new un(n,0),r=new un(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([s,r],a=>{const l=this.Xr(a.Yr);o.push(l)}),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new on(We);return n.forEach(r=>{const o=new un(r,0),a=new un(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],l=>{s=s.add(l.Yr)})}),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let o=s;_e.isDocumentKey(o)||(o=o.child(""));const a=new un(new _e(o),0);let l=new on(We);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!s.isPrefixOf(u)&&(u.length===r&&(l=l.add(c.Yr)),!0)},a),J.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,r=>{const o=new un(r.key,n.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new un(n,0),r=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(e){this.ri=e,this.docs=function(){return new kt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),o=r?r.size:0,a=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let s=Li();return n.forEach(r=>{const o=this.docs.get(r);s=s.insert(r,o?o.document.mutableCopy():Mn.newInvalidDocument(r))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let o=Li();const a=n.path,l=new _e(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||oY(iY(d),s)<=0||(r.has(d.key)||fx(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(e,n,s,r){Ae(9500)}ii(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new RQ(this)}getSize(e){return J.resolve(this.size)}}class RQ extends SQ{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e){this.persistence=e,this.si=new Rl(n=>Y1(n),Q1),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new nj,this.targetCount=0,this.ai=su.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new su(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let r=0;const o=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),J.waitFor(o).next(()=>r)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(a=>{o.push(r.markPotentiallyOrphaned(e,a))}),J.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.ui={},this.overlays={},this.ci=new lx(0),this.li=!1,this.li=!0,this.hi=new PQ,this.referenceDelegate=e(this),this.Pi=new DQ(this),this.indexManager=new yQ,this.remoteDocumentCache=function(r){return new kQ(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new gQ(n),this.Ii=new CQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new IQ(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const r=new MQ(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ai(e,n){return J.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class MQ extends lY{constructor(e){super(),this.currentSequenceNumber=e}}class sj{constructor(e){this.persistence=e,this.Ri=new nj,this.Vi=null}static mi(e){return new sj(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.fi.add(o.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,s=>{const r=_e.fromPath(s);return this.gi(e,r).next(o=>{o||n.removeEntry(r,Re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class tg{constructor(e,n){this.persistence=e,this.pi=new Rl(s=>dY(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=_Q(this,n)}static mi(e,n){return new tg(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return J.forEach(this.pi,(s,r)=>this.br(e,s,r).next(o=>o?J.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,a=>this.br(e,a,n).next(l=>{l||(s++,o.removeEntry(a,Re.min()))})).next(()=>o.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Km(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return J.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=He(),r=He();for(const o of n.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new rj(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LQ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return rH()?8:cY(Un())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const o={result:null};return this.ys(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ws(e,n,r,s).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new OQ;return this.Ss(e,n,a).next(l=>{if(o.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>o.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(Jl()<=Be.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Zl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Jl()<=Be.DEBUG&&fe("QueryEngine","Query:",Zl(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(Jl()<=Be.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Zl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(n))):J.resolve())}ys(e,n){if(ST(n))return J.resolve(null);let s=Kr(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Jp(n,null,"F"),s=Kr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(o=>{const a=He(...o);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,a,c.readTime)?this.ys(e,Jp(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,s,r){return ST(n)||r.isEqual(Re.min())?J.resolve(null):this.ps.getDocuments(e,s).next(o=>{const a=this.Ds(n,o);return this.Cs(n,a,s,r)?J.resolve(null):(Jl()<=Be.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zl(n)),this.vs(e,a,n,rY(r,wh)).next(l=>l))})}Ds(e,n){let s=new on(PD(e));return n.forEach((r,o)=>{fx(e,o)&&(s=s.add(o))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,n,s){return Jl()<=Be.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Zl(n)),this.ps.getDocumentsMatchingQuery(e,n,Zo.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="LocalStore",VQ=3e8;class FQ{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new kt(We),this.xs=new Rl(o=>Y1(o),Q1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TQ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function UQ(t,e,n,s){return new FQ(t,e,n,s)}async function ZD(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(o=>(r=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(o=>{const a=[],l=[];let c=He();for(const u of r){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of o){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(s,c).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:l}))})})}function $Q(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,m=h.keys();let g=J.resolve();return m.forEach(y=>{g=g.next(()=>d.getEntry(c,y)).next(x=>{const w=u.docVersions.get(y);et(w!==null,48541),x.version.compareTo(w)<0&&(h.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,s,e,o).next(()=>o.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=He();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function e4(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function zQ(t,e){const n=Me(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((d,h)=>{const m=r.get(h);if(!m)return;l.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,h)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(En.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,s)),r=r.insert(h,g),function(x,w,v){return x.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=VQ?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,g,d)&&l.push(n.Pi.updateTargetData(o,g))});let c=Li(),u=He();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(BQ(o,a,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!s.isEqual(Re.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(h=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,s));l.push(d)}return J.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ms=r,o))}function BQ(t,e,n){let s=He(),r=He();return n.forEach(o=>s=s.add(o)),e.getEntries(t,s).next(o=>{let a=Li();return n.forEach((l,c)=>{const u=o.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(Re.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):fe(ij,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:a,qs:r}})}function WQ(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=q1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function HQ(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(o=>o?(r=o,J.resolve(r)):n.Pi.allocateTargetId(s).next(a=>(r=new Co(e,a,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function yw(t,e,n){const s=Me(t),r=s.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",o,a=>s.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!bu(a))throw a;fe(ij,`Failed to update sequence numbers for target ${e}: ${a}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function VT(t,e,n){const s=Me(t);let r=Re.min(),o=He();return s.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const h=Me(c),m=h.xs.get(d);return m!==void 0?J.resolve(h.Ms.get(m)):h.Pi.getTargetData(u,d)}(s,a,Kr(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{o=c})}).next(()=>s.Fs.getDocumentsMatchingQuery(a,e,n?r:Re.min(),n?o:He())).next(l=>(qQ(s,PY(e),l),{documents:l,Qs:o})))}function qQ(t,e,n){let s=t.Os.get(e)||Re.min();n.forEach((r,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)}),t.Os.set(e,s)}class FT{constructor(){this.activeTargetIds=OY()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GQ{constructor(){this.Mo=new FT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new FT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="ConnectivityMonitor";class $T{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(UT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(UT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gm=null;function vw(){return gm===null?gm=function(){return 268435456+Math.round(2147483648*Math.random())}():gm++,"0x"+gm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="RestConnection",YQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QQ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===Yp?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,o){const a=vw(),l=this.zo(e,n.toUriEncodedString());fe(ov,`Sending RPC '${e}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,r,o);const{host:u}=new URL(l),d=Il(u);return this.Jo(e,l,c,s,d).then(h=>(fe(ov,`Received RPC '${e}' ${a}: `,h),h),h=>{throw Zc(ov,`RPC '${e}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Ho(e,n,s,r,o,a){return this.Go(e,n,s,r,o)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,o)=>e[o]=r),s&&s.headers.forEach((r,o)=>e[o]=r)}zo(e,n){const s=YQ[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class JQ extends QQ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,o){const a=vw();return new Promise((l,c)=>{const u=new sD;u.setWithCredentials(!0),u.listenOnce(rD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Gm.NO_ERROR:const h=u.getResponseJson();fe(In,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),l(h);break;case Gm.TIMEOUT:fe(In,`RPC '${e}' ${a} timed out`),c(new de(K.DEADLINE_EXCEEDED,"Request time out"));break;case Gm.HTTP_ERROR:const m=u.getStatus();if(fe(In,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const x=function(v){const j=v.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(j)>=0?j:K.UNKNOWN}(y.status);c(new de(x,y.message))}else c(new de(K.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new de(K.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{fe(In,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(r);fe(In,`RPC '${e}' ${a} sending request:`,r),u.send(n,"POST",d,s,15)})}T_(e,n,s){const r=vw(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=aD(),l=oD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const d=o.join("");fe(In,`Creating RPC '${e}' stream ${r}: ${d}`,c);const h=a.createWebChannel(d,c);this.I_(h);let m=!1,g=!1;const y=new XQ({Yo:w=>{g?fe(In,`Not sending because RPC '${e}' stream ${r} is closed:`,w):(m||(fe(In,`Opening RPC '${e}' stream ${r} transport.`),h.open(),m=!0),fe(In,`RPC '${e}' stream ${r} sending:`,w),h.send(w))},Zo:()=>h.close()}),x=(w,v,j)=>{w.listen(v,b=>{try{j(b)}catch(C){setTimeout(()=>{throw C},0)}})};return x(h,dd.EventType.OPEN,()=>{g||(fe(In,`RPC '${e}' stream ${r} transport opened.`),y.o_())}),x(h,dd.EventType.CLOSE,()=>{g||(g=!0,fe(In,`RPC '${e}' stream ${r} transport closed`),y.a_(),this.E_(h))}),x(h,dd.EventType.ERROR,w=>{g||(g=!0,Zc(In,`RPC '${e}' stream ${r} transport errored. Name:`,w.name,"Message:",w.message),y.a_(new de(K.UNAVAILABLE,"The operation could not be completed")))}),x(h,dd.EventType.MESSAGE,w=>{var v;if(!g){const j=w.data[0];et(!!j,16349);const b=j,C=(b==null?void 0:b.error)||((v=b[0])==null?void 0:v.error);if(C){fe(In,`RPC '${e}' stream ${r} received error:`,C);const k=C.status;let I=function(T){const E=qt[T];if(E!==void 0)return $D(E)}(k),_=C.message;I===void 0&&(I=K.INTERNAL,_="Unknown error status: "+k+" with message "+C.message),g=!0,y.a_(new de(I,_)),h.close()}else fe(In,`RPC '${e}' stream ${r} received:`,j),y.u_(j)}}),x(l,iD.STAT_EVENT,w=>{w.stat===aw.PROXY?fe(In,`RPC '${e}' stream ${r} detected buffering proxy`):w.stat===aw.NOPROXY&&fe(In,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function av(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t){return new nQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n,s=1e3,r=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="PersistentStream";class n4{constructor(e,n,s,r,o,a,l,c){this.Mi=e,this.S_=s,this.b_=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Oi(n.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new de(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(zT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(fe(zT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZQ extends n4{constructor(e,n,s,r,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=iQ(this.serializer,e),s=function(o){if(!("targetChange"in o))return Re.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Re.min():a.readTime?Yr(a.readTime):Re.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=xw(this.serializer),n.addTarget=function(o,a){let l;const c=a.target;if(l=hw(c)?{documents:lQ(o,c)}:{query:cQ(o,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=WD(o,a.resumeToken);const u=mw(o,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(Re.min())>0){l.readTime=eg(o,a.snapshotVersion.toTimestamp());const u=mw(o,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const s=dQ(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=xw(this.serializer),n.removeTarget=e,this.q_(n)}}class eX extends n4{constructor(e,n,s,r,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=aQ(e.writeResults,e.commitTime),s=Yr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=xw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>oQ(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{}class nX extends tX{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new de(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Go(e,pw(n,s),r,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(K.UNKNOWN,o.toString())})}Ho(e,n,s,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,pw(n,s),r,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(K.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class sX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oi(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl="RemoteStore";class rX{constructor(e,n,s,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(a=>{s.enqueueAndForget(async()=>{Dl(this)&&(fe(gl,"Restarting streams for network reachability change."),await async function(c){const u=Me(c);u.Ea.add(4),await uf(u),u.Ra.set("Unknown"),u.Ea.delete(4),await yx(u)}(this))})}),this.Ra=new sX(s,r)}}async function yx(t){if(Dl(t))for(const e of t.da)await e(!0)}async function uf(t){for(const e of t.da)await e(!1)}function s4(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cj(n)?lj(n):Nu(n).O_()&&aj(n,e))}function oj(t,e){const n=Me(t),s=Nu(n);n.Ia.delete(e),s.O_()&&r4(n,e),n.Ia.size===0&&(s.O_()?s.L_():Dl(n)&&n.Ra.set("Unknown"))}function aj(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nu(t).Y_(e)}function r4(t,e){t.Va.Ue(e),Nu(t).Z_(e)}function lj(t){t.Va=new JY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Nu(t).start(),t.Ra.ua()}function cj(t){return Dl(t)&&!Nu(t).x_()&&t.Ia.size>0}function Dl(t){return Me(t).Ea.size===0}function i4(t){t.Va=void 0}async function iX(t){t.Ra.set("Online")}async function oX(t){t.Ia.forEach((e,n)=>{aj(t,e)})}async function aX(t,e){i4(t),cj(t)?(t.Ra.ha(e),lj(t)):t.Ra.set("Unknown")}async function lX(t,e,n){if(t.Ra.set("Online"),e instanceof BD&&e.state===2&&e.cause)try{await async function(r,o){const a=o.cause;for(const l of o.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(s){fe(gl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ng(t,s)}else if(e instanceof Xm?t.Va.Ze(e):e instanceof zD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Re.min()))try{const s=await e4(t.localStore);n.compareTo(s)>=0&&await function(o,a){const l=o.Va.Tt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.Ia.get(u);d&&o.Ia.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=o.Ia.get(c);if(!d)return;o.Ia.set(c,d.withResumeToken(En.EMPTY_BYTE_STRING,d.snapshotVersion)),r4(o,c);const h=new Co(d.target,c,u,d.sequenceNumber);aj(o,h)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){fe(gl,"Failed to raise snapshot:",s),await ng(t,s)}}async function ng(t,e,n){if(!bu(e))throw e;t.Ea.add(1),await uf(t),t.Ra.set("Offline"),n||(n=()=>e4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(gl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await yx(t)})}function o4(t,e){return e().catch(n=>ng(t,n,e))}async function vx(t){const e=Me(t),n=sa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:q1;for(;cX(e);)try{const r=await WQ(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,uX(e,r)}catch(r){await ng(e,r)}a4(e)&&l4(e)}function cX(t){return Dl(t)&&t.Ta.length<10}function uX(t,e){t.Ta.push(e);const n=sa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function a4(t){return Dl(t)&&!sa(t).x_()&&t.Ta.length>0}function l4(t){sa(t).start()}async function dX(t){sa(t).ra()}async function hX(t){const e=sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function fX(t,e,n){const s=t.Ta.shift(),r=Z1.from(s,e,n);await o4(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await vx(t)}async function mX(t,e){e&&sa(t).X_&&await async function(s,r){if(function(a){return YY(a)&&a!==K.ABORTED}(r.code)){const o=s.Ta.shift();sa(s).B_(),await o4(s,()=>s.remoteSyncer.rejectFailedWrite(o.batchId,r)),await vx(s)}}(t,e),a4(t)&&l4(t)}async function BT(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),fe(gl,"RemoteStore received new credentials");const s=Dl(n);n.Ea.add(3),await uf(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yx(n)}async function pX(t,e){const n=Me(t);e?(n.Ea.delete(2),await yx(n)):e||(n.Ea.add(2),await uf(n),n.Ra.set("Unknown"))}function Nu(t){return t.ma||(t.ma=function(n,s,r){const o=Me(n);return o.sa(),new ZQ(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Xo:iX.bind(null,t),t_:oX.bind(null,t),r_:aX.bind(null,t),H_:lX.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),cj(t)?lj(t):t.Ra.set("Unknown")):(await t.ma.stop(),i4(t))})),t.ma}function sa(t){return t.fa||(t.fa=function(n,s,r){const o=Me(n);return o.sa(),new eX(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:dX.bind(null,t),r_:mX.bind(null,t),ta:hX.bind(null,t),na:fX.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await vx(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(gl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n,s,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=o,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,o){const a=Date.now()+s,l=new uj(e,n,a,r,o);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dj(t,e){if(Oi("AsyncQueue",`${e}: ${t}`),bu(t))return new de(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{static emptySet(e){return new Pc(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=hd(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=s.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Pc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.ga=new kt(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class ru{constructor(e,n,s,r,o,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,s,r,o){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ru(e,n,Pc.emptySet(n),a,s,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class xX{constructor(){this.queries=HT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=Me(n),o=r.queries;r.queries=HT(),o.forEach((a,l)=>{for(const c of l.Sa)c.onError(s)})})(this,new de(K.ABORTED,"Firestore shutting down"))}}function HT(){return new Rl(t=>AD(t),hx)}async function hj(t,e){const n=Me(t);let s=3;const r=e.query;let o=n.queries.get(r);o?!o.ba()&&e.Da()&&(s=2):(o=new gX,s=e.Da()?0:1);try{switch(s){case 0:o.wa=await n.onListen(r,!0);break;case 1:o.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=dj(a,`Initialization of query '${Zl(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&mj(n)}async function fj(t,e){const n=Me(t),s=e.query;let r=3;const o=n.queries.get(s);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?r=e.Da()?0:1:!o.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function yX(t,e){const n=Me(t);let s=!1;for(const r of e){const o=r.query,a=n.queries.get(o);if(a){for(const l of a.Sa)l.Fa(r)&&(s=!0);a.wa=r}}s&&mj(n)}function vX(t,e,n){const s=Me(t),r=s.queries.get(e);if(r)for(const o of r.Sa)o.onError(n);s.queries.delete(e)}function mj(t){t.Ca.forEach(e=>{e.next()})}var ww,qT;(qT=ww||(ww={})).Ma="default",qT.Cache="cache";class pj{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new ru(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ww.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.key=e}}class u4{constructor(e){this.key=e}}class wX{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=PD(e),this.tu=new Pc(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new WT,r=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,h)=>{const m=r.get(d),g=fx(this.query,h)?h:null,y=!!m&&this.mutatedKeys.has(m.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let w=!1;m&&g?m.data.isEqual(g.data)?y!==x&&(s.track({type:3,doc:g}),w=!0):this.su(m,g)||(s.track({type:2,doc:g}),w=!0,(c&&this.eu(g,c)>0||u&&this.eu(g,u)<0)&&(l=!0)):!m&&g?(s.track({type:0,doc:g}),w=!0):m&&!g&&(s.track({type:1,doc:m}),w=!0,(c||u)&&(l=!0)),w&&(g?(a=a.add(g),o=x?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),s.track({type:1,doc:d})}return{tu:a,iu:s,Cs:l,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,h)=>function(g,y){const x=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:w})}};return x(g)-x(y)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],c=this.Xa.size===0&&this.current&&!r?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new ru(this.query,e.tu,o,a,e.mutatedKeys,c===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new u4(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new c4(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ru.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gj="SyncEngine";class bX{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class jX{constructor(e){this.key=e,this.hu=!1}}class NX{constructor(e,n,s,r,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Rl(l=>AD(l),hx),this.Iu=new Map,this.Eu=new Set,this.du=new kt(_e.comparator),this.Au=new Map,this.Ru=new nj,this.Vu={},this.mu=new Map,this.fu=su.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _X(t,e,n=!0){const s=g4(t);let r;const o=s.Tu.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await d4(s,e,n,!0),r}async function SX(t,e){const n=g4(t);await d4(n,e,!0,!1)}async function d4(t,e,n,s){const r=await HQ(t.localStore,Kr(e)),o=r.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let l;return s&&(l=await EX(t,e,o,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&s4(t.remoteStore,r),l}async function EX(t,e,n,s,r){t.pu=(h,m,g)=>async function(x,w,v,j){let b=w.view.ru(v);b.Cs&&(b=await VT(x.localStore,w.query,!1).then(({documents:_})=>w.view.ru(_,b)));const C=j&&j.targetChanges.get(w.targetId),k=j&&j.targetMismatches.get(w.targetId)!=null,I=w.view.applyChanges(b,x.isPrimaryClient,C,k);return KT(x,w.targetId,I.au),I.snapshot}(t,h,m,g);const o=await VT(t.localStore,e,!0),a=new wX(e,o.Qs),l=a.ru(o.documents),c=cf.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),u=a.applyChanges(l,t.isPrimaryClient,c);KT(t,n,u.au);const d=new bX(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function TX(t,e,n){const s=Me(t),r=s.Tu.get(e),o=s.Iu.get(r.targetId);if(o.length>1)return s.Iu.set(r.targetId,o.filter(a=>!hx(a,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await yw(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&oj(s.remoteStore,r.targetId),bw(s,r.targetId)}).catch(wu)):(bw(s,r.targetId),await yw(s.localStore,r.targetId,!0))}async function CX(t,e){const n=Me(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),oj(n.remoteStore,s.targetId))}async function AX(t,e,n){const s=OX(t);try{const r=await function(a,l){const c=Me(a),u=xt.now(),d=l.reduce((g,y)=>g.add(y.key),He());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=Li(),x=He();return c.Ns.getEntries(g,d).next(w=>{y=w,y.forEach((v,j)=>{j.isValidDocument()||(x=x.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,y)).next(w=>{h=w;const v=[];for(const j of l){const b=WY(j,h.get(j.key).overlayedDocument);b!=null&&v.push(new fa(j.key,b,bD(b.value.mapValue),$s.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,v,l)}).next(w=>{m=w;const v=w.applyToLocalDocumentSet(h,x);return c.documentOverlayCache.saveOverlays(g,w.batchId,v)})}).then(()=>({batchId:m.batchId,changes:kD(h)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(a,l,c){let u=a.Vu[a.currentUser.toKey()];u||(u=new kt(We)),u=u.insert(l,c),a.Vu[a.currentUser.toKey()]=u}(s,r.batchId,n),await df(s,r.changes),await vx(s.remoteStore)}catch(r){const o=dj(r,"Failed to persist write");n.reject(o)}}async function h4(t,e){const n=Me(t);try{const s=await zQ(n.localStore,e);e.targetChanges.forEach((r,o)=>{const a=n.Au.get(o);a&&(et(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?et(a.hu,14607):r.removedDocuments.size>0&&(et(a.hu,42227),a.hu=!1))}),await df(n,s,e)}catch(s){await wu(s)}}function GT(t,e,n){const s=Me(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((o,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const c=Me(a);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const m of h.Sa)m.va(l)&&(u=!0)}),u&&mj(c)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function PX(t,e,n){const s=Me(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),o=r&&r.key;if(o){let a=new kt(_e.comparator);a=a.insert(o,Mn.newNoDocument(o,Re.min()));const l=He().add(o),c=new gx(Re.min(),new Map,new kt(We),a,l);await h4(s,c),s.du=s.du.remove(o),s.Au.delete(e),xj(s)}else await yw(s.localStore,e,!1).then(()=>bw(s,e,n)).catch(wu)}async function IX(t,e){const n=Me(t),s=e.batch.batchId;try{const r=await $Q(n.localStore,e);m4(n,s,null),f4(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await df(n,r)}catch(r){await wu(r)}}async function kX(t,e,n){const s=Me(t);try{const r=await function(a,l){const c=Me(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(et(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(s.localStore,e);m4(s,e,n),f4(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await df(s,r)}catch(r){await wu(r)}}function f4(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function m4(t,e,n){const s=Me(t);let r=s.Vu[s.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function bw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||p4(t,s)})}function p4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(oj(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),xj(t))}function KT(t,e,n){for(const s of n)s instanceof c4?(t.Ru.addReference(s.key,e),RX(t,s)):s instanceof u4?(fe(gj,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||p4(t,s.key)):Ae(19791,{wu:s})}function RX(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(fe(gj,"New document in limbo: "+n),t.Eu.add(s),xj(t))}function xj(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(ht.fromString(e)),s=t.fu.next();t.Au.set(s,new jX(n)),t.du=t.du.insert(n,s),s4(t.remoteStore,new Co(Kr(dx(n.path)),s,"TargetPurposeLimboResolution",lx.ce))}}async function df(t,e,n){const s=Me(t),r=[],o=[],a=[];s.Tu.isEmpty()||(s.Tu.forEach((l,c)=>{a.push(s.pu(c,e,n).then(u=>{var d;if((u||n)&&s.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;s.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){r.push(u);const h=rj.As(c.targetId,u);o.push(h)}}))}),await Promise.all(a),s.Pu.H_(r),await async function(c,u){const d=Me(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>J.forEach(u,m=>J.forEach(m.Es,g=>d.persistence.referenceDelegate.addReference(h,m.targetId,g)).next(()=>J.forEach(m.ds,g=>d.persistence.referenceDelegate.removeReference(h,m.targetId,g)))))}catch(h){if(!bu(h))throw h;fe(ij,"Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const g=d.Ms.get(m),y=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(m,x)}}}(s.localStore,o))}async function DX(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){fe(gj,"User change. New user:",e.toKey());const s=await ZD(n.localStore,e);n.currentUser=e,function(o,a){o.mu.forEach(l=>{l.forEach(c=>{c.reject(new de(K.CANCELLED,a))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await df(n,s.Ls)}}function MX(t,e){const n=Me(t),s=n.Au.get(e);if(s&&s.hu)return He().add(s.key);{let r=He();const o=n.Iu.get(e);if(!o)return r;for(const a of o){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function g4(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=h4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PX.bind(null,e),e.Pu.H_=yX.bind(null,e.eventManager),e.Pu.yu=vX.bind(null,e.eventManager),e}function OX(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kX.bind(null,e),e}class sg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return UQ(this.persistence,new LQ,e.initialUser,this.serializer)}Cu(e){return new JD(sj.mi,this.serializer)}Du(e){return new GQ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sg.provider={build:()=>new sg};class LX extends sg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){et(this.persistence.referenceDelegate instanceof tg,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jQ(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ts.withCacheSize(this.cacheSizeBytes):ts.DEFAULT;return new JD(s=>tg.mi(s,n),this.serializer)}}class jw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>GT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DX.bind(null,this.syncEngine),await pX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xX}()}createDatastore(e){const n=xx(e.databaseInfo.databaseId),s=function(o){return new JQ(o)}(e.databaseInfo);return function(o,a,l,c){return new nX(o,a,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,o,a,l){return new rX(s,r,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>GT(this.syncEngine,n,0),function(){return $T.v()?new $T:new KQ}())}createSyncEngine(e,n){return function(r,o,a,l,c,u,d){const h=new NX(r,o,a,l,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const o=Me(r);fe(gl,"RemoteStore shutting down."),o.Ea.add(5),await uf(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}jw.provider={build:()=>new jw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="FirestoreClient";class VX{constructor(e,n,s,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Rn.UNAUTHENTICATED,this.clientId=H1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,async a=>{fe(ra,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(fe(ra,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=dj(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function lv(t,e){t.asyncQueue.verifyOperationInProgress(),fe(ra,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await ZD(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function YT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FX(t);fe(ra,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>BT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>BT(e.remoteStore,r)),t._onlineComponents=e}async function FX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(ra,"Using user provided OfflineComponentProvider");try{await lv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===K.FAILED_PRECONDITION||r.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Zc("Error using user provided cache. Falling back to memory cache: "+n),await lv(t,new sg)}}else fe(ra,"Using default OfflineComponentProvider"),await lv(t,new LX(void 0));return t._offlineComponents}async function x4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(ra,"Using user provided OnlineComponentProvider"),await YT(t,t._uninitializedComponentsProvider._online)):(fe(ra,"Using default OnlineComponentProvider"),await YT(t,new jw))),t._onlineComponents}function UX(t){return x4(t).then(e=>e.syncEngine)}async function rg(t){const e=await x4(t),n=e.eventManager;return n.onListen=_X.bind(null,e.syncEngine),n.onUnlisten=TX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CX.bind(null,e.syncEngine),n}function $X(t,e,n={}){const s=new _i;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,c,u){const d=new yj({next:m=>{d.Nu(),a.enqueueAndForget(()=>fj(o,h));const g=m.docs.has(l);!g&&m.fromCache?u.reject(new de(K.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new de(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new pj(dx(l.path),d,{includeMetadataChanges:!0,qa:!0});return hj(o,h)}(await rg(t),t.asyncQueue,e,n,s)),s.promise}function zX(t,e,n={}){const s=new _i;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,c,u){const d=new yj({next:m=>{d.Nu(),a.enqueueAndForget(()=>fj(o,h)),m.fromCache&&c.source==="server"?u.reject(new de(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new pj(l,d,{includeMetadataChanges:!0,qa:!0});return hj(o,h)}(await rg(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="firestore.googleapis.com",XT=!0;class JT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v4,this.ssl=XT}else this.host=e.host,this.ssl=e.ssl??XT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wQ)throw new de(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y4(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wx{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new qK;switch(s.type){case"firstParty":return new QK(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=QT.get(n);s&&(fe("ComponentProvider","Removing Datastore"),QT.delete(n),s.terminate())}(this),Promise.resolve()}}function BX(t,e,n,s={}){var u;t=ds(t,wx);const r=Il(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(P1(`https://${l}`),I1("Firestore",!0)),o.host!==v4&&o.host!==l&&Zc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:l,ssl:r,emulatorOptions:s};if(!ul(c,a)&&(t._setSettings(c),s.mockUserToken)){let d,h;if(typeof s.mockUserToken=="string")d=s.mockUserToken,h=Rn.MOCK_USER;else{d=xR(s.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new de(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Rn(m)}t._authCredentials=new GK(new cD(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class Ut{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(af(n,Ut._jsonSchema))return new Ut(e,s||null,new _e(ht.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Qt("string",Ut._jsonSchemaVersion),referencePath:Qt("string")};class $o extends qi{constructor(e,n,s){super(e,n,dx(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new _e(e))}withConverter(e){return new $o(this.firestore,e,this._path)}}function Ve(t,e,...n){if(t=zt(t),uD("collection","path",e),t instanceof wx){const s=ht.fromString(e,...n);return dT(s),new $o(t,null,s)}{if(!(t instanceof Ut||t instanceof $o))throw new de(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ht.fromString(e,...n));return dT(s),new $o(t.firestore,null,s)}}function Ue(t,e,...n){if(t=zt(t),arguments.length===1&&(e=H1.newId()),uD("doc","path",e),t instanceof wx){const s=ht.fromString(e,...n);return uT(s),new Ut(t,null,new _e(s))}{if(!(t instanceof Ut||t instanceof $o))throw new de(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ht.fromString(e,...n));return uT(s),new Ut(t.firestore,t instanceof $o?t.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="AsyncQueue";class eC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t4(this,"async_queue_retry"),this._c=()=>{const s=av();s&&fe(ZT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=av();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=av();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new _i;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bu(e))throw e;fe(ZT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Oi("INTERNAL UNHANDLED ERROR: ",tC(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=uj.createAndSchedule(this,e,n,s,o=>this.hc(o));return this.tc.push(r),r}uc(){this.nc&&Ae(47125,{Pc:tC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const o of s)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Vi extends wx{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new eC,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eC(e),this._firestoreClient=void 0,await e}}}function WX(t,e){const n=typeof t=="object"?t:sx(),s=typeof t=="string"?t:Yp,r=nx(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const o=mR("firestore");o&&BX(r,...o)}return r}function bx(t){if(t._terminated)throw new de(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HX(t),t._firestoreClient}function HX(t){var s,r,o;const e=t._freezeSettings(),n=function(l,c,u,d){return new mY(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,y4(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new VX(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ls(En.fromBase64String(e))}catch(n){throw new de(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ls(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ls._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(af(e,Ls._jsonSchema))return Ls.fromBase64String(e.bytes)}}Ls._jsonSchemaVersion="firestore/bytes/1.0",Ls._jsonSchema={type:Qt("string",Ls._jsonSchemaVersion),bytes:Qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qr._jsonSchemaVersion}}static fromJSON(e){if(af(e,Qr._jsonSchema))return new Qr(e.latitude,e.longitude)}}Qr._jsonSchemaVersion="firestore/geoPoint/1.0",Qr._jsonSchema={type:Qt("string",Qr._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==r[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(af(e,Xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Xr(e.vectorValues);throw new de(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xr._jsonSchemaVersion="firestore/vectorValue/1.0",Xr._jsonSchema={type:Qt("string",Xr._jsonSchemaVersion),vectorValues:Qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX=/^__.*__$/;class GX{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new lf(e,this.data,n,this.fieldTransforms)}}class w4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new fa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function b4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:t})}}class vj{constructor(e,n,s,r,o,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vj({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ig(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(b4(this.Ac)&&qX.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class KX{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||xx(e)}Cc(e,n,s,r=!1){return new vj({Ac:e,methodName:n,Dc:s,path:vn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _x(t){const e=t._freezeSettings(),n=xx(t._databaseId);return new KX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function j4(t,e,n,s,r,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,n,r);bj("Data must be an object, but it was:",a,s);const l=N4(s,a);let c,u;if(o.merge)c=new vs(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const m=Nw(e,h,n);if(!a.contains(m))throw new de(K.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);S4(d,m)||d.push(m)}c=new vs(d),u=a.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=a.fieldTransforms;return new GX(new rs(l),c,u)}class Sx extends Nx{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sx}}class wj extends Nx{_toFieldTransform(e){return new UY(e.path,new Sh)}isEqual(e){return e instanceof wj}}function YX(t,e,n,s){const r=t.Cc(1,e,n);bj("Data must be an object, but it was:",r,s);const o=[],a=rs.empty();ha(s,(c,u)=>{const d=jj(e,c,n);u=zt(u);const h=r.yc(d);if(u instanceof Sx)o.push(d);else{const m=hf(u,h);m!=null&&(o.push(d),a.set(d,m))}});const l=new vs(o);return new w4(a,l,r.fieldTransforms)}function QX(t,e,n,s,r,o){const a=t.Cc(1,e,n),l=[Nw(e,s,n)],c=[r];if(o.length%2!=0)throw new de(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)l.push(Nw(e,o[m])),c.push(o[m+1]);const u=[],d=rs.empty();for(let m=l.length-1;m>=0;--m)if(!S4(u,l[m])){const g=l[m];let y=c[m];y=zt(y);const x=a.yc(g);if(y instanceof Sx)u.push(g);else{const w=hf(y,x);w!=null&&(u.push(g),d.set(g,w))}}const h=new vs(u);return new w4(d,h,a.fieldTransforms)}function XX(t,e,n,s=!1){return hf(n,t.Cc(s?4:3,e))}function hf(t,e){if(_4(t=zt(t)))return bj("Unsupported field value:",e,t),N4(t,e);if(t instanceof Nx)return function(s,r){if(!b4(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,r){const o=[];let a=0;for(const l of s){let c=hf(l,r.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}}(t,e)}return function(s,r){if((s=zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return LY(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=xt.fromDate(s);return{timestampValue:eg(r.serializer,o)}}if(s instanceof xt){const o=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:eg(r.serializer,o)}}if(s instanceof Qr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ls)return{bytesValue:WD(r.serializer,s._byteString)};if(s instanceof Ut){const o=r.databaseId,a=s.firestore._databaseId;if(!a.isEqual(o))throw r.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tj(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Xr)return function(a,l){return{mapValue:{fields:{[vD]:{stringValue:wD},[Qp]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return X1(l.serializer,u)})}}}}}}(s,r);throw r.Sc(`Unsupported field value: ${ax(s)}`)}(t,e)}function N4(t,e){const n={};return fD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(t,(s,r)=>{const o=hf(r,e.mc(s));o!=null&&(n[s]=o)}),{mapValue:{fields:n}}}function _4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof Qr||t instanceof Ls||t instanceof Ut||t instanceof Nx||t instanceof Xr)}function bj(t,e,n){if(!_4(n)||!dD(n)){const s=ax(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Nw(t,e,n){if((e=zt(e))instanceof jx)return e._internalPath;if(typeof e=="string")return jj(t,e);throw ig("Field path arguments must be of type string or ",t,!1,void 0,n)}const JX=new RegExp("[~\\*/\\[\\]]");function jj(t,e,n){if(e.search(JX)>=0)throw ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jx(...e.split("."))._internalPath}catch{throw ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ig(t,e,n,s,r){const o=s&&!s.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${s}`),a&&(c+=` in document ${r}`),c+=")"),new de(K.INVALID_ARGUMENT,l+t+c)}function S4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n,s,r,o){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ex("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZX extends E4{data(){return super.data()}}function Ex(t,e){return typeof e=="string"?jj(t,e):e instanceof jx?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nj{}class _j extends Nj{}function bt(t,e,...n){let s=[];e instanceof Nj&&s.push(e),s=s.concat(n),function(o){const a=o.filter(c=>c instanceof Sj).length,l=o.filter(c=>c instanceof Tx).length;if(a>1||a>0&&l>0)throw new de(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class Tx extends _j{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Tx(e,n,s)}_apply(e){const n=this._parse(e);return C4(e._query,n),new qi(e.firestore,e.converter,fw(e._query,n))}_parse(e){const n=_x(e.firestore);return function(o,a,l,c,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new de(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){rC(h,d);const y=[];for(const x of h)y.push(sC(c,o,x));m={arrayValue:{values:y}}}else m=sC(c,o,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||rC(h,d),m=XX(l,a,h,d==="in"||d==="not-in");return Yt.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Fi(t,e,n){const s=e,r=Ex("where",t);return Tx._create(r,s,n)}class Sj extends Nj{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sj(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let a=r;const l=o.getFlattenedFilters();for(const c of l)C4(a,c),a=fw(a,c)}(e._query,n),new qi(e.firestore,e.converter,fw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ej extends _j{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ej(e,n)}_apply(e){const n=function(r,o,a){if(r.startAt!==null)throw new de(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new de(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _h(o,a)}(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,function(r,o){const a=r.explicitOrderBy.concat([o]);return new ju(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function hs(t,e="asc"){const n=e,s=Ex("orderBy",t);return Ej._create(s,n)}class Tj extends _j{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Tj(e,n,s)}_apply(e){return new qi(e.firestore,e.converter,Jp(e._query,this._limit,this._limitType))}}function ff(t){return sY("limit",t),Tj._create("limit",t,"F")}function sC(t,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new de(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CD(e)&&n.indexOf("/")!==-1)throw new de(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ht.fromString(n));if(!_e.isDocumentKey(s))throw new de(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vT(t,new _e(s))}if(n instanceof Ut)return vT(t,n._key);throw new de(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ax(n)}.`)}function rC(t,e){if(!Array.isArray(t)||t.length===0)throw new de(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function C4(t,e){const n=function(r,o){for(const a of r)for(const l of a.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class eJ{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ha(e,(r,o)=>{s[r]=this.convertValue(o,n)}),s}convertVectorValue(e){var s,r,o;const n=(o=(r=(s=e.fields)==null?void 0:s[Qp].arrayValue)==null?void 0:r.values)==null?void 0:o.map(a=>Bt(a.doubleValue));return new Xr(n)}convertGeoPoint(e){return new Qr(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ux(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(bh(e));default:return null}}convertTimestamp(e){const n=ea(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ht.fromString(e);et(QD(s),9688,{name:e});const r=new jh(s.get(1),s.get(3)),o=new _e(s.popFirst(5));return r.isEqual(n)||Oi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class md{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xa extends E4{constructor(e,n,s,r,o,a){super(e,n,s,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ex("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xa._jsonSchema={type:Qt("string",Xa._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Jm extends Xa{data(e={}){return super.data(e)}}class Ja{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new md(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Jm(this._firestore,this._userDataWriter,s.key,s,new md(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const c=new Jm(r._firestore,r._userDataWriter,l.doc.key,l.doc,new md(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new Jm(r._firestore,r._userDataWriter,l.doc.key,l.doc,new md(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:tJ(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=H1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),s.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){t=ds(t,Ut);const e=ds(t.firestore,Vi);return $X(bx(e),t._key).then(n=>P4(e,t,n))}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:Qt("string",Ja._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Cj extends eJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function Ml(t){t=ds(t,qi);const e=ds(t.firestore,Vi),n=bx(e),s=new Cj(e);return T4(t._query),zX(n,t._query).then(r=>new Ja(e,s,t,r))}function Si(t,e,n){t=ds(t,Ut);const s=ds(t.firestore,Vi),r=A4(t.converter,e,n);return Cx(s,[j4(_x(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,$s.none())])}function $n(t,e,n,...s){t=ds(t,Ut);const r=ds(t.firestore,Vi),o=_x(r);let a;return a=typeof(e=zt(e))=="string"||e instanceof jx?QX(o,"updateDoc",t._key,e,n,s):YX(o,"updateDoc",t._key,e),Cx(r,[a.toMutation(t._key,$s.exists(!0))])}function _r(t){return Cx(ds(t.firestore,Vi),[new J1(t._key,$s.none())])}function ai(t,e){const n=ds(t.firestore,Vi),s=Ue(t),r=A4(t.converter,e);return Cx(n,[j4(_x(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,$s.exists(!1))]).then(()=>s)}function vt(t,...e){var c,u,d;t=zt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||nC(e[s])||(n=e[s++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nC(e[s])){const h=e[s];e[s]=(c=h.next)==null?void 0:c.bind(h),e[s+1]=(u=h.error)==null?void 0:u.bind(h),e[s+2]=(d=h.complete)==null?void 0:d.bind(h)}let o,a,l;if(t instanceof Ut)a=ds(t.firestore,Vi),l=dx(t._key.path),o={next:h=>{e[s]&&e[s](P4(a,t,h))},error:e[s+1],complete:e[s+2]};else{const h=ds(t,qi);a=ds(h.firestore,Vi),l=h._query;const m=new Cj(a);o={next:g=>{e[s]&&e[s](new Ja(a,m,h,g))},error:e[s+1],complete:e[s+2]},T4(t._query)}return function(m,g,y,x){const w=new yj(x),v=new pj(g,w,y);return m.asyncQueue.enqueueAndForget(async()=>hj(await rg(m),v)),()=>{w.Nu(),m.asyncQueue.enqueueAndForget(async()=>fj(await rg(m),v))}}(bx(a),l,r,o)}function Cx(t,e){return function(s,r){const o=new _i;return s.asyncQueue.enqueueAndForget(async()=>AX(await UX(s),r,o)),o.promise}(bx(t),e)}function P4(t,e,n){const s=n.docs.get(e._key),r=new Cj(t);return new Xa(t,r,e._key,s,new md(n.hasPendingWrites,n.fromCache),e.converter)}function Xe(){return new wj("serverTimestamp")}(function(e,n=!0){(function(r){vu=r})(kl),dl(new Jo("firestore",(s,{instanceIdentifier:r,options:o})=>{const a=s.getProvider("app").getImmediate(),l=new Vi(new KK(s.getProvider("auth-internal")),new XK(a,s.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new de(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jh(u.options.projectId,d)}(a,r),a);return o={useFetchStreams:n,...o},l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),qr(oT,aT,e),qr(oT,aT,"esm2020")})();var nJ="firebase",sJ="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(nJ,sJ,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="firebasestorage.googleapis.com",rJ="storageBucket",iJ=2*60*1e3,oJ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends oi{constructor(e,n,s=0){super(cv(e),`Firebase Storage: ${n} (${cv(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,li.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var si;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(si||(si={}));function cv(t){return"storage/"+t}function aJ(){const t="An unknown error occurred, please check the error payload for server response.";return new li(si.UNKNOWN,t)}function lJ(){return new li(si.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cJ(){return new li(si.CANCELED,"User canceled the upload/download.")}function uJ(t){return new li(si.INVALID_URL,"Invalid URL '"+t+"'.")}function dJ(t){return new li(si.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function iC(t){return new li(si.INVALID_ARGUMENT,t)}function k4(){return new li(si.APP_DELETED,"The Firebase app was deleted.")}function hJ(t){return new li(si.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=fr.makeFromUrl(e,n)}catch{return new fr(e,"")}if(s.path==="")return s;throw dJ(e)}static makeFromUrl(e,n){let s=null;const r="([A-Za-z0-9.\\-_]+)";function o(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+r+a,"i"),c={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${r}/o${m}`,"i"),y={bucket:1,path:3},x=n===I4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",v=new RegExp(`^https?://${x}/${r}/${w}`,"i"),b=[{regex:l,indices:c,postModify:o},{regex:g,indices:y,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<b.length;C++){const k=b[C],I=k.regex.exec(e);if(I){const _=I[k.indices.bucket];let S=I[k.indices.path];S||(S=""),s=new fr(_,S),k.postModify(s);break}}if(s==null)throw uJ(e);return s}}class fJ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mJ(t,e,n){let s=1,r=null,o=null,a=!1,l=0;function c(){return l===2}let u=!1;function d(...w){u||(u=!0,e.apply(null,w))}function h(w){r=setTimeout(()=>{r=null,t(g,c())},w)}function m(){o&&clearTimeout(o)}function g(w,...v){if(u){m();return}if(w){m(),d.call(null,w,...v);return}if(c()||a){m(),d.call(null,w,...v);return}s<64&&(s*=2);let b;l===1?(l=2,b=0):b=(s+Math.random())*1e3,h(b)}let y=!1;function x(w){y||(y=!0,m(),!u&&(r!==null?(w||(l=2),clearTimeout(r),h(0)):w||(l=1)))}return h(0),o=setTimeout(()=>{a=!0,x(!0)},n),x}function pJ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gJ(t){return t!==void 0}function oC(t,e,n,s){if(s<e)throw iC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw iC(`Invalid value for '${t}'. Expected ${n} or less.`)}function xJ(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const r=e(s)+"="+e(t[s]);n=n+r+"&"}return n=n.slice(0,-1),n}var og;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(og||(og={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yJ(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vJ{constructor(e,n,s,r,o,a,l,c,u,d,h,m=!0,g=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=m,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,x)=>{this.resolve_=y,this.reject_=x,this.start_()})}start_(){const e=(s,r)=>{if(r){s(!1,new xm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const l=o.getErrorCode()===og.NO_ERROR,c=o.getStatus();if(!l||yJ(c,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===og.ABORT;s(!1,new xm(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;s(!0,new xm(u,o))})},n=(s,r)=>{const o=this.resolve_,a=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());gJ(c)?o(c):o()}catch(c){a(c)}else if(l!==null){const c=aJ();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(r.canceled){const c=this.appDelete_?k4():cJ();a(c)}else{const c=lJ();a(c)}};this.canceled_?n(!1,new xm(!1,null,!0)):this.backoffId_=mJ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xm{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function wJ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bJ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jJ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function NJ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _J(t,e,n,s,r,o,a=!0,l=!1){const c=xJ(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return jJ(d,e),wJ(d,n),bJ(d,o),NJ(d,s),new vJ(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SJ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function EJ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){this._service=e,n instanceof fr?this._location=n:this._location=fr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ag(e,n)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EJ(this._location.path)}get storage(){return this._service}get parent(){const e=SJ(this._location.path);if(e===null)return null;const n=new fr(this._location.bucket,e);return new ag(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw hJ(e)}}function aC(t,e){const n=e==null?void 0:e[rJ];return n==null?null:fr.makeFromBucketSpec(n,t)}function TJ(t,e,n,s={}){t.host=`${e}:${n}`;const r=Il(e);r&&(P1(`https://${t.host}/b`),I1("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:o}=s;o&&(t._overrideAuthToken=typeof o=="string"?o:xR(o,t.app.options.projectId))}class CJ{constructor(e,n,s,r,o,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=a,this._bucket=null,this._host=I4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iJ,this._maxUploadRetryTime=oJ,this._requests=new Set,r!=null?this._bucket=fr.makeFromBucketSpec(r,this._host):this._bucket=aC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=aC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ss(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ag(this,e)}_makeRequest(e,n,s,r,o=!0){if(this._deleted)return new fJ(k4());{const a=_J(e,this._appId,s,r,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,r).getPromise()}}const lC="@firebase/storage",cC="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="storage";function AJ(t=sx(),e){t=zt(t);const s=nx(t,R4).getImmediate({identifier:e}),r=mR("storage");return r&&PJ(s,...r),s}function PJ(t,e,n,s={}){TJ(t,e,n,s)}function IJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new CJ(n,s,r,e,kl)}function kJ(){dl(new Jo(R4,IJ,"PUBLIC").setMultipleInstances(!0)),qr(lC,cC,""),qr(lC,cC,"esm2020")}kJ();const RJ={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyACAIFK6tpyr436UZJcuVsTbjyYZ6YMaeQ",VITE_FIREBASE_APP_ID:"1:88325564650:web:f405e460193ec9937f4f93",VITE_FIREBASE_AUTH_DOMAIN:"skyntales-53796.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"88325564650",VITE_FIREBASE_PROJECT_ID:"skyntales-53796",VITE_FIREBASE_STORAGE_BUCKET:"skyntales-53796.firebasestorage.app",VITE_RAZORPAY_KEY_ID:"rzp_live_IaTsJsviHehuIP"},DJ=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_APP_ID","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID"],uC=DJ.filter(t=>!RJ[t]);uC.length>0&&console.error(`Missing required Firebase environment variables: ${uC.join(", ")}`);const MJ={apiKey:"AIzaSyACAIFK6tpyr436UZJcuVsTbjyYZ6YMaeQ",authDomain:"skyntales-53796.firebaseapp.com",projectId:"skyntales-53796",storageBucket:"skyntales-53796.firebasestorage.app",messagingSenderId:"88325564650",appId:"1:88325564650:web:f405e460193ec9937f4f93"},Aj=hq().length===0?wR(MJ):sx(),Ta=WK(Aj),ue=WX(Aj);AJ(Aj);const D4=p.createContext(void 0),M4="admin@kanva.com";async function OJ(t,e){var n;if(e===M4)return!0;try{const s=Ue(ue,"adminUsers",t),r=await mf(s);return r.exists()&&((n=r.data())==null?void 0:n.isAdmin)===!0}catch(s){return console.error("Error checking admin status:",s),!1}}async function dC(t){const e=Ue(ue,"users",t.uid);try{const n=await mf(e),s=await OJ(t.uid,t.email);if(n.exists()){const r=n.data();if(r.role!==(s?"admin":"user")||r.displayName!==t.displayName||r.photoURL!==t.photoURL){const a={...r,displayName:t.displayName||r.displayName,photoURL:t.photoURL||r.photoURL,role:s?"admin":"user",updatedAt:Xe()};return await Si(e,a,{merge:!0}),a}return r}else{const r={uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,role:s?"admin":"user",createdAt:Xe(),updatedAt:Xe()};if(await Si(e,r),s){const o=Ue(ue,"adminUsers",t.uid);await Si(o,{isAdmin:!0,email:t.email},{merge:!0})}return r}}catch(n){return console.error("Error creating/updating user profile:",n),{uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,role:"user"}}}function LJ({children:t}){const[e,n]=p.useState(null),[s,r]=p.useState(null),[o,a]=p.useState(!0),[l,c]=p.useState(!1),[u,d]=p.useState(!0);p.useEffect(()=>{const b=kG(Ta,async C=>{if(n(C),C)try{const k=await dC(C);r(k),c(k.role==="admin")}catch(k){console.error("Error loading user profile:",k),r(null),c(!1)}else r(null),c(!1);a(!1)});return()=>b()},[]);const j={user:e,userProfile:s,loading:o,signUp:async(b,C,k)=>{try{const I=await SG(Ta,b,C);await YE(I.user,{displayName:k});const _=b===M4,S=Ue(ue,"users",I.user.uid);if(await Si(S,{uid:I.user.uid,email:b,displayName:k,photoURL:null,role:_?"admin":"user",createdAt:Xe(),updatedAt:Xe()}),_){const T=Ue(ue,"adminUsers",I.user.uid);await Si(T,{isAdmin:!0,email:b})}}catch(I){throw console.error("Sign up error:",I),I}},signIn:async(b,C)=>{try{await EG(Ta,b,C)}catch(k){throw console.error("Sign in error:",k),k}},signInWithGoogle:async()=>{try{const b=new xi,C=await ZG(Ta,b);await dC(C.user)}catch(b){throw console.error("Google sign in error:",b),b.code==="auth/configuration-not-found"||b.code==="auth/operation-not-allowed"?(d(!1),new Error("Google Sign-In is not enabled. Please use email/password to sign in, or enable Google Sign-In in your Firebase Console.")):b}},logout:async()=>{try{await RG(Ta),r(null),c(!1)}catch(b){throw console.error("Logout error:",b),b}},resetPassword:async b=>{try{await _G(Ta,b)}catch(C){throw console.error("Password reset error:",C),C}},updateProfile:async b=>{if(!e)throw new Error("No user logged in");try{b.displayName&&await YE(e,{displayName:b.displayName});const C=Ue(ue,"users",e.uid);await $n(C,{...b,updatedAt:Xe()}),r(k=>k?{...k,...b}:null)}catch(C){throw console.error("Update profile error:",C),C}},updateUserPassword:async b=>{if(!e)throw new Error("No user logged in");try{await CG(e,b)}catch(C){throw console.error("Update password error:",C),C}},isAdmin:l,googleAuthEnabled:u};return i.jsx(D4.Provider,{value:j,children:t})}function Gi(){const t=p.useContext(D4);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const O4=p.createContext(void 0),Gl="kanva_cart";function VJ({children:t}){const{user:e}=Gi(),[n,s]=p.useState([]),[r,o]=p.useState(!0);p.useEffect(()=>{if(e){const g=Ve(ue,"carts",e.uid,"items"),y=vt(g,w=>{const v=[];w.forEach(j=>{v.push({id:j.id,...j.data()})}),s(v),o(!1)},w=>{console.error("Error listening to cart:",w),o(!1)}),x=localStorage.getItem(Gl);if(x)try{const w=JSON.parse(x);Promise.all(w.map(async v=>{try{const j=Ue(ue,"carts",e.uid,"items",`product_${v.productId}`);await Si(j,{productId:v.productId,name:v.name,price:v.price,image:v.image,quantity:v.quantity,discount:v.discount||null,updatedAt:Xe()},{merge:!0})}catch(j){console.error("Error syncing cart item:",j)}})).then(()=>{localStorage.removeItem(Gl)})}catch(w){console.error("Error parsing local cart:",w),localStorage.removeItem(Gl)}return()=>y()}else{try{const g=localStorage.getItem(Gl);s(g?JSON.parse(g):[])}catch(g){console.error("Error loading local cart:",g),s([])}o(!1)}},[e]);const a=g=>{try{localStorage.setItem(Gl,JSON.stringify(g))}catch(y){console.error("Error saving to localStorage:",y)}},l=async(g,y=1)=>{try{if(e){const x=Ue(ue,"carts",e.uid,"items",`product_${g.productId}`),w=n.find(v=>v.productId===g.productId);await Si(x,{productId:g.productId,name:g.name,price:g.price,image:g.image,quantity:((w==null?void 0:w.quantity)||0)+y,discount:g.discount||null,updatedAt:Xe()})}else{const x=n.findIndex(v=>v.productId===g.productId);let w;x>=0?(w=[...n],w[x].quantity+=y):w=[...n,{...g,id:`local_${g.productId}`,quantity:y}],s(w),a(w)}}catch(x){throw console.error("Error adding to cart:",x),x}},c=async g=>{try{if(e){const y=Ue(ue,"carts",e.uid,"items",g);await _r(y)}else{const y=n.filter(x=>x.id!==g);s(y),a(y)}}catch(y){throw console.error("Error removing from cart:",y),y}},u=async(g,y)=>{try{if(y<=0){await c(g);return}if(e){const x=Ue(ue,"carts",e.uid,"items",g);await $n(x,{quantity:y,updatedAt:Xe()})}else{const x=n.map(w=>w.id===g?{...w,quantity:y}:w);s(x),a(x)}}catch(x){throw console.error("Error updating quantity:",x),x}},d=async()=>{try{if(e){const g=Ve(ue,"carts",e.uid,"items"),x=(await Ml(g)).docs.map(w=>_r(w.ref));await Promise.all(x)}else s([]),localStorage.removeItem(Gl)}catch(g){throw console.error("Error clearing cart:",g),g}},h=n.reduce((g,y)=>g+y.quantity,0),m=n.reduce((g,y)=>g+y.price*y.quantity,0);return i.jsx(O4.Provider,{value:{items:n,loading:r,addToCart:l,removeFromCart:c,updateQuantity:u,clearCart:d,totalItems:h,totalPrice:m},children:t})}function Ol(){const t=p.useContext(O4);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t}const L4=p.createContext(void 0),ed="kanva_wishlist";function FJ({children:t}){const{user:e}=Gi(),[n,s]=p.useState([]),[r,o]=p.useState(!0);p.useEffect(()=>{if(e){const h=Ve(ue,"wishlists",e.uid,"items"),m=vt(h,y=>{const x=[];y.forEach(w=>{x.push({id:w.id,...w.data()})}),s(x),o(!1)},y=>{console.error("Error listening to wishlist:",y),o(!1)}),g=localStorage.getItem(ed);if(g)try{const y=JSON.parse(g);Promise.all(y.map(async x=>{try{const w=Ue(ue,"wishlists",e.uid,"items",`product_${x.productId}`);await Si(w,{productId:x.productId,name:x.name,price:x.price,image:x.image,discount:x.discount||null,createdAt:Xe()})}catch(w){console.error("Error syncing wishlist item:",w)}})).then(()=>{localStorage.removeItem(ed)})}catch(y){console.error("Error parsing local wishlist:",y),localStorage.removeItem(ed)}return()=>m()}else{try{const h=localStorage.getItem(ed);s(h?JSON.parse(h):[])}catch(h){console.error("Error loading local wishlist:",h),s([])}o(!1)}},[e]);const a=h=>{try{localStorage.setItem(ed,JSON.stringify(h))}catch(m){console.error("Error saving to localStorage:",m)}},l=async h=>{try{if(e){const m=Ue(ue,"wishlists",e.uid,"items",`product_${h.productId}`);await Si(m,{productId:h.productId,name:h.name,price:h.price,image:h.image,discount:h.discount||null,createdAt:Xe()})}else{const m=[...n,{...h,id:`local_${h.productId}`}];s(m),a(m)}}catch(m){throw console.error("Error adding to wishlist:",m),m}},c=async h=>{try{if(e){const m=Ue(ue,"wishlists",e.uid,"items",h);await _r(m)}else{const m=n.filter(g=>g.id!==h);s(m),a(m)}}catch(m){throw console.error("Error removing from wishlist:",m),m}},u=h=>n.some(m=>String(m.productId)===String(h)),d=async h=>{try{const m=n.find(g=>String(g.productId)===String(h.productId));m?await c(m.id):await l(h)}catch(m){throw console.error("Error toggling wishlist:",m),m}};return i.jsx(L4.Provider,{value:{items:n,loading:r,addToWishlist:l,removeFromWishlist:c,isInWishlist:u,toggleWishlist:d},children:t})}function _u(){const t=p.useContext(L4);if(t===void 0)throw new Error("useWishlist must be used within a WishlistProvider");return t}const mr="/assets/product-1-BRfPe96H.jpg",zo="/assets/product-2-B7IF9wi2.jpg";var uv="focusScope.autoFocusOnMount",dv="focusScope.autoFocusOnUnmount",hC={bubbles:!1,cancelable:!0},UJ="FocusScope",pf=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:o,...a}=t,[l,c]=p.useState(null),u=Ft(r),d=Ft(o),h=p.useRef(null),m=Ie(e,x=>c(x)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let x=function(b){if(g.paused||!l)return;const C=b.target;l.contains(C)?h.current=C:uo(h.current,{select:!0})},w=function(b){if(g.paused||!l)return;const C=b.relatedTarget;C!==null&&(l.contains(C)||uo(h.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const k of b)k.removedNodes.length>0&&uo(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const j=new MutationObserver(v);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),j.disconnect()}}},[s,l,g.paused]),p.useEffect(()=>{if(l){mC.add(g);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(uv,hC);l.addEventListener(uv,u),l.dispatchEvent(v),v.defaultPrevented||($J(qJ(V4(l)),{select:!0}),document.activeElement===x&&uo(l))}return()=>{l.removeEventListener(uv,u),setTimeout(()=>{const v=new CustomEvent(dv,hC);l.addEventListener(dv,d),l.dispatchEvent(v),v.defaultPrevented||uo(x??document.body,{select:!0}),l.removeEventListener(dv,d),mC.remove(g)},0)}}},[l,u,d,g]);const y=p.useCallback(x=>{if(!n&&!s||g.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(w&&v){const j=x.currentTarget,[b,C]=zJ(j);b&&C?!x.shiftKey&&v===C?(x.preventDefault(),n&&uo(b,{select:!0})):x.shiftKey&&v===b&&(x.preventDefault(),n&&uo(C,{select:!0})):v===j&&x.preventDefault()}},[n,s,g.paused]);return i.jsx(pe.div,{tabIndex:-1,...a,ref:m,onKeyDown:y})});pf.displayName=UJ;function $J(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(uo(s,{select:e}),document.activeElement!==n)return}function zJ(t){const e=V4(t),n=fC(e,t),s=fC(e.reverse(),t);return[n,s]}function V4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function fC(t,e){for(const n of t)if(!BJ(n,{upTo:e}))return n}function BJ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function WJ(t){return t instanceof HTMLInputElement&&"select"in t}function uo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&WJ(t)&&e&&t.select()}}var mC=HJ();function HJ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=pC(t,e),t.unshift(e)},remove(e){var n;t=pC(t,e),(n=t[0])==null||n.resume()}}}function pC(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function qJ(t){return t.filter(e=>e.tagName!=="A")}var hv=0;function Ax(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??gC()),document.body.insertAdjacentElement("beforeend",t[1]??gC()),hv++,()=>{hv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hv--}},[])}function gC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ur=function(){return Ur=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ur.apply(this,arguments)};function F4(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function GJ(t,e,n){if(n||arguments.length===2)for(var s=0,r=e.length,o;s<r;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return t.concat(o||Array.prototype.slice.call(e))}var Zm="right-scroll-bar-position",ep="width-before-scroll-bar",KJ="with-scroll-bars-hidden",YJ="--removed-body-scroll-bar-size";function fv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function QJ(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=e,n.facade}var XJ=typeof window<"u"?p.useLayoutEffect:p.useEffect,xC=new WeakMap;function JJ(t,e){var n=QJ(null,function(s){return t.forEach(function(r){return fv(r,s)})});return XJ(function(){var s=xC.get(n);if(s){var r=new Set(s),o=new Set(t),a=n.current;r.forEach(function(l){o.has(l)||fv(l,null)}),o.forEach(function(l){r.has(l)||fv(l,a)})}xC.set(n,t)},[t]),n}function ZJ(t){return t}function eZ(t,e){e===void 0&&(e=ZJ);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,s);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(s=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){s=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(o),a=n}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return r}function tZ(t){t===void 0&&(t={});var e=eZ(null);return e.options=Ur({async:!0,ssr:!1},t),e}var U4=function(t){var e=t.sideCar,n=F4(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return p.createElement(s,Ur({},n))};U4.isSideCarExport=!0;function nZ(t,e){return t.useMedium(e),U4}var $4=tZ(),mv=function(){},Px=p.forwardRef(function(t,e){var n=p.useRef(null),s=p.useState({onScrollCapture:mv,onWheelCapture:mv,onTouchMoveCapture:mv}),r=s[0],o=s[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,m=t.sideCar,g=t.noRelative,y=t.noIsolation,x=t.inert,w=t.allowPinchZoom,v=t.as,j=v===void 0?"div":v,b=t.gapMode,C=F4(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,I=JJ([n,e]),_=Ur(Ur({},C),r);return p.createElement(p.Fragment,null,d&&p.createElement(k,{sideCar:$4,removeScrollBar:u,shards:h,noRelative:g,noIsolation:y,inert:x,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:b}),a?p.cloneElement(p.Children.only(l),Ur(Ur({},_),{ref:I})):p.createElement(j,Ur({},_,{className:c,ref:I}),l))});Px.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Px.classNames={fullWidth:ep,zeroRight:Zm};var sZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rZ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=sZ();return e&&t.setAttribute("nonce",e),t}function iZ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function oZ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var aZ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=rZ())&&(iZ(e,n),oZ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},lZ=function(){var t=aZ();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},z4=function(){var t=lZ(),e=function(n){var s=n.styles,r=n.dynamic;return t(s,r),null};return e},cZ={left:0,top:0,right:0,gap:0},pv=function(t){return parseInt(t||"",10)||0},uZ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[pv(n),pv(s),pv(r)]},dZ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return cZ;var e=uZ(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},hZ=z4(),Ic="data-scroll-locked",fZ=function(t,e,n,s){var r=t.left,o=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(KJ,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Ic,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zm,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(ep,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Zm," .").concat(Zm,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(ep," .").concat(ep,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ic,`] {
    `).concat(YJ,": ").concat(l,`px;
  }
`)},yC=function(){var t=parseInt(document.body.getAttribute(Ic)||"0",10);return isFinite(t)?t:0},mZ=function(){p.useEffect(function(){return document.body.setAttribute(Ic,(yC()+1).toString()),function(){var t=yC()-1;t<=0?document.body.removeAttribute(Ic):document.body.setAttribute(Ic,t.toString())}},[])},pZ=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,r=s===void 0?"margin":s;mZ();var o=p.useMemo(function(){return dZ(r)},[r]);return p.createElement(hZ,{styles:fZ(o,!e,r,n?"":"!important")})},_w=!1;if(typeof window<"u")try{var ym=Object.defineProperty({},"passive",{get:function(){return _w=!0,!0}});window.addEventListener("test",ym,ym),window.removeEventListener("test",ym,ym)}catch{_w=!1}var Kl=_w?{passive:!1}:!1,gZ=function(t){return t.tagName==="TEXTAREA"},B4=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!gZ(t)&&n[e]==="visible")},xZ=function(t){return B4(t,"overflowY")},yZ=function(t){return B4(t,"overflowX")},vC=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=W4(t,s);if(r){var o=H4(t,s),a=o[1],l=o[2];if(a>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},vZ=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},wZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},W4=function(t,e){return t==="v"?xZ(e):yZ(e)},H4=function(t,e){return t==="v"?vZ(e):wZ(e)},bZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},jZ=function(t,e,n,s,r){var o=bZ(t,window.getComputedStyle(e).direction),a=o*s,l=n.target,c=e.contains(l),u=!1,d=a>0,h=0,m=0;do{if(!l)break;var g=H4(t,l),y=g[0],x=g[1],w=g[2],v=x-w-o*y;(y||v)&&W4(t,l)&&(h+=v,m+=y);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(u=!0),u},vm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},wC=function(t){return[t.deltaX,t.deltaY]},bC=function(t){return t&&"current"in t?t.current:t},NZ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_Z=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},SZ=0,Yl=[];function EZ(t){var e=p.useRef([]),n=p.useRef([0,0]),s=p.useRef(),r=p.useState(SZ++)[0],o=p.useState(z4)[0],a=p.useRef(t);p.useEffect(function(){a.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var x=GJ([t.lockRef.current],(t.shards||[]).map(bC),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var v=vm(x),j=n.current,b="deltaX"in x?x.deltaX:j[0]-v[0],C="deltaY"in x?x.deltaY:j[1]-v[1],k,I=x.target,_=Math.abs(b)>Math.abs(C)?"h":"v";if("touches"in x&&_==="h"&&I.type==="range")return!1;var S=vC(_,I);if(!S)return!0;if(S?k=_:(k=_==="v"?"h":"v",S=vC(_,I)),!S)return!1;if(!s.current&&"changedTouches"in x&&(b||C)&&(s.current=k),!k)return!0;var T=s.current||k;return jZ(T,w,x,T==="h"?b:C)},[]),c=p.useCallback(function(x){var w=x;if(!(!Yl.length||Yl[Yl.length-1]!==o)){var v="deltaY"in w?wC(w):vm(w),j=e.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&NZ(k.delta,v)})[0];if(j&&j.should){w.cancelable&&w.preventDefault();return}if(!j){var b=(a.current.shards||[]).map(bC).filter(Boolean).filter(function(k){return k.contains(w.target)}),C=b.length>0?l(w,b[0]):!a.current.noIsolation;C&&w.cancelable&&w.preventDefault()}}},[]),u=p.useCallback(function(x,w,v,j){var b={name:x,delta:w,target:v,should:j,shadowParent:TZ(v)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(C){return C!==b})},1)},[]),d=p.useCallback(function(x){n.current=vm(x),s.current=void 0},[]),h=p.useCallback(function(x){u(x.type,wC(x),x.target,l(x,t.lockRef.current))},[]),m=p.useCallback(function(x){u(x.type,vm(x),x.target,l(x,t.lockRef.current))},[]);p.useEffect(function(){return Yl.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Kl),document.addEventListener("touchmove",c,Kl),document.addEventListener("touchstart",d,Kl),function(){Yl=Yl.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,Kl),document.removeEventListener("touchmove",c,Kl),document.removeEventListener("touchstart",d,Kl)}},[]);var g=t.removeScrollBar,y=t.inert;return p.createElement(p.Fragment,null,y?p.createElement(o,{styles:_Z(r)}):null,g?p.createElement(pZ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function TZ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const CZ=nZ($4,EZ);var gf=p.forwardRef(function(t,e){return p.createElement(Px,Ur({},t,{ref:e,sideCar:CZ}))});gf.classNames=Px.classNames;var AZ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ql=new WeakMap,wm=new WeakMap,bm={},gv=0,q4=function(t){return t&&(t.host||q4(t.parentNode))},PZ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=q4(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},IZ=function(t,e,n,s){var r=PZ(e,Array.isArray(t)?t:[t]);bm[n]||(bm[n]=new WeakMap);var o=bm[n],a=[],l=new Set,c=new Set(r),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};r.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(s),y=g!==null&&g!=="false",x=(Ql.get(m)||0)+1,w=(o.get(m)||0)+1;Ql.set(m,x),o.set(m,w),a.push(m),x===1&&y&&wm.set(m,!0),w===1&&m.setAttribute(n,"true"),y||m.setAttribute(s,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return d(e),l.clear(),gv++,function(){a.forEach(function(h){var m=Ql.get(h)-1,g=o.get(h)-1;Ql.set(h,m),o.set(h,g),m||(wm.has(h)||h.removeAttribute(s),wm.delete(h)),g||h.removeAttribute(n)}),gv--,gv||(Ql=new WeakMap,Ql=new WeakMap,wm=new WeakMap,bm={})}},Ix=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),r=AZ(t);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live]"))),IZ(s,r,n,"aria-hidden")):function(){return null}},kx="Dialog",[G4,K4]=mn(kx),[kZ,Er]=G4(kx),Y4=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:r,onOpenChange:o,modal:a=!0}=t,l=p.useRef(null),c=p.useRef(null),[u,d]=Cs({prop:s,defaultProp:r??!1,onChange:o,caller:kx});return i.jsx(kZ,{scope:e,triggerRef:l,contentRef:c,contentId:Ns(),titleId:Ns(),descriptionId:Ns(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};Y4.displayName=kx;var Q4="DialogTrigger",X4=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Er(Q4,n),o=Ie(e,r.triggerRef);return i.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":kj(r.open),...s,ref:o,onClick:se(t.onClick,r.onOpenToggle)})});X4.displayName=Q4;var Pj="DialogPortal",[RZ,J4]=G4(Pj,{forceMount:void 0}),Z4=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:r}=t,o=Er(Pj,e);return i.jsx(RZ,{scope:e,forceMount:n,children:p.Children.map(s,a=>i.jsx(an,{present:n||o.open,children:i.jsx(fu,{asChild:!0,container:r,children:a})}))})};Z4.displayName=Pj;var lg="DialogOverlay",eM=p.forwardRef((t,e)=>{const n=J4(lg,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,o=Er(lg,t.__scopeDialog);return o.modal?i.jsx(an,{present:s||o.open,children:i.jsx(MZ,{...r,ref:e})}):null});eM.displayName=lg;var DZ=qo("DialogOverlay.RemoveScroll"),MZ=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Er(lg,n);return i.jsx(gf,{as:DZ,allowPinchZoom:!0,shards:[r.contentRef],children:i.jsx(pe.div,{"data-state":kj(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),xl="DialogContent",tM=p.forwardRef((t,e)=>{const n=J4(xl,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,o=Er(xl,t.__scopeDialog);return i.jsx(an,{present:s||o.open,children:o.modal?i.jsx(OZ,{...r,ref:e}):i.jsx(LZ,{...r,ref:e})})});tM.displayName=xl;var OZ=p.forwardRef((t,e)=>{const n=Er(xl,t.__scopeDialog),s=p.useRef(null),r=Ie(e,n.contentRef,s);return p.useEffect(()=>{const o=s.current;if(o)return Ix(o)},[]),i.jsx(nM,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:se(t.onFocusOutside,o=>o.preventDefault())})}),LZ=p.forwardRef((t,e)=>{const n=Er(xl,t.__scopeDialog),s=p.useRef(!1),r=p.useRef(!1);return i.jsx(nM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&r.current&&o.preventDefault()}})}),nM=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:o,...a}=t,l=Er(xl,n),c=p.useRef(null),u=Ie(e,c);return Ax(),i.jsxs(i.Fragment,{children:[i.jsx(pf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:o,children:i.jsx(Tl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":kj(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(FZ,{titleId:l.titleId}),i.jsx($Z,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ij="DialogTitle",sM=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Er(Ij,n);return i.jsx(pe.h2,{id:r.titleId,...s,ref:e})});sM.displayName=Ij;var rM="DialogDescription",iM=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Er(rM,n);return i.jsx(pe.p,{id:r.descriptionId,...s,ref:e})});iM.displayName=rM;var oM="DialogClose",aM=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Er(oM,n);return i.jsx(pe.button,{type:"button",...s,ref:e,onClick:se(t.onClick,()=>r.onOpenChange(!1))})});aM.displayName=oM;function kj(t){return t?"open":"closed"}var lM="DialogTitleWarning",[VZ,cM]=$U(lM,{contentName:xl,titleName:Ij,docsSlug:"dialog"}),FZ=({titleId:t})=>{const e=cM(lM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},UZ="DialogDescriptionWarning",$Z=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cM(UZ).contentName}}.`;return p.useEffect(()=>{var o;const r=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},Rj=Y4,Dj=X4,Mj=Z4,xf=eM,yf=tM,vf=sM,wf=iM,Oj=aM;const Su=Rj,uM=Dj,zZ=Mj,dM=p.forwardRef(({className:t,...e},n)=>i.jsx(xf,{className:ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));dM.displayName=xf.displayName;const BZ=Qh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Ll=p.forwardRef(({side:t="right",className:e,children:n,...s},r)=>i.jsxs(zZ,{children:[i.jsx(dM,{}),i.jsxs(yf,{ref:r,className:ce(BZ({side:t}),e),...s,children:[n,i.jsxs(Oj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Ks,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ll.displayName=yf.displayName;const Vl=({className:t,...e})=>i.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",t),...e});Vl.displayName="SheetHeader";const hM=({className:t,...e})=>i.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});hM.displayName="SheetFooter";const Fl=p.forwardRef(({className:t,...e},n)=>i.jsx(vf,{ref:n,className:ce("text-lg font-semibold text-foreground",t),...e}));Fl.displayName=vf.displayName;const WZ=p.forwardRef(({className:t,...e},n)=>i.jsx(wf,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));WZ.displayName=wf.displayName;const Ne=p.forwardRef(({className:t,type:e,...n},s)=>i.jsx("input",{type:e,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));Ne.displayName="Input";const HZ=["Cleanser","Moisturizer","Serum","Lotion","Cream"],qZ=({open:t,onOpenChange:e})=>{const[n,s]=p.useState(""),[r,o]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState([]),[d,h]=p.useState(!1),[m,g]=p.useState(!0);return p.useEffect(()=>{t&&(async()=>{try{const x=bt(Ve(ue,"products"),ff(50)),w=await Ml(x),v=[];w.forEach(j=>{var C;const b=j.data();v.push({id:j.id,name:b.name||"",price:b.price||0,image:b.image||((C=b.images)==null?void 0:C[0])||"",category:b.category||"",description:b.description||""})}),o(v),u(v.slice(0,3))}catch(x){console.error("Error fetching products:",x)}finally{g(!1)}})()},[t]),p.useEffect(()=>{if(n.trim()){h(!0);const y=setTimeout(()=>{const x=n.toLowerCase(),w=r.filter(v=>{var j,b;return v.name.toLowerCase().includes(x)||((j=v.category)==null?void 0:j.toLowerCase().includes(x))||((b=v.description)==null?void 0:b.toLowerCase().includes(x))});l(w),h(!1)},300);return()=>clearTimeout(y)}else l([])},[n,r]),i.jsx(Su,{open:t,onOpenChange:e,children:i.jsxs(Ll,{side:"top",className:"h-auto max-h-[80vh] overflow-y-auto",children:[i.jsx(Vl,{className:"sr-only",children:i.jsx(Fl,{children:"Search"})}),i.jsxs("div",{className:"container-kanva py-8",children:[i.jsxs("div",{className:"relative max-w-2xl mx-auto mb-8",children:[i.jsx(ri,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),i.jsx(Ne,{type:"text",placeholder:"Search for products...",value:n,onChange:y=>s(y.target.value),className:"pl-12 pr-12 py-6 text-lg rounded-full border-2 border-border focus:border-foreground",autoFocus:!0,"data-testid":"input-search"}),n&&i.jsx("button",{onClick:()=>s(""),className:"absolute right-4 top-1/2 -translate-y-1/2 p-1 hover:bg-secondary rounded-full","data-testid":"button-clear-search",children:i.jsx(Ks,{className:"h-5 w-5 text-muted-foreground"})})]}),n?i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-4",children:d?"Searching...":`Results for "${n}"`}),d?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:a.map(y=>i.jsxs(xe,{to:`/shop/product/${y.id}`,onClick:()=>e(!1),className:"group flex items-center gap-4 p-3 rounded-xl hover:bg-secondary transition-colors","data-testid":`link-search-result-${y.id}`,children:[i.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-secondary flex-shrink-0",children:i.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-foreground",children:y.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["",y.price.toFixed(2)]})]})]},y.id))}):i.jsxs("p",{className:"text-center text-muted-foreground py-8","data-testid":"text-no-results",children:['No products found for "',n,'"']})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"max-w-2xl mx-auto mb-8",children:[i.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Popular Searches"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:HZ.map(y=>i.jsx("button",{onClick:()=>s(y),className:"px-4 py-2 bg-secondary rounded-full text-sm hover:bg-secondary/80 transition-colors","data-testid":`button-popular-${y.toLowerCase()}`,children:y},y))})]}),i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Trending Products"}),i.jsxs(xe,{to:"/shop",onClick:()=>e(!1),className:"text-sm text-muted-foreground hover:text-foreground flex items-center gap-1","data-testid":"link-view-all",children:["View All ",i.jsx(zg,{className:"h-4 w-4"})]})]}),m?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):c.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:c.map(y=>i.jsxs(xe,{to:`/shop/product/${y.id}`,onClick:()=>e(!1),className:"group","data-testid":`link-trending-${y.id}`,children:[i.jsx("div",{className:"relative aspect-square rounded-xl overflow-hidden bg-secondary mb-3",children:i.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),i.jsx("h4",{className:"font-medium text-foreground",children:y.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["",y.price.toFixed(2)]})]},y.id))}):i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No products available"})]})]})]})]})})},Lj=Qh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98] [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=p.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...r},o)=>{const a=s?BU:"button";return i.jsx(a,{className:ce(Lj({variant:e,size:n,className:t})),ref:o,...r})});ie.displayName="Button";var GZ="Separator",jC="horizontal",KZ=["horizontal","vertical"],fM=p.forwardRef((t,e)=>{const{decorative:n,orientation:s=jC,...r}=t,o=YZ(s)?s:jC,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return i.jsx(pe.div,{"data-orientation":o,...l,...r,ref:e})});fM.displayName=GZ;function YZ(t){return KZ.includes(t)}var mM=fM;const wn=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...s},r)=>i.jsx(mM,{ref:r,decorative:n,orientation:e,className:ce("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...s}));wn.displayName=mM.displayName;const QZ=({open:t,onOpenChange:e})=>{const{items:n,updateQuantity:s,removeFromCart:r,totalPrice:o,loading:a}=Ol(),l=o>50?0:4.99,c=o+l;return i.jsx(Su,{open:t,onOpenChange:e,children:i.jsxs(Ll,{side:"right",className:"w-full sm:max-w-md flex flex-col",children:[i.jsx(Vl,{className:"border-b border-border pb-4",children:i.jsxs(Fl,{className:"flex items-center gap-2","data-testid":"text-cart-title",children:[i.jsx(Yo,{className:"h-5 w-5"}),"Your Cart (",n.length,")"]})}),a?i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-foreground"})}):n.length===0?i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4 py-12",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-secondary flex items-center justify-center",children:i.jsx(Yo,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("p",{className:"text-muted-foreground","data-testid":"text-cart-empty",children:"Your cart is empty"}),i.jsx(ie,{onClick:()=>e(!1),asChild:!0,"data-testid":"button-continue-shopping",children:i.jsx(xe,{to:"/shop",children:"Continue Shopping"})})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex-1 overflow-y-auto py-4 space-y-4",children:n.map(u=>i.jsxs("div",{className:"flex gap-4 p-3 rounded-xl bg-secondary/30","data-testid":`card-cart-item-${u.productId}`,children:[i.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-secondary flex-shrink-0",children:i.jsx("img",{src:u.image,alt:u.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-foreground truncate","data-testid":`text-item-name-${u.productId}`,children:u.name}),u.discount&&i.jsx("p",{className:"text-sm text-muted-foreground",children:u.discount})]}),i.jsx("button",{onClick:()=>r(u.id),className:"p-1 hover:bg-secondary rounded-full transition-colors","data-testid":`button-remove-item-${u.productId}`,children:i.jsx(Ks,{className:"h-4 w-4 text-muted-foreground"})})]}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsxs("div",{className:"flex items-center gap-2 bg-background rounded-full",children:[i.jsx("button",{onClick:()=>s(u.id,u.quantity-1),className:"p-1.5 hover:bg-secondary rounded-full transition-colors","data-testid":`button-decrease-${u.productId}`,children:i.jsx(u1,{className:"h-3 w-3"})}),i.jsx("span",{className:"text-sm font-medium w-6 text-center","data-testid":`text-quantity-${u.productId}`,children:u.quantity}),i.jsx("button",{onClick:()=>s(u.id,u.quantity+1),className:"p-1.5 hover:bg-secondary rounded-full transition-colors","data-testid":`button-increase-${u.productId}`,children:i.jsx(js,{className:"h-3 w-3"})})]}),i.jsx("p",{className:"font-medium","data-testid":`text-item-total-${u.productId}`,children:(u.price*u.quantity).toFixed(2)})]})]})]},u.id))}),i.jsxs("div",{className:"border-t border-border pt-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),i.jsx("span",{"data-testid":"text-subtotal",children:o.toFixed(2)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),i.jsx("span",{"data-testid":"text-shipping",children:l===0?"Need to be Calculated":`${l.toFixed(2)}`})]}),l>0&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Free shipping on orders over 5000"}),i.jsx(wn,{}),i.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{"data-testid":"text-total",children:c.toFixed(2)})]})]}),i.jsxs(hM,{className:"pt-4 gap-2 sm:gap-2",children:[i.jsx(ie,{variant:"outline",className:"flex-1",onClick:()=>e(!1),asChild:!0,"data-testid":"button-continue-shopping",children:i.jsx(xe,{to:"/shop",children:"Continue Shopping"})}),i.jsx(ie,{className:"flex-1",asChild:!0,"data-testid":"button-checkout",children:i.jsx(xe,{to:"/checkout",onClick:()=>e(!1),children:"Checkout"})})]})]})]})})},XZ=({open:t,onOpenChange:e})=>{const{items:n,removeFromWishlist:s,loading:r}=_u(),{addToCart:o}=Ol(),a=async l=>{await o({productId:l.productId,name:l.name,price:l.price,image:l.image,discount:l.discount})};return i.jsx(Su,{open:t,onOpenChange:e,children:i.jsxs(Ll,{side:"right",className:"w-full sm:max-w-md flex flex-col",children:[i.jsx(Vl,{className:"border-b border-border pb-4",children:i.jsxs(Fl,{className:"flex items-center gap-2","data-testid":"text-wishlist-title",children:[i.jsx(bs,{className:"h-5 w-5"}),"Wishlist (",n.length,")"]})}),r?i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-foreground"})}):n.length===0?i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4 py-12",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-secondary flex items-center justify-center",children:i.jsx(bs,{className:"h-8 w-8 text-muted-foreground"})}),i.jsxs("p",{className:"text-muted-foreground text-center","data-testid":"text-wishlist-empty",children:["Your wishlist is empty.",i.jsx("br",{}),"Start adding your favorite products!"]}),i.jsx(ie,{onClick:()=>e(!1),asChild:!0,"data-testid":"button-browse-products",children:i.jsx(xe,{to:"/shop",children:"Browse Products"})})]}):i.jsx("div",{className:"flex-1 overflow-y-auto py-4 space-y-4",children:n.map(l=>i.jsxs("div",{className:"group relative p-3 rounded-xl bg-secondary/30 hover:bg-secondary/50 transition-colors","data-testid":`card-wishlist-item-${l.productId}`,children:[i.jsx("button",{onClick:()=>s(l.id),className:"absolute top-3 right-3 p-1.5 bg-background rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-secondary","data-testid":`button-remove-wishlist-${l.productId}`,children:i.jsx(Ks,{className:"h-4 w-4 text-muted-foreground"})}),i.jsxs(xe,{to:`/shop/product/${l.productId}`,onClick:()=>e(!1),className:"flex gap-4",children:[i.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-secondary flex-shrink-0",children:i.jsx("img",{src:l.image,alt:l.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),i.jsxs("div",{className:"flex-1 py-1",children:[i.jsx("h4",{className:"font-medium text-foreground mb-1","data-testid":`text-wishlist-item-name-${l.productId}`,children:l.name}),i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("span",{className:"font-semibold","data-testid":`text-wishlist-item-price-${l.productId}`,children:l.price.toFixed(2)}),l.discount&&i.jsx("span",{className:"text-sm text-green-600",children:l.discount})]})]})]}),i.jsxs(ie,{size:"sm",className:"w-full mt-2 gap-2",onClick:()=>a(l),"data-testid":`button-add-to-cart-${l.productId}`,children:[i.jsx(Yo,{className:"h-4 w-4"}),"Add to Cart"]})]},l.id))})]})})};var pM={exports:{}},gM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iu=p;function JZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ZZ=typeof Object.is=="function"?Object.is:JZ,eee=iu.useState,tee=iu.useEffect,nee=iu.useLayoutEffect,see=iu.useDebugValue;function ree(t,e){var n=e(),s=eee({inst:{value:n,getSnapshot:e}}),r=s[0].inst,o=s[1];return nee(function(){r.value=n,r.getSnapshot=e,xv(r)&&o({inst:r})},[t,n,e]),tee(function(){return xv(r)&&o({inst:r}),t(function(){xv(r)&&o({inst:r})})},[t]),see(n),n}function xv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ZZ(t,n)}catch{return!0}}function iee(t,e){return e()}var oee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?iee:ree;gM.useSyncExternalStore=iu.useSyncExternalStore!==void 0?iu.useSyncExternalStore:oee;pM.exports=gM;var aee=pM.exports;function lee(){return aee.useSyncExternalStore(cee,()=>!0,()=>!1)}function cee(){return()=>{}}var Vj="Avatar",[uee]=mn(Vj),[dee,xM]=uee(Vj),yM=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[r,o]=p.useState("idle");return i.jsx(dee,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:o,children:i.jsx(pe.span,{...s,ref:e})})});yM.displayName=Vj;var vM="AvatarImage",wM=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:r=()=>{},...o}=t,a=xM(vM,n),l=hee(s,o),c=Ft(u=>{r(u),a.onImageLoadingStatusChange(u)});return $t(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(pe.img,{...o,ref:e,src:s}):null});wM.displayName=vM;var bM="AvatarFallback",jM=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...r}=t,o=xM(bM,n),[a,l]=p.useState(s===void 0);return p.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),a&&o.imageLoadingStatus!=="loaded"?i.jsx(pe.span,{...r,ref:e}):null});jM.displayName=bM;function NC(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function hee(t,{referrerPolicy:e,crossOrigin:n}){const s=lee(),r=p.useRef(null),o=s?(r.current||(r.current=new window.Image),r.current):null,[a,l]=p.useState(()=>NC(o,t));return $t(()=>{l(NC(o,t))},[o,t]),$t(()=>{const c=h=>()=>{l(h)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),e&&(o.referrerPolicy=e),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,e]),a}var NM=yM,_M=wM,SM=jM;const Za=p.forwardRef(({className:t,...e},n)=>i.jsx(NM,{ref:n,className:ce("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Za.displayName=NM.displayName;const Fj=p.forwardRef(({className:t,...e},n)=>i.jsx(_M,{ref:n,className:ce("aspect-square h-full w-full",t),...e}));Fj.displayName=_M.displayName;const el=p.forwardRef(({className:t,...e},n)=>i.jsx(SM,{ref:n,className:ce("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));el.displayName=SM.displayName;const fee=[{icon:Wr,label:"Overview",href:"/account?view=overview"},{icon:Yo,label:"My Orders",href:"/account?view=orders"},{icon:bs,label:"Wishlist",href:"/account?view=wishlist"},{icon:lh,label:"Addresses",href:"/account?view=addresses"},{icon:d1,label:"Settings",href:"/account?view=settings"}],mee=({open:t,onOpenChange:e})=>{var h,m,g;const{user:n,userProfile:s,loading:r,signIn:o,signInWithGoogle:a,logout:l,isAdmin:c}=Gi(),u=()=>{window.location.href="/account",e(!1)},d=async()=>{await l(),e(!1)};return i.jsx(Su,{open:t,onOpenChange:e,children:i.jsxs(Ll,{side:"right",className:"w-full sm:max-w-sm flex flex-col",children:[i.jsx(Vl,{className:"border-b border-border pb-4",children:i.jsxs(Fl,{className:"flex items-center gap-2","data-testid":"text-account-title",children:[i.jsx(Wr,{className:"h-5 w-5"}),"Account"]})}),r?i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-foreground"})}):n?i.jsxs("div",{className:"flex-1 py-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsxs(Za,{className:"h-16 w-16",children:[i.jsx(Fj,{src:n.photoURL||"",alt:(s==null?void 0:s.displayName)||""}),i.jsx(el,{className:"bg-secondary text-lg",children:((h=s==null?void 0:s.displayName)==null?void 0:h.split(" ").map(y=>y[0]).join(""))||((g=(m=n.email)==null?void 0:m[0])==null?void 0:g.toUpperCase())})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg","data-testid":"text-user-name",children:(s==null?void 0:s.displayName)||"User"}),i.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-user-email",children:n.email}),c&&i.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-primary mt-1",children:[i.jsx(uh,{className:"h-3 w-3"}),"Admin"]})]})]}),i.jsx(wn,{className:"mb-6"}),i.jsxs("nav",{className:"space-y-1",children:[fee.map(y=>i.jsxs(xe,{to:y.href,onClick:()=>e(!1),className:"flex items-center gap-3 px-3 py-3 rounded-lg hover:bg-secondary transition-colors","data-testid":`link-${y.label.toLowerCase().replace(/\s+/g,"-")}`,children:[i.jsx(y.icon,{className:"h-5 w-5 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:y.label})]},y.label)),c&&i.jsxs(xe,{to:"/admin/dashboard",onClick:()=>e(!1),className:"flex items-center gap-3 px-3 py-3 rounded-lg hover:bg-secondary transition-colors text-primary","data-testid":"link-admin-dashboard",children:[i.jsx(uh,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Admin Dashboard"})]})]}),i.jsx(wn,{className:"my-6"}),i.jsxs("button",{onClick:d,className:"flex items-center gap-3 px-3 py-3 rounded-lg hover:bg-destructive/10 transition-colors w-full text-destructive","data-testid":"button-sign-out",children:[i.jsx(c1,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Sign Out"})]})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-6 py-12",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-secondary flex items-center justify-center",children:i.jsx(Wr,{className:"h-10 w-10 text-muted-foreground"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Welcome to Skyntales"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in to access your account, track orders, and save your favorites."})]}),i.jsxs("div",{className:"w-full space-y-3",children:[i.jsx(ie,{className:"w-full",size:"lg",onClick:u,"data-testid":"button-sign-in",children:"Sign In"}),i.jsx(ie,{variant:"outline",className:"w-full",size:"lg",onClick:a,"data-testid":"button-google-sign-in",children:"Sign in with Google"})]}),i.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["By signing in, you agree to our"," ",i.jsx(xe,{to:"/terms",className:"underline hover:text-foreground",children:"Terms of Service"})," ","and"," ",i.jsx(xe,{to:"/privacy",className:"underline hover:text-foreground",children:"Privacy Policy"})]})]})]})})},EM=p.createContext(null),bf=()=>{const t=p.useContext(EM);if(!t)throw new Error("useCollections must be used within a CollectionsProvider");return t},pee=({children:t})=>{const[e,n]=p.useState([]),[s,r]=p.useState(!0);p.useEffect(()=>{const u=Ve(ue,"collections"),d=bt(u,hs("order","asc")),h=vt(d,m=>{const g=[];m.forEach(y=>{const x=y.data();g.push({id:y.id,name:x.name||"",slug:x.slug||"",description:x.description||"",image:x.image||"",isActive:x.isActive!==!1,order:x.order||0,createdAt:x.createdAt})}),n(g),r(!1)},m=>{console.error("Error fetching collections:",m),r(!1)});return()=>h()},[]);const o=async u=>{await ai(Ve(ue,"collections"),{...u,createdAt:Xe()})},a=async(u,d)=>{const h=Ue(ue,"collections",u);await $n(h,{...d,updatedAt:Xe()})},l=async u=>{const d=Ue(ue,"collections",u);await _r(d)},c=()=>e.filter(u=>u.isActive);return i.jsx(EM.Provider,{value:{collections:e,loading:s,addCollection:o,updateCollection:a,deleteCollection:l,getActiveCollections:c},children:t})},lt=()=>{const[t,e]=p.useState(!1),[n,s]=p.useState(null),[r,o]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(!1),[d,h]=p.useState(!1),[m,g]=p.useState(!1),[y,x]=p.useState([]),{totalItems:w}=Ol(),{items:v}=_u(),{getActiveCollections:j,loading:b}=bf(),C=v.length,k=j();p.useEffect(()=>{const P=()=>g(window.scrollY>40);return window.addEventListener("scroll",P),()=>window.removeEventListener("scroll",P)},[]),p.useEffect(()=>{const P=Ve(ue,"products"),R=bt(P,Fi("status","==","Active"),ff(2)),D=vt(R,L=>{const F=[];L.forEach(W=>{const B=W.data();F.push({id:W.id,name:B.name||"",price:B.price||0,image:B.image||mr,discount:B.discount})}),x(F)});return()=>D()},[]);const I=[{label:"Shop",href:"/shop",hasDropdown:!0},{label:"Collections",hasDropdown:!0},{label:"About",href:"/about"},{label:"Blog",href:"/blog"},{label:"Contact",href:"/contact"}],_=[{label:"All Products",href:"/shop"},...k.slice(0,3).map(P=>({label:P.name,href:`/shop/${P.slug}`}))],S=y.length>0?y:[{id:"1",name:"Hydra Drops",price:8.9,image:mr,discount:55},{id:"2",name:"Glow Milk",price:9.9,image:zo,discount:57}],T=k.slice(0,3).map((P,R)=>({label:P.name,href:`/shop/${P.slug}`,image:P.image&&P.image!=="/placeholder.svg"?P.image:[mr,zo,mr][R%3]})),E=P=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(P);return i.jsxs("header",{className:`fixed left-2 right-2 sm:left-3 sm:right-3 z-50 px-2 sm:px-4 lg:px-8 transition-all duration-500 ${m?"top-2":"top-4 sm:top-8"}`,children:[i.jsx("div",{className:`h-14 sm:h-16 lg:h-18 rounded-xl sm:rounded-[14px] flex items-center border transition-all duration-500
        ${m?"bg-background/80 backdrop-blur-xl shadow-xl border-border/30":"bg-background/95 backdrop-blur-md shadow-sm border-border/20"}`,children:i.jsx("div",{className:"px-3 sm:px-6 lg:px-8 w-full",children:i.jsxs("div",{className:"flex items-center justify-between relative",children:[i.jsx("nav",{className:"hidden lg:flex items-center justify-center gap-8",children:I.map(P=>i.jsx("div",{className:"relative group",onMouseEnter:()=>P.hasDropdown&&s(P.label),onMouseLeave:()=>s(null),children:i.jsxs(xe,{to:P.href,className:"flex items-center gap-1 text-sm text-foreground/70 hover:text-foreground transition relative",children:[P.label,P.hasDropdown&&i.jsx(js,{className:"h-3 w-3",strokeWidth:1.5}),i.jsx("span",{className:"absolute left-0 -bottom-1 h-[1px] w-0 bg-foreground group-hover:w-full transition-all"})]})},P.label))}),i.jsx(xe,{to:"/",className:"absolute left-1/2 -translate-x-1/2 text-lg sm:text-xl font-heading tracking-tight hover:opacity-70 transition",children:i.jsx("span",{className:"text-foreground font-medium",children:"Skyntales"})}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-3",children:[i.jsx("button",{onClick:()=>h(!0),className:"hidden sm:flex p-2 hover:opacity-60 transition","data-testid":"button-profile",children:i.jsx(Wr,{className:"h-[18px] w-[18px]"})}),i.jsx("button",{onClick:()=>o(!0),className:"p-2 hover:opacity-60 transition","data-testid":"button-search",children:i.jsx(ri,{className:"h-4 w-4 sm:h-[18px] sm:w-[18px]"})}),i.jsxs("button",{onClick:()=>u(!0),className:"hidden sm:flex p-2 hover:opacity-60 transition relative","data-testid":"button-wishlist",children:[i.jsx(bs,{className:"h-[18px] w-[18px]"}),C>0&&i.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-4 w-4 bg-primary text-primary-foreground text-[10px] font-semibold rounded-full flex items-center justify-center","data-testid":"badge-wishlist-count",children:C>9?"9+":C})]}),i.jsxs("button",{onClick:()=>l(!0),className:"p-2 hover:opacity-60 transition relative","data-testid":"button-cart",children:[i.jsx(Yo,{className:"h-4 w-4 sm:h-[18px] sm:w-[18px]"}),w>0&&i.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-4 w-4 bg-primary text-primary-foreground text-[10px] font-semibold rounded-full flex items-center justify-center","data-testid":"badge-cart-count",children:w>9?"9+":w})]}),i.jsx("button",{className:"lg:hidden p-2 hover:opacity-60 transition",onClick:()=>e(!t),"data-testid":"button-mobile-menu",children:t?i.jsx(Ks,{className:"h-5 w-5"}):i.jsx(e2,{className:"h-5 w-5"})})]})]})})}),i.jsx("div",{className:`absolute top-full left-4 z-50 pt-2 transition-all duration-300 ${n==="Shop"?"opacity-100 visible":"opacity-0 invisible pointer-events-none"}`,onMouseEnter:()=>s("Shop"),onMouseLeave:()=>s(null),children:i.jsx("div",{className:"bg-background/90 backdrop-blur-xl rounded-2xl border border-border/30 shadow-2xl",children:i.jsx("div",{className:"px-10 py-10",children:i.jsxs("div",{className:"flex gap-20",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground/70 uppercase tracking-[0.12em] mb-4",children:"Shop"}),b?i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(De,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{className:"text-sm",children:"Loading..."})]}):i.jsx("ul",{className:"space-y-3",children:_.map(P=>i.jsx("li",{children:i.jsx(xe,{to:P.href,className:"text-foreground/60 hover:text-foreground font-medium transition-colors text-sm",children:P.label})},P.label))})]}),i.jsx("div",{className:"flex gap-6",children:S.map(P=>i.jsxs(xe,{to:`/shop/product/${P.id}`,className:"group bg-secondary/30 hover:bg-secondary/60 border border-border/20 hover:border-border/40 rounded-xl p-3 w-52 transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[i.jsxs("div",{className:"relative",children:[P.discount&&i.jsxs("span",{className:"absolute top-2 right-2 bg-primary text-primary-foreground text-[10px] px-2 py-0.5 rounded-full font-semibold shadow-sm",children:[P.discount,"% OFF"]}),i.jsx("div",{className:"aspect-square rounded-xl overflow-hidden bg-background mb-3",children:i.jsx("img",{src:P.image,alt:P.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})})]}),i.jsx("h4",{className:"font-semibold text-foreground text-center text-sm leading-tight",children:P.name}),i.jsx("p",{className:"text-muted-foreground text-xs text-center mt-0.5",children:E(P.price)})]},P.id))})]})})})}),i.jsx("div",{className:`absolute top-full left-4 z-50 pt-2 transition-all duration-300 ${n==="Collections"?"opacity-100 visible":"opacity-0 invisible pointer-events-none"}`,onMouseEnter:()=>s("Collections"),onMouseLeave:()=>s(null),children:i.jsx("div",{className:"bg-background/90 backdrop-blur-xl rounded-2xl border border-border/30 shadow-2xl",children:i.jsx("div",{className:"px-10 py-10",children:b?i.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground py-8",children:[i.jsx(De,{className:"h-5 w-5 animate-spin"}),i.jsx("span",{children:"Loading collections..."})]}):T.length>0?i.jsx("div",{className:"flex gap-6",children:T.map((P,R)=>i.jsxs(xe,{to:P.href,className:"group bg-secondary/30 hover:bg-secondary/60 border border-border/20 hover:border-border/40 rounded-xl p-3 w-60 transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[i.jsx("div",{className:"aspect-[4/3] rounded-xl overflow-hidden bg-background mb-4",children:i.jsx("img",{src:P.image,alt:P.label,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),i.jsx("h4",{className:"font-semibold text-foreground text-sm leading-tight",children:P.label})]},R))}):i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx("p",{children:"No collections available"}),i.jsx(xe,{to:"/shop",className:"text-primary hover:underline text-sm mt-2 inline-block",children:"Browse all products"})]})})})}),t&&i.jsx("div",{className:"lg:hidden mt-2 animate-mobile-menu",children:i.jsx("div",{className:"bg-background rounded-2xl border border-border/20 shadow-lg max-h-[70vh] overflow-y-auto",children:i.jsxs("nav",{className:"py-4 px-4 flex flex-col gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2 pb-3 mb-2 border-b border-border/20",children:[i.jsxs("button",{onClick:()=>{h(!0),e(!1)},className:"flex-1 flex items-center justify-center gap-2 py-2.5 px-3 rounded-lg bg-secondary/50 hover:bg-secondary transition text-sm",children:[i.jsx(Wr,{className:"h-4 w-4"}),"Account"]}),i.jsxs("button",{onClick:()=>{u(!0),e(!1)},className:"flex-1 flex items-center justify-center gap-2 py-2.5 px-3 rounded-lg bg-secondary/50 hover:bg-secondary transition text-sm relative",children:[i.jsx(bs,{className:"h-4 w-4"}),"Wishlist",C>0&&i.jsx("span",{className:"absolute top-1 right-1 h-4 w-4 bg-primary text-primary-foreground text-[10px] font-semibold rounded-full flex items-center justify-center",children:C>9?"9+":C})]})]}),I.map(P=>i.jsxs(xe,{to:P.href||"/shop",className:"text-sm text-foreground/70 hover:text-foreground hover:bg-secondary/50 transition py-2.5 px-3 rounded-lg flex items-center justify-between",onClick:()=>e(!1),children:[P.label,P.hasDropdown&&i.jsx(js,{className:"h-3.5 w-3.5"})]},P.label)),k.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"border-t border-border/20 my-2"}),i.jsx("span",{className:"text-xs text-muted-foreground px-3 py-1",children:"Collections"}),k.slice(0,3).map(P=>i.jsx(xe,{to:`/shop/${P.slug}`,className:"text-sm text-foreground/70 hover:text-foreground hover:bg-secondary/50 transition py-2.5 px-3 rounded-lg",onClick:()=>e(!1),children:P.name},P.id))]})]})})}),i.jsx(qZ,{open:r,onOpenChange:o}),i.jsx(QZ,{open:a,onOpenChange:l}),i.jsx(XZ,{open:c,onOpenChange:u}),i.jsx(mee,{open:d,onOpenChange:h})]})},Ln=Rj,yv=Dj,gee=Mj,TM=p.forwardRef(({className:t,...e},n)=>i.jsx(xf,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));TM.displayName=xf.displayName;const Nn=p.forwardRef(({className:t,children:e,...n},s)=>i.jsxs(gee,{children:[i.jsx(TM,{}),i.jsx(yf,{ref:s,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:e})]}));Nn.displayName=yf.displayName;const Vn=({className:t,...e})=>i.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Vn.displayName="DialogHeader";const _n=p.forwardRef(({className:t,...e},n)=>i.jsx(vf,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",t),...e}));_n.displayName=vf.displayName;const Eu=p.forwardRef(({className:t,...e},n)=>i.jsx(wf,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));Eu.displayName=wf.displayName;var xee=p.createContext(void 0);function Tu(t){const e=p.useContext(xee);return t||e||"ltr"}function Sw(t,[e,n]){return Math.min(n,Math.max(e,t))}function yee(t,e){return p.useReducer((n,s)=>e[n][s]??n,t)}var Uj="ScrollArea",[CM]=mn(Uj),[vee,Qs]=CM(Uj),AM=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:s="hover",dir:r,scrollHideDelay:o=600,...a}=t,[l,c]=p.useState(null),[u,d]=p.useState(null),[h,m]=p.useState(null),[g,y]=p.useState(null),[x,w]=p.useState(null),[v,j]=p.useState(0),[b,C]=p.useState(0),[k,I]=p.useState(!1),[_,S]=p.useState(!1),T=Ie(e,P=>c(P)),E=Tu(r);return i.jsx(vee,{scope:n,type:s,dir:E,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:m,scrollbarX:g,onScrollbarXChange:y,scrollbarXEnabled:k,onScrollbarXEnabledChange:I,scrollbarY:x,onScrollbarYChange:w,scrollbarYEnabled:_,onScrollbarYEnabledChange:S,onCornerWidthChange:j,onCornerHeightChange:C,children:i.jsx(pe.div,{dir:E,...a,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});AM.displayName=Uj;var PM="ScrollAreaViewport",IM=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:s,nonce:r,...o}=t,a=Qs(PM,n),l=p.useRef(null),c=Ie(e,l,a.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(pe.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:i.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});IM.displayName=PM;var ci="ScrollAreaScrollbar",$j=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=Qs(ci,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=r,l=t.orientation==="horizontal";return p.useEffect(()=>(l?o(!0):a(!0),()=>{l?o(!1):a(!1)}),[l,o,a]),r.type==="hover"?i.jsx(wee,{...s,ref:e,forceMount:n}):r.type==="scroll"?i.jsx(bee,{...s,ref:e,forceMount:n}):r.type==="auto"?i.jsx(kM,{...s,ref:e,forceMount:n}):r.type==="always"?i.jsx(zj,{...s,ref:e}):null});$j.displayName=ci;var wee=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=Qs(ci,t.__scopeScrollArea),[o,a]=p.useState(!1);return p.useEffect(()=>{const l=r.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[r.scrollArea,r.scrollHideDelay]),i.jsx(an,{present:n||o,children:i.jsx(kM,{"data-state":o?"visible":"hidden",...s,ref:e})})}),bee=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=Qs(ci,t.__scopeScrollArea),o=t.orientation==="horizontal",a=Dx(()=>c("SCROLL_END"),100),[l,c]=yee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,r.scrollHideDelay,c]),p.useEffect(()=>{const u=r.viewport,d=o?"scrollLeft":"scrollTop";if(u){let h=u[d];const m=()=>{const g=u[d];h!==g&&(c("SCROLL"),a()),h=g};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[r.viewport,o,c,a]),i.jsx(an,{present:n||l!=="hidden",children:i.jsx(zj,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:se(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:se(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),kM=p.forwardRef((t,e)=>{const n=Qs(ci,t.__scopeScrollArea),{forceMount:s,...r}=t,[o,a]=p.useState(!1),l=t.orientation==="horizontal",c=Dx(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?u:d)}},10);return ou(n.viewport,c),ou(n.content,c),i.jsx(an,{present:s||o,children:i.jsx(zj,{"data-state":o?"visible":"hidden",...r,ref:e})})}),zj=p.forwardRef((t,e)=>{const{orientation:n="vertical",...s}=t,r=Qs(ci,t.__scopeScrollArea),o=p.useRef(null),a=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=LM(l.viewport,l.content),d={...s,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function h(m,g){return Tee(m,a.current,l,g)}return n==="horizontal"?i.jsx(jee,{...d,ref:e,onThumbPositionChange:()=>{if(r.viewport&&o.current){const m=r.viewport.scrollLeft,g=_C(m,l,r.dir);o.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{r.viewport&&(r.viewport.scrollLeft=m)},onDragScroll:m=>{r.viewport&&(r.viewport.scrollLeft=h(m,r.dir))}}):n==="vertical"?i.jsx(Nee,{...d,ref:e,onThumbPositionChange:()=>{if(r.viewport&&o.current){const m=r.viewport.scrollTop,g=_C(m,l);o.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{r.viewport&&(r.viewport.scrollTop=m)},onDragScroll:m=>{r.viewport&&(r.viewport.scrollTop=h(m))}}):null}),jee=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...r}=t,o=Qs(ci,t.__scopeScrollArea),[a,l]=p.useState(),c=p.useRef(null),u=Ie(e,c,o.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(DM,{"data-orientation":"horizontal",...r,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Rx(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(o.viewport){const m=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),FM(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&s({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ug(a.paddingLeft),paddingEnd:ug(a.paddingRight)}})}})}),Nee=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...r}=t,o=Qs(ci,t.__scopeScrollArea),[a,l]=p.useState(),c=p.useRef(null),u=Ie(e,c,o.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(DM,{"data-orientation":"vertical",...r,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Rx(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(o.viewport){const m=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),FM(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&s({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ug(a.paddingTop),paddingEnd:ug(a.paddingBottom)}})}})}),[_ee,RM]=CM(ci),DM=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:r,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...m}=t,g=Qs(ci,n),[y,x]=p.useState(null),w=Ie(e,T=>x(T)),v=p.useRef(null),j=p.useRef(""),b=g.viewport,C=s.content-s.viewport,k=Ft(d),I=Ft(c),_=Dx(h,10);function S(T){if(v.current){const E=T.clientX-v.current.left,P=T.clientY-v.current.top;u({x:E,y:P})}}return p.useEffect(()=>{const T=E=>{const P=E.target;(y==null?void 0:y.contains(P))&&k(E,C)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[b,y,C,k]),p.useEffect(I,[s,I]),ou(y,_),ou(g.content,_),i.jsx(_ee,{scope:n,scrollbar:y,hasThumb:r,onThumbChange:Ft(o),onThumbPointerUp:Ft(a),onThumbPositionChange:I,onThumbPointerDown:Ft(l),children:i.jsx(pe.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:se(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),v.current=y.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),S(T))}),onPointerMove:se(t.onPointerMove,S),onPointerUp:se(t.onPointerUp,T=>{const E=T.target;E.hasPointerCapture(T.pointerId)&&E.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=j.current,g.viewport&&(g.viewport.style.scrollBehavior=""),v.current=null})})})}),cg="ScrollAreaThumb",MM=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=RM(cg,t.__scopeScrollArea);return i.jsx(an,{present:n||r.hasThumb,children:i.jsx(See,{ref:e,...s})})}),See=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:s,...r}=t,o=Qs(cg,n),a=RM(cg,n),{onThumbPositionChange:l}=a,c=Ie(e,h=>a.onThumbChange(h)),u=p.useRef(void 0),d=Dx(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const h=o.viewport;if(h){const m=()=>{if(d(),!u.current){const g=Cee(h,l);u.current=g,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[o.viewport,d,l]),i.jsx(pe.div,{"data-state":a.hasThumb?"visible":"hidden",...r,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:se(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),y=h.clientX-g.left,x=h.clientY-g.top;a.onThumbPointerDown({x:y,y:x})}),onPointerUp:se(t.onPointerUp,a.onThumbPointerUp)})});MM.displayName=cg;var Bj="ScrollAreaCorner",OM=p.forwardRef((t,e)=>{const n=Qs(Bj,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?i.jsx(Eee,{...t,ref:e}):null});OM.displayName=Bj;var Eee=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,...s}=t,r=Qs(Bj,n),[o,a]=p.useState(0),[l,c]=p.useState(0),u=!!(o&&l);return ou(r.scrollbarX,()=>{var h;const d=((h=r.scrollbarX)==null?void 0:h.offsetHeight)||0;r.onCornerHeightChange(d),c(d)}),ou(r.scrollbarY,()=>{var h;const d=((h=r.scrollbarY)==null?void 0:h.offsetWidth)||0;r.onCornerWidthChange(d),a(d)}),u?i.jsx(pe.div,{...s,ref:e,style:{width:o,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ug(t){return t?parseInt(t,10):0}function LM(t,e){const n=t/e;return isNaN(n)?0:n}function Rx(t){const e=LM(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*e;return Math.max(s,18)}function Tee(t,e,n,s="ltr"){const r=Rx(n),o=r/2,a=e||o,l=r-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=s==="ltr"?[0,d]:[d*-1,0];return VM([c,u],h)(t)}function _C(t,e,n="ltr"){const s=Rx(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-r,a=e.content-e.viewport,l=o-s,c=n==="ltr"?[0,a]:[a*-1,0],u=Sw(t,c);return VM([0,a],[0,l])(u)}function VM(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function FM(t,e){return t>0&&t<e}var Cee=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return function r(){const o={left:t.scrollLeft,top:t.scrollTop},a=n.left!==o.left,l=n.top!==o.top;(a||l)&&e(),n=o,s=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(s)};function Dx(t,e){const n=Ft(t),s=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),p.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,e)},[n,e])}function ou(t,e){const n=Ft(e);$t(()=>{let s=0;if(t){const r=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return r.observe(t),()=>{window.cancelAnimationFrame(s),r.unobserve(t)}}},[t,n])}var UM=AM,Aee=IM,Pee=OM;const Ei=p.forwardRef(({className:t,children:e,...n},s)=>i.jsxs(UM,{ref:s,className:ce("relative overflow-hidden",t),...n,children:[i.jsx(Aee,{className:"h-full w-full rounded-[inherit]",children:e}),i.jsx($M,{}),i.jsx(Pee,{})]}));Ei.displayName=UM.displayName;const $M=p.forwardRef(({className:t,orientation:e="vertical",...n},s)=>i.jsx($j,{ref:s,orientation:e,className:ce("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:i.jsx(MM,{className:"relative flex-1 rounded-full bg-border"})}));$M.displayName=$j.displayName;const ct=()=>{const t=p.useRef(null),[e,n]=p.useState(!1),[s,r]=p.useState(!1),[o,a]=p.useState(!1),{collections:l}=bf();p.useEffect(()=>{const h=new IntersectionObserver(([m])=>{m.isIntersecting&&m.target.classList.add("opacity-100","translate-y-0")},{threshold:.1});return t.current&&h.observe(t.current),()=>h.disconnect()},[]);const c=[{label:"All Products",href:"/shop"},...l.filter(h=>h.isActive).slice(0,4).map(h=>({label:h.name,href:`/shop/${h.slug}`}))],u={pages:[{label:"Home",href:"/"},{label:"About",href:"/about"},{label:"Shop",href:"/shop"},{label:"Blog",href:"/blog"}],support:[{label:"Contact",href:"/contact"},{label:"FAQs",href:"/faq"},{label:"Shipping & Delivery",href:"/shipping"},{label:"Return & Cancellation",href:"/returns"},{label:"Terms & Conditions",href:"/terms"}]},d=[{icon:l1,href:"https://www.instagram.com/skyntales/",label:"Instagram"},{icon:Jk,href:" https://www.facebook.com/skyntales/",label:"Facebook"}];return i.jsxs("footer",{ref:t,className:`bg-primary text-primary-foreground overflow-hidden
      opacity-0 translate-y-20 transition-all duration-700`,children:[i.jsx("div",{className:"container-kanva py-10 sm:py-16 px-4 sm:px-5",children:i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-12 gap-8 lg:gap-12",children:[i.jsxs("div",{className:"col-span-2 sm:col-span-2 lg:col-span-4",children:[i.jsx(xe,{to:"/",className:"inline-block text-xl sm:text-2xl font-heading mb-4 sm:mb-6 hover:opacity-80 transition",children:"Skyntales"}),i.jsx("p",{className:"text-primary-foreground/60 mb-6 sm:mb-8 max-w-sm leading-relaxed text-xs sm:text-sm",children:"Combining nature and science, we create skincare that nurtures your skin and respects the planet. Healthy, radiant skin starts here."}),i.jsx("div",{className:"flex items-center gap-3 mb-6 sm:mb-8",children:d.map(h=>i.jsx("a",{href:h.href,className:`p-2.5 sm:p-3 bg-primary-foreground/10 hover:bg-primary-foreground/20 
                  rounded-full transition-all duration-300 hover:scale-110`,"aria-label":h.label,children:i.jsx(h.icon,{className:"h-4 w-4 sm:h-5 sm:w-5"})},h.label))})]}),i.jsx("div",{className:"col-span-1 lg:col-span-2",children:i.jsx(vv,{title:"Pages",links:u.pages})}),i.jsxs("div",{className:"col-span-1 lg:col-span-2",children:[i.jsx(vv,{title:"Categories",links:c}),i.jsxs("div",{className:"mt-6 sm:mt-8",children:[i.jsx("h4",{className:"text-[10px] sm:text-xs font-semibold uppercase tracking-wider text-primary-foreground/40 mb-3 sm:mb-5",children:"Account"}),i.jsxs("ul",{className:"space-y-2 sm:space-y-3",children:[i.jsx("li",{children:i.jsxs(xe,{to:"/account",className:"group flex items-center gap-1 text-primary-foreground/60 hover:text-primary-foreground transition-colors text-xs sm:text-sm",children:[i.jsx("span",{children:"My Favorites"}),i.jsx(kp,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),i.jsx("li",{children:i.jsxs(xe,{to:"/account",className:"group flex items-center gap-1 text-primary-foreground/60 hover:text-primary-foreground transition-colors text-xs sm:text-sm",children:[i.jsx("span",{children:"My Account"}),i.jsx(kp,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})})]})]})]}),i.jsx("div",{className:"col-span-1 lg:col-span-2",children:i.jsx(vv,{title:"Support",links:u.support})}),i.jsxs("div",{className:"col-span-1 lg:col-span-2",children:[i.jsx("h4",{className:"text-[10px] sm:text-xs font-semibold uppercase tracking-wider text-primary-foreground/40 mb-3 sm:mb-5",children:"Get in Touch"}),i.jsxs("div",{className:"space-y-3 sm:space-y-4 text-xs sm:text-sm",children:[i.jsx(wv,{label:"Email",value:"care@skyntales.com"}),i.jsx(wv,{label:"Phone",value:"+1 (555) 123-4567"}),i.jsx(wv,{label:"Address",value:i.jsxs(i.Fragment,{children:["EKOROOTS Ventures LLP, 7th Floor, Block No. 75, Amarasi Towers, 455, Anna Salai, ",i.jsx("br",{}),"Chennai - 600018."]})})]})]})]})}),i.jsx("div",{className:"border-t border-primary-foreground/10",children:i.jsx("div",{className:"container-kanva py-6 px-5",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 text-center",children:[i.jsx("p",{className:"text-primary-foreground/40 text-xs",children:" 2025 Skyntales. All rights reserved."}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-xs",children:[i.jsxs(Ln,{open:e,onOpenChange:n,children:[i.jsx(yv,{asChild:!0,children:i.jsx("button",{className:"footer-bottom-link cursor-pointer bg-transparent border-none","data-testid":"button-privacy-popup",children:"Privacy"})}),i.jsxs(Nn,{className:"max-w-2xl max-h-[80vh]",children:[i.jsx(Vn,{children:i.jsxs(_n,{className:"flex items-center gap-2 text-xl",children:[i.jsx(uh,{className:"h-5 w-5 text-primary"}),"Privacy Policy"]})}),i.jsx(Ei,{className:"h-[60vh] pr-4",children:i.jsxs("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:[i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Last updated: December 10, 2024"}),i.jsx("h3",{className:"mt-6",children:"Privacy Policy"}),i.jsx("p",{children:"This Privacy Policy explains how Skyntales (Site, we, us, or our) collects, uses, and shares your personal information when you visit our website, use our services, make purchases from skyntales.com (the Site), or interact with us in any other way (collectively referred to as the Services). In this Privacy Policy, you and your refer to any individual using our Services, whether as a customer, website visitor, or any other individual whose information we collect in accordance with this policy."}),i.jsx("p",{children:"Please review this Privacy Policy carefully. By accessing or using any of our Services, you consent to the collection, use, and sharing of your information as outlined here. If you do not agree with these terms, please refrain from using our Services."}),i.jsx("h3",{className:"mt-6",children:"1. Modifications to This Privacy Statement"}),i.jsx("p",{children:"This Privacy Policy may be updated from time to time for operational, legal, or regulatory purposes, as well as to reflect changes to our practices. We will amend the Last updated date, display the updated Privacy Policy on the Site, and take any other actions mandated by the relevant laws."}),i.jsx("h3",{className:"mt-6",children:"2. How We Gather and Utilise Your Personal Data"}),i.jsx("p",{children:"In order to deliver the Services, we gather and have gathered personal data about you from a number of sources within the last 12 months. Depending on your interactions with us, different information is gathered and used. We may use the information we collect for communicating with you, delivering the Services, fulfilling legal obligations, enforcing applicable terms, and protecting our rights and users."}),i.jsx("h3",{className:"mt-6",children:"3. The Personal Data We Gather"}),i.jsx("p",{children:"The kinds of personal data we collect about you depend on your interactions with our Site and Services. Personal information includes any data that identifies, relates to, describes, or can be associated with you."}),i.jsx("h3",{className:"mt-6",children:"4. Information Directly Collected from You"}),i.jsx("p",{children:"Your direct submission of information to us may include:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Name, phone number, email address, and address"}),i.jsx("li",{children:"Order details such as billing address, shipping address, payment confirmation, email, and phone number"}),i.jsx("li",{children:"Account details such as password, security questions, and username"}),i.jsx("li",{children:"Purchase activity including viewed products, cart items, and wish list activity"}),i.jsx("li",{children:"Customer service information you choose to provide when contacting us"})]}),i.jsx("p",{children:"Some features may require you to provide specific personal information. You may choose not to provide it, but doing so may limit your ability to use those features."}),i.jsx("h3",{className:"mt-6",children:"5. Data That We Gather Using Cookies"}),i.jsx("p",{children:"We automatically collect certain usage data through cookies, pixels, and similar technologies. Usage Data may include your device details, browser information, IP address, network connection, and interactions with our Site and Services."}),i.jsx("h3",{className:"mt-6",children:"6. Data That We Acquire from Outside Sources"}),i.jsx("p",{children:"Third parties may provide us with your information, including vendors and service providers who collect data on our behalf. Examples include:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Payment processors that collect payment details such as credit card information and billing address to complete your transactions"}),i.jsx("li",{children:"Third parties using tracking technologies (cookies, web beacons, SDKs) when you interact with our Site, emails, or ads"})]}),i.jsx("p",{children:"We handle third-party information according to this Privacy Policy. We are not responsible for the accuracy or practices of third parties."}),i.jsx("h3",{className:"mt-6",children:"7. How We Utilise Personal Data"}),i.jsx("h4",{className:"mt-4",children:"Deliver Goods and Services"}),i.jsx("p",{children:"We use personal information to fulfil orders, process payments, manage accounts, provide notifications, assist with returns or exchanges, support account management, and enable product reviews."}),i.jsx("h4",{className:"mt-4",children:"Marketing and Advertising"}),i.jsx("p",{children:"We may send promotional communications via email, text, or mail and show you personalised ads based on your data."}),i.jsx("h4",{className:"mt-4",children:"Protection Against Fraud and Security"}),i.jsx("p",{children:"We use personal information to detect and respond to fraudulent or harmful behaviour. You are responsible for keeping your account credentials secure."}),i.jsx("h4",{className:"mt-4",children:"Communicating with You"}),i.jsx("p",{children:"We use your information to communicate with you, provide customer service, and improve the quality of our Services."}),i.jsx("h3",{className:"mt-6",children:"8. Cookies and Tracking Technologies"}),i.jsx("p",{children:"Our product and website may use cookies and other tracking tools to improve user experience and monitor usage. Disabling cookies may affect certain functionalities."}),i.jsx("h3",{className:"mt-6",children:"9. Data Security"}),i.jsx("p",{children:"We apply appropriate technical and organisational security measures to protect your personal information. However, no system is completely secure, and we cannot guarantee absolute security."}),i.jsx("h3",{className:"mt-6",children:"10. Your Rights and Choices"}),i.jsx("p",{children:"You have the right to:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Access, update, or delete your personal information"}),i.jsx("li",{children:"Opt out of marketing communications"}),i.jsx("li",{children:"Request limitations on data processing"}),i.jsx("li",{children:"Lodge a complaint with a data protection authority"})]}),i.jsx("h3",{className:"mt-6",children:"11. Retention of Information"}),i.jsx("p",{children:"We retain your personal information as long as necessary to fulfil outlined purposes, comply with legal requirements, resolve disputes, and enforce agreements."}),i.jsx("h3",{className:"mt-6",children:"12. Complaints"}),i.jsx("p",{children:"If you have complaints regarding how we process your data, you may contact us using the details provided below. If you are not satisfied with our response, you may have the right to escalate your complaint to your local data protection authority."}),i.jsx("h3",{className:"mt-6",children:"13. International Users"}),i.jsx("p",{children:"Your personal information may be transferred, stored, and processed outside your country, including in the United States, by our staff and third-party service providers."}),i.jsx("h3",{className:"mt-6",children:"14. Changes to This Privacy Policy"}),i.jsx("p",{children:"We may update this Privacy Policy from time to time. Changes will be posted on this page, and if necessary, we will notify you through email or other communication methods."})]})})]})]}),i.jsxs(Ln,{open:s,onOpenChange:r,children:[i.jsx(yv,{asChild:!0,children:i.jsx("button",{className:"footer-bottom-link cursor-pointer bg-transparent border-none","data-testid":"button-terms-popup",children:"Terms"})}),i.jsxs(Nn,{className:"max-w-2xl max-h-[80vh]",children:[i.jsx(Vn,{children:i.jsxs(_n,{className:"flex items-center gap-2 text-xl",children:[i.jsx(r2,{className:"h-5 w-5 text-primary"}),"Terms of Service"]})}),i.jsx(Ei,{className:"h-[60vh] pr-4",children:i.jsxs("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:[i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Last updated: December 10, 2024"}),i.jsx("h3",{className:"mt-6",children:"Terms and Conditions"}),i.jsx("p",{children:"These Terms and Conditions govern the use of [Your Product Name] and any related services. By purchasing or using our product, you agree to the following terms and conditions."}),i.jsx("h3",{className:"mt-6",children:"1. Product Information"}),i.jsx("p",{children:"We strive to provide accurate descriptions and representations of our products. However, we do not guarantee that the product images, descriptions, or other content are entirely error-free or completely accurate. Product availability and pricing are subject to change without notice."}),i.jsx("h3",{className:"mt-6",children:"2. Orders and Payment"}),i.jsx("h4",{className:"mt-4",children:"Order Acceptance"}),i.jsx("p",{children:"Once an order is placed, we reserve the right to accept or reject it at our discretion. You will receive a confirmation email once your order is accepted and processed."}),i.jsx("h4",{className:"mt-4",children:"Payment"}),i.jsx("p",{children:"Payment for the product must be made at the time of purchase. We accept major credit cards, debit cards, and other payment methods as indicated at checkout. All payments are processed securely."}),i.jsx("h4",{className:"mt-4",children:"Cancellations"}),i.jsx("p",{children:"Orders may be canceled before they are shipped. Once the order is shipped, cancellations are not permitted."}),i.jsx("h3",{className:"mt-6",children:"3. Shipping and Delivery"}),i.jsx("h4",{className:"mt-4",children:"Shipping"}),i.jsx("p",{children:"We will ship your order to the address you provide at checkout. Delivery times vary based on your location and shipping method selected. Any delivery dates provided are estimates only."}),i.jsx("h4",{className:"mt-4",children:"Delays"}),i.jsx("p",{children:"We are not responsible for delays caused by shipping carriers or factors beyond our control."}),i.jsx("h4",{className:"mt-4",children:"International Shipping"}),i.jsx("p",{children:"If applicable, customers are responsible for any customs duties or taxes associated with international shipments."}),i.jsx("h3",{className:"mt-6",children:"4. Returns and Refunds"}),i.jsx("h4",{className:"mt-4",children:"Return Policy"}),i.jsx("p",{children:"If you are not satisfied with your product, you may return it within 7 working days of delivery for a refund or exchange. Items must be unused, in their original packaging, and accompanied by proof of purchase."}),i.jsx("h4",{className:"mt-4",children:"Refunds"}),i.jsx("p",{children:"Refunds will be processed to the original payment method once the returned item is received and inspected. Shipping costs are non-refundable."}),i.jsx("h4",{className:"mt-4",children:"Exclusions"}),i.jsx("p",{children:"Certain products (e.g., personalized, perishable, or clearance items) may not be eligible for returns. Please check our return policy for full details."}),i.jsx("h3",{className:"mt-6",children:"5. Use of Product"}),i.jsx("p",{children:"The product is intended for specific use. You agree to use the product only as instructed and in accordance with all applicable laws and regulations."}),i.jsx("p",{children:"We are not responsible for any injuries, damages, or losses resulting from the misuse of the product."}),i.jsx("h3",{className:"mt-6",children:"6. Limitation of Liability"}),i.jsx("p",{children:"To the fullest extent permitted by law, Skyntales is not liable for any indirect, incidental, or consequential damages arising from the use of or inability to use the product, even if we have been advised of the possibility of such damages."}),i.jsx("p",{children:"Our liability for any claim related to the product is limited to the amount you paid for the product."}),i.jsx("h3",{className:"mt-6",children:"7. Intellectual Property"}),i.jsx("p",{children:"All intellectual property rights, including trademarks, logos, designs, and content, related to the product are owned by Skyntales and are protected by applicable copyright and intellectual property laws. You may not use, reproduce, or distribute our intellectual property without our express written permission."}),i.jsx("h3",{className:"mt-6",children:"8. Changes to Terms"}),i.jsx("p",{children:"We reserve the right to update or modify these Terms and Conditions at any time. Any changes will be effective immediately upon posting on our website. Your continued use of the product after such changes constitutes your acceptance of the new terms."}),i.jsx("h3",{className:"mt-6",children:"9. Contact Us"}),i.jsx("p",{children:"If you have any questions or concerns about these Terms and Conditions, please contact us at: info@skyntales.com"})]})})]})]}),i.jsxs(Ln,{open:o,onOpenChange:a,children:[i.jsx(yv,{asChild:!0,children:i.jsx("button",{className:"footer-bottom-link cursor-pointer bg-transparent border-none","data-testid":"button-cookies-popup",children:"Shipping Policy"})}),i.jsxs(Nn,{className:"max-w-2xl max-h-[80vh]",children:[i.jsx(Vn,{children:i.jsxs(_n,{className:"flex items-center gap-2 text-xl",children:[i.jsx(l9,{className:"h-5 w-5 text-primary"}),"Shipping Policy"]})}),i.jsx(Ei,{className:"h-[60vh] pr-4",children:i.jsxs("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:[i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Effective Date: 24/9/2024"}),i.jsx("h3",{className:"mt-6",children:"Shipping Policy for Skyntales"}),i.jsx("p",{children:"At Skyntales, we are committed to ensuring a smooth and timely delivery of your purchases. Please read our Shipping Policy to understand how we handle shipping, delivery times, and other related details."}),i.jsx("h3",{className:"mt-6",children:"1. Processing Time"}),i.jsx("p",{children:"All orders are processed within 5-7 business days. Orders placed on weekends or holidays will be processed on the next business day."}),i.jsx("p",{children:"You will receive a confirmation email once your order has been shipped, including tracking information, if applicable."}),i.jsx("h3",{className:"mt-6",children:"2. Shipping Rates and Delivery Estimates"}),i.jsx("p",{children:"Shipping costs are calculated at checkout based on your location and the weight of your order."}),i.jsx("p",{children:"Estimated delivery times:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Domestic Shipping: 5-7 business days."}),i.jsx("li",{children:"International Shipping: 10-15 business days."})]}),i.jsx("p",{children:"Please note that delivery times are estimates and may vary depending on your location and shipping carrier delays, which are outside our control."}),i.jsx("h3",{className:"mt-6",children:"3. Shipping Methods"}),i.jsx("p",{children:"We offer several shipping options to meet your needs, including standard and expedited services. During checkout, you will be able to select your preferred shipping method."}),i.jsx("h3",{className:"mt-6",children:"4. Order Tracking"}),i.jsx("p",{children:"Once your order has been shipped, you will receive a tracking number via email. You can use this number to track your packages progress through the carriers website."}),i.jsx("h3",{className:"mt-6",children:"5. Shipping Locations"}),i.jsx("h4",{className:"mt-4",children:"Domestic Shipping"}),i.jsx("p",{children:"We currently ship across all states."}),i.jsx("h4",{className:"mt-4",children:"International Shipping"}),i.jsx("p",{children:"We also ship to selected international destinations. Please note that customs fees, taxes, or import duties may apply to international orders and are the responsibility of the customer."}),i.jsx("h3",{className:"mt-6",children:"6. Shipping Delays"}),i.jsx("p",{children:"While we strive to ensure timely deliveries, there may be delays due to unforeseen circumstances such as weather, carrier issues, or customs processing for international orders. Skyntales is not responsible for delays caused by third-party carriers."}),i.jsx("h3",{className:"mt-6",children:"7. Damaged, Lost, or Stolen Packages"}),i.jsx("p",{children:"If your order arrives damaged, please contact us within 3 days of receiving the product, along with photos of the damage."}),i.jsx("p",{children:"For lost or stolen packages, we will assist in filing a claim with the carrier but cannot be held responsible for packages marked as delivered by the carrier."}),i.jsx("h3",{className:"mt-6",children:"8. Incorrect Shipping Information"}),i.jsx("p",{children:"Please ensure that your shipping details are accurate when placing an order. Skyntales is not responsible for delayed or failed deliveries due to incorrect or incomplete shipping addresses."}),i.jsx("h3",{className:"mt-6",children:"9. Contact Us"}),i.jsx("p",{children:"If you have any questions regarding this Shipping Policy or need assistance, please contact us at: info@skyntales.com"})]})})]})]})]})]})})})]})},vv=({title:t,links:e})=>i.jsxs(i.Fragment,{children:[i.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-primary-foreground/40 mb-5",children:t}),i.jsx("ul",{className:"space-y-3",children:e.map(n=>i.jsx("li",{children:i.jsxs(xe,{to:n.href,className:`text-primary-foreground/70 hover:text-primary-foreground 
            transition-colors text-sm flex items-center gap-1 group`,children:[n.label,i.jsx(kp,{className:`h-3 w-3 opacity-0 -translate-x-1 
              group-hover:opacity-100 group-hover:translate-x-0 transition-all`})]})},n.label))})]}),wv=({label:t,value:e})=>i.jsxs("p",{className:"text-primary-foreground/70",children:[i.jsx("span",{className:"block text-primary-foreground/40 text-xs mb-1",children:t}),e]});function Iee(t){return Object.prototype.toString.call(t)==="[object Object]"}function SC(t){return Iee(t)||Array.isArray(t)}function kee(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Wj(t,e){const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;const r=JSON.stringify(Object.keys(t.breakpoints||{})),o=JSON.stringify(Object.keys(e.breakpoints||{}));return r!==o?!1:n.every(a=>{const l=t[a],c=e[a];return typeof l=="function"?`${l}`==`${c}`:!SC(l)||!SC(c)?l===c:Wj(l,c)})}function EC(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function Ree(t,e){if(t.length!==e.length)return!1;const n=EC(t),s=EC(e);return n.every((r,o)=>{const a=s[o];return Wj(r,a)})}function Hj(t){return typeof t=="number"}function Ew(t){return typeof t=="string"}function Mx(t){return typeof t=="boolean"}function TC(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ct(t){return Math.abs(t)}function qj(t){return Math.sign(t)}function Ld(t,e){return Ct(t-e)}function Dee(t,e){if(t===0||e===0||Ct(t)<=Ct(e))return 0;const n=Ld(Ct(t),Ct(e));return Ct(n/t)}function Mee(t){return Math.round(t*100)/100}function Ch(t){return Ah(t).map(Number)}function yr(t){return t[jf(t)]}function jf(t){return Math.max(0,t.length-1)}function Gj(t,e){return e===jf(t)}function CC(t,e=0){return Array.from(Array(t),(n,s)=>e+s)}function Ah(t){return Object.keys(t)}function zM(t,e){return[t,e].reduce((n,s)=>(Ah(s).forEach(r=>{const o=n[r],a=s[r],l=TC(o)&&TC(a);n[r]=l?zM(o,a):a}),n),{})}function Tw(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Oee(t,e){const n={start:s,center:r,end:o};function s(){return 0}function r(c){return o(c)/2}function o(c){return e-c}function a(c,u){return Ew(t)?n[t](c):t(e,c,u)}return{measure:a}}function Ph(){let t=[];function e(r,o,a,l={passive:!0}){let c;if("addEventListener"in r)r.addEventListener(o,a,l),c=()=>r.removeEventListener(o,a,l);else{const u=r;u.addListener(a),c=()=>u.removeListener(a)}return t.push(c),s}function n(){t=t.filter(r=>r())}const s={add:e,clear:n};return s}function Lee(t,e,n,s){const r=Ph(),o=1e3/60;let a=null,l=0,c=0;function u(){r.add(t,"visibilitychange",()=>{t.hidden&&y()})}function d(){g(),r.clear()}function h(w){if(!c)return;a||(a=w,n(),n());const v=w-a;for(a=w,l+=v;l>=o;)n(),l-=o;const j=l/o;s(j),c&&(c=e.requestAnimationFrame(h))}function m(){c||(c=e.requestAnimationFrame(h))}function g(){e.cancelAnimationFrame(c),a=null,l=0,c=0}function y(){a=null,l=0}return{init:u,destroy:d,start:m,stop:g,update:n,render:s}}function Vee(t,e){const n=e==="rtl",s=t==="y",r=s?"y":"x",o=s?"x":"y",a=!s&&n?-1:1,l=d(),c=h();function u(y){const{height:x,width:w}=y;return s?x:w}function d(){return s?"top":n?"right":"left"}function h(){return s?"bottom":n?"left":"right"}function m(y){return y*a}return{scroll:r,cross:o,startEdge:l,endEdge:c,measureSize:u,direction:m}}function yl(t=0,e=0){const n=Ct(t-e);function s(u){return u<t}function r(u){return u>e}function o(u){return s(u)||r(u)}function a(u){return o(u)?s(u)?t:e:u}function l(u){return n?u-n*Math.ceil((u-e)/n):u}return{length:n,max:e,min:t,constrain:a,reachedAny:o,reachedMax:r,reachedMin:s,removeOffset:l}}function BM(t,e,n){const{constrain:s}=yl(0,t),r=t+1;let o=a(e);function a(m){return n?Ct((r+m)%r):s(m)}function l(){return o}function c(m){return o=a(m),h}function u(m){return d().set(l()+m)}function d(){return BM(t,l(),n)}const h={get:l,set:c,add:u,clone:d};return h}function Fee(t,e,n,s,r,o,a,l,c,u,d,h,m,g,y,x,w,v,j){const{cross:b,direction:C}=t,k=["INPUT","SELECT","TEXTAREA"],I={passive:!1},_=Ph(),S=Ph(),T=yl(50,225).constrain(g.measure(20)),E={mouse:300,touch:400},P={mouse:500,touch:600},R=y?43:25;let D=!1,L=0,F=0,W=!1,B=!1,V=!1,M=!1;function $(ne){if(!j)return;function Te(ot){(Mx(j)||j(ne,ot))&&ve(ot)}const $e=e;_.add($e,"dragstart",ot=>ot.preventDefault(),I).add($e,"touchmove",()=>{},I).add($e,"touchend",()=>{}).add($e,"touchstart",Te).add($e,"mousedown",Te).add($e,"touchcancel",ye).add($e,"contextmenu",ye).add($e,"click",we,!0)}function G(){_.clear(),S.clear()}function Z(){const ne=M?n:e;S.add(ne,"touchmove",Y,I).add(ne,"touchend",ye).add(ne,"mousemove",Y,I).add(ne,"mouseup",ye)}function U(ne){const Te=ne.nodeName||"";return k.includes(Te)}function q(){return(y?P:E)[M?"mouse":"touch"]}function te(ne,Te){const $e=h.add(qj(ne)*-1),ot=d.byDistance(ne,!y).distance;return y||Ct(ne)<T?ot:w&&Te?ot*.5:d.byIndex($e.get(),0).distance}function ve(ne){const Te=Tw(ne,s);M=Te,V=y&&Te&&!ne.buttons&&D,D=Ld(r.get(),a.get())>=2,!(Te&&ne.button!==0)&&(U(ne.target)||(W=!0,o.pointerDown(ne),u.useFriction(0).useDuration(0),r.set(a),Z(),L=o.readPoint(ne),F=o.readPoint(ne,b),m.emit("pointerDown")))}function Y(ne){if(!Tw(ne,s)&&ne.touches.length>=2)return ye(ne);const $e=o.readPoint(ne),ot=o.readPoint(ne,b),ut=Ld($e,L),St=Ld(ot,F);if(!B&&!M&&(!ne.cancelable||(B=ut>St,!B)))return ye(ne);const Jt=o.pointerMove(ne);ut>x&&(V=!0),u.useFriction(.3).useDuration(.75),l.start(),r.add(C(Jt)),ne.preventDefault()}function ye(ne){const $e=d.byDistance(0,!1).index!==h.get(),ot=o.pointerUp(ne)*q(),ut=te(C(ot),$e),St=Dee(ot,ut),Jt=R-10*St,qe=v+St/50;B=!1,W=!1,S.clear(),u.useDuration(Jt).useFriction(qe),c.distance(ut,!y),M=!1,m.emit("pointerUp")}function we(ne){V&&(ne.stopPropagation(),ne.preventDefault(),V=!1)}function Se(){return W}return{init:$,destroy:G,pointerDown:Se}}function Uee(t,e){let s,r;function o(h){return h.timeStamp}function a(h,m){const y=`client${(m||t.scroll)==="x"?"X":"Y"}`;return(Tw(h,e)?h:h.touches[0])[y]}function l(h){return s=h,r=h,a(h)}function c(h){const m=a(h)-a(r),g=o(h)-o(s)>170;return r=h,g&&(s=h),m}function u(h){if(!s||!r)return 0;const m=a(r)-a(s),g=o(h)-o(s),y=o(h)-o(r)>170,x=m/g;return g&&!y&&Ct(x)>.1?x:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:a}}function $ee(){function t(n){const{offsetTop:s,offsetLeft:r,offsetWidth:o,offsetHeight:a}=n;return{top:s,right:r+o,bottom:s+a,left:r,width:o,height:a}}return{measure:t}}function zee(t){function e(s){return t*(s/100)}return{measure:e}}function Bee(t,e,n,s,r,o,a){const l=[t].concat(s);let c,u,d=[],h=!1;function m(w){return r.measureSize(a.measure(w))}function g(w){if(!o)return;u=m(t),d=s.map(m);function v(j){for(const b of j){if(h)return;const C=b.target===t,k=s.indexOf(b.target),I=C?u:d[k],_=m(C?t:s[k]);if(Ct(_-I)>=.5){w.reInit(),e.emit("resize");break}}}c=new ResizeObserver(j=>{(Mx(o)||o(w,j))&&v(j)}),n.requestAnimationFrame(()=>{l.forEach(j=>c.observe(j))})}function y(){h=!0,c&&c.disconnect()}return{init:g,destroy:y}}function Wee(t,e,n,s,r,o){let a=0,l=0,c=r,u=o,d=t.get(),h=0;function m(){const I=s.get()-t.get(),_=!c;let S=0;return _?(a=0,n.set(s),t.set(s),S=I):(n.set(t),a+=I/c,a*=u,d+=a,t.add(a),S=d-h),l=qj(S),h=d,k}function g(){const I=s.get()-e.get();return Ct(I)<.001}function y(){return c}function x(){return l}function w(){return a}function v(){return b(r)}function j(){return C(o)}function b(I){return c=I,k}function C(I){return u=I,k}const k={direction:x,duration:y,velocity:w,seek:m,settled:g,useBaseFriction:j,useBaseDuration:v,useFriction:C,useDuration:b};return k}function Hee(t,e,n,s,r){const o=r.measure(10),a=r.measure(50),l=yl(.1,.99);let c=!1;function u(){return!(c||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(g){if(!u())return;const y=t.reachedMin(e.get())?"min":"max",x=Ct(t[y]-e.get()),w=n.get()-e.get(),v=l.constrain(x/a);n.subtract(w*v),!g&&Ct(w)<o&&(n.set(t.constrain(n.get())),s.useDuration(25).useBaseFriction())}function h(g){c=!g}return{shouldConstrain:u,constrain:d,toggleActive:h}}function qee(t,e,n,s,r){const o=yl(-e+t,0),a=h(),l=d(),c=m();function u(y,x){return Ld(y,x)<=1}function d(){const y=a[0],x=yr(a),w=a.lastIndexOf(y),v=a.indexOf(x)+1;return yl(w,v)}function h(){return n.map((y,x)=>{const{min:w,max:v}=o,j=o.constrain(y),b=!x,C=Gj(n,x);return b?v:C||u(w,j)?w:u(v,j)?v:j}).map(y=>parseFloat(y.toFixed(3)))}function m(){if(e<=t+r)return[o.max];if(s==="keepSnaps")return a;const{min:y,max:x}=l;return a.slice(y,x)}return{snapsContained:c,scrollContainLimit:l}}function Gee(t,e,n){const s=e[0],r=n?s-t:yr(e);return{limit:yl(r,s)}}function Kee(t,e,n,s){const o=e.min+.1,a=e.max+.1,{reachedMin:l,reachedMax:c}=yl(o,a);function u(m){return m===1?c(n.get()):m===-1?l(n.get()):!1}function d(m){if(!u(m))return;const g=t*(m*-1);s.forEach(y=>y.add(g))}return{loop:d}}function Yee(t){const{max:e,length:n}=t;function s(o){const a=o-e;return n?a/-n:0}return{get:s}}function Qee(t,e,n,s,r){const{startEdge:o,endEdge:a}=t,{groupSlides:l}=r,c=h().map(e.measure),u=m(),d=g();function h(){return l(s).map(x=>yr(x)[a]-x[0][o]).map(Ct)}function m(){return s.map(x=>n[o]-x[o]).map(x=>-Ct(x))}function g(){return l(u).map(x=>x[0]).map((x,w)=>x+c[w])}return{snaps:u,snapsAligned:d}}function Xee(t,e,n,s,r,o){const{groupSlides:a}=r,{min:l,max:c}=s,u=d();function d(){const m=a(o),g=!t||e==="keepSnaps";return n.length===1?[o]:g?m:m.slice(l,c).map((y,x,w)=>{const v=!x,j=Gj(w,x);if(v){const b=yr(w[0])+1;return CC(b)}if(j){const b=jf(o)-yr(w)[0]+1;return CC(b,yr(w)[0])}return y})}return{slideRegistry:u}}function Jee(t,e,n,s,r){const{reachedAny:o,removeOffset:a,constrain:l}=s;function c(y){return y.concat().sort((x,w)=>Ct(x)-Ct(w))[0]}function u(y){const x=t?a(y):l(y),w=e.map((j,b)=>({diff:d(j-x,0),index:b})).sort((j,b)=>Ct(j.diff)-Ct(b.diff)),{index:v}=w[0];return{index:v,distance:x}}function d(y,x){const w=[y,y+n,y-n];if(!t)return y;if(!x)return c(w);const v=w.filter(j=>qj(j)===x);return v.length?c(v):yr(w)-n}function h(y,x){const w=e[y]-r.get(),v=d(w,x);return{index:y,distance:v}}function m(y,x){const w=r.get()+y,{index:v,distance:j}=u(w),b=!t&&o(w);if(!x||b)return{index:v,distance:y};const C=e[v]-j,k=y+d(C,0);return{index:v,distance:k}}return{byDistance:m,byIndex:h,shortcut:d}}function Zee(t,e,n,s,r,o,a){function l(h){const m=h.distance,g=h.index!==e.get();o.add(m),m&&(s.duration()?t.start():(t.update(),t.render(1),t.update())),g&&(n.set(e.get()),e.set(h.index),a.emit("select"))}function c(h,m){const g=r.byDistance(h,m);l(g)}function u(h,m){const g=e.clone().set(h),y=r.byIndex(g.get(),m);l(y)}return{distance:c,index:u}}function ete(t,e,n,s,r,o,a,l){const c={passive:!0,capture:!0};let u=0;function d(g){if(!l)return;function y(x){if(new Date().getTime()-u>10)return;a.emit("slideFocusStart"),t.scrollLeft=0;const j=n.findIndex(b=>b.includes(x));Hj(j)&&(r.useDuration(0),s.index(j,0),a.emit("slideFocus"))}o.add(document,"keydown",h,!1),e.forEach((x,w)=>{o.add(x,"focus",v=>{(Mx(l)||l(g,v))&&y(w)},c)})}function h(g){g.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function pd(t){let e=t;function n(){return e}function s(c){e=a(c)}function r(c){e+=a(c)}function o(c){e-=a(c)}function a(c){return Hj(c)?c:c.get()}return{get:n,set:s,add:r,subtract:o}}function WM(t,e){const n=t.scroll==="x"?a:l,s=e.style;let r=null,o=!1;function a(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(o)return;const g=Mee(t.direction(m));g!==r&&(s.transform=n(g),r=g)}function u(m){o=!m}function d(){o||(s.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function tte(t,e,n,s,r,o,a,l,c){const d=Ch(r),h=Ch(r).reverse(),m=v().concat(j());function g(_,S){return _.reduce((T,E)=>T-r[E],S)}function y(_,S){return _.reduce((T,E)=>g(T,S)>0?T.concat([E]):T,[])}function x(_){return o.map((S,T)=>({start:S-s[T]+.5+_,end:S+e-.5+_}))}function w(_,S,T){const E=x(S);return _.map(P=>{const R=T?0:-n,D=T?n:0,L=T?"end":"start",F=E[P][L];return{index:P,loopPoint:F,slideLocation:pd(-1),translate:WM(t,c[P]),target:()=>l.get()>F?R:D}})}function v(){const _=a[0],S=y(h,_);return w(S,n,!1)}function j(){const _=e-a[0]-1,S=y(d,_);return w(S,-n,!0)}function b(){return m.every(({index:_})=>{const S=d.filter(T=>T!==_);return g(S,e)<=.1})}function C(){m.forEach(_=>{const{target:S,translate:T,slideLocation:E}=_,P=S();P!==E.get()&&(T.to(P),E.set(P))})}function k(){m.forEach(_=>_.translate.clear())}return{canLoop:b,clear:k,loop:C,loopPoints:m}}function nte(t,e,n){let s,r=!1;function o(c){if(!n)return;function u(d){for(const h of d)if(h.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}s=new MutationObserver(d=>{r||(Mx(n)||n(c,d))&&u(d)}),s.observe(t,{childList:!0})}function a(){s&&s.disconnect(),r=!0}return{init:o,destroy:a}}function ste(t,e,n,s){const r={};let o=null,a=null,l,c=!1;function u(){l=new IntersectionObserver(y=>{c||(y.forEach(x=>{const w=e.indexOf(x.target);r[w]=x}),o=null,a=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:s}),e.forEach(y=>l.observe(y))}function d(){l&&l.disconnect(),c=!0}function h(y){return Ah(r).reduce((x,w)=>{const v=parseInt(w),{isIntersecting:j}=r[v];return(y&&j||!y&&!j)&&x.push(v),x},[])}function m(y=!0){if(y&&o)return o;if(!y&&a)return a;const x=h(y);return y&&(o=x),y||(a=x),x}return{init:u,destroy:d,get:m}}function rte(t,e,n,s,r,o){const{measureSize:a,startEdge:l,endEdge:c}=t,u=n[0]&&r,d=y(),h=x(),m=n.map(a),g=w();function y(){if(!u)return 0;const j=n[0];return Ct(e[l]-j[l])}function x(){if(!u)return 0;const j=o.getComputedStyle(yr(s));return parseFloat(j.getPropertyValue(`margin-${c}`))}function w(){return n.map((j,b,C)=>{const k=!b,I=Gj(C,b);return k?m[b]+d:I?m[b]+h:C[b+1][l]-j[l]}).map(Ct)}return{slideSizes:m,slideSizesWithGaps:g,startGap:d,endGap:h}}function ite(t,e,n,s,r,o,a,l,c){const{startEdge:u,endEdge:d,direction:h}=t,m=Hj(n);function g(v,j){return Ch(v).filter(b=>b%j===0).map(b=>v.slice(b,b+j))}function y(v){return v.length?Ch(v).reduce((j,b,C)=>{const k=yr(j)||0,I=k===0,_=b===jf(v),S=r[u]-o[k][u],T=r[u]-o[b][d],E=!s&&I?h(a):0,P=!s&&_?h(l):0,R=Ct(T-P-(S+E));return C&&R>e+c&&j.push(b),_&&j.push(v.length),j},[]).map((j,b,C)=>{const k=Math.max(C[b-1]||0);return v.slice(k,j)}):[]}function x(v){return m?g(v,n):y(v)}return{groupSlides:x}}function ote(t,e,n,s,r,o,a){const{align:l,axis:c,direction:u,startIndex:d,loop:h,duration:m,dragFree:g,dragThreshold:y,inViewThreshold:x,slidesToScroll:w,skipSnaps:v,containScroll:j,watchResize:b,watchSlides:C,watchDrag:k,watchFocus:I}=o,_=2,S=$ee(),T=S.measure(e),E=n.map(S.measure),P=Vee(c,u),R=P.measureSize(T),D=zee(R),L=Oee(l,R),F=!h&&!!j,W=h||!!j,{slideSizes:B,slideSizesWithGaps:V,startGap:M,endGap:$}=rte(P,T,E,n,W,r),G=ite(P,R,w,h,T,E,M,$,_),{snaps:Z,snapsAligned:U}=Qee(P,L,T,E,G),q=-yr(Z)+yr(V),{snapsContained:te,scrollContainLimit:ve}=qee(R,q,U,j,_),Y=F?te:U,{limit:ye}=Gee(q,Y,h),we=BM(jf(Y),d,h),Se=we.clone(),be=Ch(n),ne=({dragHandler:Xn,scrollBody:fs,scrollBounds:Is,options:{loop:en}})=>{en||Is.constrain(Xn.pointerDown()),fs.seek()},Te=({scrollBody:Xn,translate:fs,location:Is,offsetLocation:en,previousLocation:zn,scrollLooper:Yi,slideLooper:Tn,dragHandler:zl,animation:Qi,eventHandler:Xi,scrollBounds:Ar,options:{loop:ya}},Dt)=>{const Jn=Xn.settled(),di=!Ar.shouldConstrain(),Ee=ya?Jn:Jn&&di,Ye=Ee&&!zl.pointerDown();Ye&&Qi.stop();const rt=Is.get()*Dt+zn.get()*(1-Dt);en.set(rt),ya&&(Yi.loop(Xn.direction()),Tn.loop()),fs.to(en.get()),Ye&&Xi.emit("settle"),Ee||Xi.emit("scroll")},$e=Lee(s,r,()=>ne(ui),Xn=>Te(ui,Xn)),ot=.68,ut=Y[we.get()],St=pd(ut),Jt=pd(ut),qe=pd(ut),tt=pd(ut),Zt=Wee(St,qe,Jt,tt,m,ot),X=Jee(h,Y,q,ye,tt),Ge=Zee($e,we,Se,Zt,X,tt,a),Rt=Yee(ye),Et=Ph(),dt=ste(e,n,a,x),{slideRegistry:Ht}=Xee(F,j,Y,ve,G,be),Xs=ete(t,n,Ht,Ge,Zt,Et,a,I),ui={ownerDocument:s,ownerWindow:r,eventHandler:a,containerRect:T,slideRects:E,animation:$e,axis:P,dragHandler:Fee(P,t,s,r,tt,Uee(P,r),St,$e,Ge,Zt,X,we,a,D,g,y,v,ot,k),eventStore:Et,percentOfView:D,index:we,indexPrevious:Se,limit:ye,location:St,offsetLocation:qe,previousLocation:Jt,options:o,resizeHandler:Bee(e,a,r,n,P,b,S),scrollBody:Zt,scrollBounds:Hee(ye,qe,tt,Zt,D),scrollLooper:Kee(q,ye,qe,[St,qe,Jt,tt]),scrollProgress:Rt,scrollSnapList:Y.map(Rt.get),scrollSnaps:Y,scrollTarget:X,scrollTo:Ge,slideLooper:tte(P,R,q,B,V,Z,Y,qe,n),slideFocus:Xs,slidesHandler:nte(e,a,C),slidesInView:dt,slideIndexes:be,slideRegistry:Ht,slidesToScroll:G,target:tt,translate:WM(P,e)};return ui}function ate(){let t={},e;function n(u){e=u}function s(u){return t[u]||[]}function r(u){return s(u).forEach(d=>d(e,u)),c}function o(u,d){return t[u]=s(u).concat([d]),c}function a(u,d){return t[u]=s(u).filter(h=>h!==d),c}function l(){t={}}const c={init:n,emit:r,off:a,on:o,clear:l};return c}const lte={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function cte(t){function e(o,a){return zM(o,a||{})}function n(o){const a=o.breakpoints||{},l=Ah(a).filter(c=>t.matchMedia(c).matches).map(c=>a[c]).reduce((c,u)=>e(c,u),{});return e(o,l)}function s(o){return o.map(a=>Ah(a.breakpoints||{})).reduce((a,l)=>a.concat(l),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:s}}function ute(t){let e=[];function n(o,a){return e=a.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),e.forEach(l=>l.init(o,t)),a.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function s(){e=e.filter(o=>o.destroy())}return{init:n,destroy:s}}function dg(t,e,n){const s=t.ownerDocument,r=s.defaultView,o=cte(r),a=ute(o),l=Ph(),c=ate(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:h}=o,{on:m,off:g,emit:y}=c,x=P;let w=!1,v,j=u(lte,dg.globalOptions),b=u(j),C=[],k,I,_;function S(){const{container:be,slides:ne}=b;I=(Ew(be)?t.querySelector(be):be)||t.children[0];const $e=Ew(ne)?I.querySelectorAll(ne):ne;_=[].slice.call($e||I.children)}function T(be){const ne=ote(t,I,_,s,r,be,c);if(be.loop&&!ne.slideLooper.canLoop()){const Te=Object.assign({},be,{loop:!1});return T(Te)}return ne}function E(be,ne){w||(j=u(j,be),b=d(j),C=ne||C,S(),v=T(b),h([j,...C.map(({options:Te})=>Te)]).forEach(Te=>l.add(Te,"change",P)),b.active&&(v.translate.to(v.location.get()),v.animation.init(),v.slidesInView.init(),v.slideFocus.init(Se),v.eventHandler.init(Se),v.resizeHandler.init(Se),v.slidesHandler.init(Se),v.options.loop&&v.slideLooper.loop(),I.offsetParent&&_.length&&v.dragHandler.init(Se),k=a.init(Se,C)))}function P(be,ne){const Te=G();R(),E(u({startIndex:Te},be),ne),c.emit("reInit")}function R(){v.dragHandler.destroy(),v.eventStore.clear(),v.translate.clear(),v.slideLooper.clear(),v.resizeHandler.destroy(),v.slidesHandler.destroy(),v.slidesInView.destroy(),v.animation.destroy(),a.destroy(),l.clear()}function D(){w||(w=!0,l.clear(),R(),c.emit("destroy"),c.clear())}function L(be,ne,Te){!b.active||w||(v.scrollBody.useBaseFriction().useDuration(ne===!0?0:b.duration),v.scrollTo.index(be,Te||0))}function F(be){const ne=v.index.add(1).get();L(ne,be,-1)}function W(be){const ne=v.index.add(-1).get();L(ne,be,1)}function B(){return v.index.add(1).get()!==G()}function V(){return v.index.add(-1).get()!==G()}function M(){return v.scrollSnapList}function $(){return v.scrollProgress.get(v.offsetLocation.get())}function G(){return v.index.get()}function Z(){return v.indexPrevious.get()}function U(){return v.slidesInView.get()}function q(){return v.slidesInView.get(!1)}function te(){return k}function ve(){return v}function Y(){return t}function ye(){return I}function we(){return _}const Se={canScrollNext:B,canScrollPrev:V,containerNode:ye,internalEngine:ve,destroy:D,off:g,on:m,emit:y,plugins:te,previousScrollSnap:Z,reInit:x,rootNode:Y,scrollNext:F,scrollPrev:W,scrollProgress:$,scrollSnapList:M,scrollTo:L,selectedScrollSnap:G,slideNodes:we,slidesInView:U,slidesNotInView:q};return E(e,n),setTimeout(()=>c.emit("init"),0),Se}dg.globalOptions=void 0;function Kj(t={},e=[]){const n=p.useRef(t),s=p.useRef(e),[r,o]=p.useState(),[a,l]=p.useState(),c=p.useCallback(()=>{r&&r.reInit(n.current,s.current)},[r]);return p.useEffect(()=>{Wj(n.current,t)||(n.current=t,c())},[t,c]),p.useEffect(()=>{Ree(s.current,e)||(s.current=e,c())},[e,c]),p.useEffect(()=>{if(kee()&&a){dg.globalOptions=Kj.globalOptions;const u=dg(a,n.current,s.current);return o(u),()=>u.destroy()}else o(void 0)},[a,o]),[l,r]}Kj.globalOptions=void 0;var Ox="Popover",[HM]=mn(Ox,[ua]),Nf=ua(),[dte,ma]=HM(Ox),qM=t=>{const{__scopePopover:e,children:n,open:s,defaultOpen:r,onOpenChange:o,modal:a=!1}=t,l=Nf(e),c=p.useRef(null),[u,d]=p.useState(!1),[h,m]=Cs({prop:s,defaultProp:r??!1,onChange:o,caller:Ox});return i.jsx(N1,{...l,children:i.jsx(dte,{scope:e,contentId:Ns(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:a,children:n})})};qM.displayName=Ox;var GM="PopoverAnchor",hte=p.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,r=ma(GM,n),o=Nf(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=r;return p.useEffect(()=>(a(),()=>l()),[a,l]),i.jsx(Jh,{...o,...s,ref:e})});hte.displayName=GM;var KM="PopoverTrigger",YM=p.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,r=ma(KM,n),o=Nf(n),a=Ie(e,r.triggerRef),l=i.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":eO(r.open),...s,ref:a,onClick:se(t.onClick,r.onOpenToggle)});return r.hasCustomAnchor?l:i.jsx(Jh,{asChild:!0,...o,children:l})});YM.displayName=KM;var Yj="PopoverPortal",[fte,mte]=HM(Yj,{forceMount:void 0}),QM=t=>{const{__scopePopover:e,forceMount:n,children:s,container:r}=t,o=ma(Yj,e);return i.jsx(fte,{scope:e,forceMount:n,children:i.jsx(an,{present:n||o.open,children:i.jsx(fu,{asChild:!0,container:r,children:s})})})};QM.displayName=Yj;var au="PopoverContent",XM=p.forwardRef((t,e)=>{const n=mte(au,t.__scopePopover),{forceMount:s=n.forceMount,...r}=t,o=ma(au,t.__scopePopover);return i.jsx(an,{present:s||o.open,children:o.modal?i.jsx(gte,{...r,ref:e}):i.jsx(xte,{...r,ref:e})})});XM.displayName=au;var pte=qo("PopoverContent.RemoveScroll"),gte=p.forwardRef((t,e)=>{const n=ma(au,t.__scopePopover),s=p.useRef(null),r=Ie(e,s),o=p.useRef(!1);return p.useEffect(()=>{const a=s.current;if(a)return Ix(a)},[]),i.jsx(gf,{as:pte,allowPinchZoom:!0,children:i.jsx(JM,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),o.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:se(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),xte=p.forwardRef((t,e)=>{const n=ma(au,t.__scopePopover),s=p.useRef(!1),r=p.useRef(!1);return i.jsx(JM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&r.current&&o.preventDefault()}})}),JM=p.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=t,m=ma(au,n),g=Nf(n);return Ax(),i.jsx(pf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:o,children:i.jsx(Tl,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:i.jsx(Kg,{"data-state":eO(m.open),role:"dialog",id:m.contentId,...g,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ZM="PopoverClose",yte=p.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,r=ma(ZM,n);return i.jsx(pe.button,{type:"button",...s,ref:e,onClick:se(t.onClick,()=>r.onOpenChange(!1))})});yte.displayName=ZM;var vte="PopoverArrow",wte=p.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,r=Nf(n);return i.jsx(Yg,{...r,...s,ref:e})});wte.displayName=vte;function eO(t){return t?"open":"closed"}var bte=qM,jte=YM,Nte=QM,tO=XM;const _te=bte,Ste=jte,nO=p.forwardRef(({className:t,align:e="center",sideOffset:n=4,...s},r)=>i.jsx(Nte,{children:i.jsx(tO,{ref:r,align:e,sideOffset:n,className:ce("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));nO.displayName=tO.displayName;const Ete="/assets/hero-video-1-BbSEmUSs.mp4",Tte="/assets/hero-video-2-DpL3jcAq.mp4",Cte="/assets/hero-video-3-B6xR5Pub.mp4",Ate=t=>{const e={center:{top:"50%",left:"50%"},top_left:{top:"30%",left:"20%"},top_right:{top:"30%",left:"80%"},bottom_left:{top:"70%",left:"20%"},bottom_right:{top:"70%",left:"80%"}};return e[t]||e.center},jm=[{video:Ete,title:["Natural","Skincare"],description:"Start your day with gentle care and nourishing ingredients designed to awaken your skin naturally.",products:[]},{video:Tte,title:["Refresh","Your Skin"],description:"Skincare stripped to the essentials  clean, effective, and made with nature in mind.",products:[]},{video:Cte,title:["Daily","Rituals"],description:"Elevate your routine with products that care for your skin and the planet.",products:[]}],Pte=()=>{const[t,e]=Kj({loop:!0}),[n,s]=p.useState(0),[r,o]=p.useState(0),[a,l]=p.useState(jm),[c,u]=p.useState(!0),d=p.useRef([]);p.useEffect(()=>{const y=Ve(ue,"featuredProducts"),x=vt(y,async w=>{const v=[];if(w.forEach(k=>{const I=k.data();v.push(I)}),v.length===0){l(jm),u(!1);return}const j=v.map(async k=>{var I;try{const _=await mf(Ue(ue,"products",k.productId));if(_.exists()){const S=_.data();return{...k,productName:S.name||k.productName,productImage:S.image||((I=S.images)==null?void 0:I[0])||k.productImage,productPrice:S.price||0}}return{...k,productPrice:0}}catch(_){return console.error("Error fetching product:",_),{...k,productPrice:0}}}),b=await Promise.all(j),C=jm.map((k,I)=>{const _=b.filter(S=>S.slideIndex===I).map(S=>({id:S.productId,name:S.productName,image:S.productImage,price:S.productPrice||0,position:Ate(S.position)}));return{...k,products:_}});l(C),u(!1)},w=>{console.error("Error fetching featured products:",w),l(jm),u(!1)});return()=>x()},[]),p.useEffect(()=>{d.current.forEach((y,x)=>{y&&x===n&&y.play().catch(w=>console.log("Video play error:",w))})},[n]);const h=p.useCallback(()=>{e&&e.scrollPrev()},[e]),m=p.useCallback(()=>{e&&e.scrollNext()},[e]),g=p.useCallback(y=>{e&&e.scrollTo(y)},[e]);return p.useEffect(()=>{if(!e)return;const y=()=>{s(e.selectedScrollSnap()),o(x=>x+1)};return e.on("select",y),()=>{e.off("select",y)}},[e]),p.useEffect(()=>{if(!e)return;const y=setInterval(()=>{e.scrollNext()},4e3);return()=>clearInterval(y)},[e]),i.jsxs("section",{className:"relative h-screen w-screen overflow-hidden",children:[i.jsx("div",{ref:t,className:"h-screen w-screen overflow-hidden",children:i.jsx("div",{className:"flex h-screen w-screen",children:a.map((y,x)=>i.jsxs("div",{className:"relative h-screen w-screen flex-shrink-0",children:[i.jsx("video",{ref:w=>d.current[x]=w,src:y.video,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:"absolute inset-0 h-full w-full object-cover object-center",onLoadedData:w=>{const v=w.currentTarget;x===n&&v.play().catch(j=>console.log("Video play error:",j))}}),i.jsx("div",{className:"absolute inset-0 bg-black/30"}),x===n&&i.jsx("div",{className:"relative z-10 h-full flex items-center px-6 sm:px-16 max-w-7xl",children:i.jsxs("div",{className:"max-w-md animate-hero-text",children:[i.jsxs("h1",{className:"mb-6",children:[i.jsx("span",{className:"block text-[clamp(3rem,10vw,6.5rem)] font-heading text-white leading-none",children:y.title[0]}),i.jsx("span",{className:"block text-[clamp(3rem,10vw,6.5rem)] font-heading italic text-white/80 leading-none",children:y.title[1]})]}),i.jsx("p",{className:"text-base md:text-lg text-white/90 mb-10 max-w-sm leading-relaxed",children:y.description}),i.jsx(xe,{to:"/shop",className:"inline-block text-sm text-white font-medium underline underline-offset-4 hover:text-[#d4c4b5] transition","data-testid":"link-shop-now",children:"Shop Now"})]})},r),i.jsx("div",{className:"hidden md:block",children:y.products.map((w,v)=>i.jsxs(_te,{children:[i.jsx(Ste,{asChild:!0,children:i.jsx("button",{className:"absolute w-4 h-4 bg-white rounded-full shadow-[0_0_20px_rgba(255,255,255,0.9)] animate-ping z-20",style:{top:w.position.top,left:w.position.left},"data-testid":`button-hotspot-${w.id}`})}),i.jsx(xe,{to:`/shop/product/${w.id}`,children:i.jsx(nO,{side:"top",className:"w-auto z-30",children:i.jsxs("div",{className:"flex gap-4 items-center",children:[i.jsx("img",{src:w.image,alt:w.name,className:"w-16 h-16 object-cover rounded-md"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-sm",children:w.name}),i.jsx("p",{className:"text-sm text-gray-500",children:typeof w.price=="number"&&w.price>0?`${w.price.toFixed(2)}`:typeof w.price=="string"&&w.price?w.price:"View Product"})]})]})})})]},v))})]},x))})}),i.jsx("button",{onClick:h,className:`absolute left-4 md:left-8 top-1/2 -translate-y-1/2 w-12 h-12 
        bg-white/30 backdrop-blur-xl rounded-full flex items-center justify-center 
        hover:bg-white/50 hover:scale-110 transition-all duration-300 shadow-lg z-30`,"data-testid":"button-hero-prev",children:i.jsx(Y$,{className:"h-6 w-6 text-white"})}),i.jsx("button",{onClick:m,className:`absolute right-4 md:right-8 top-1/2 -translate-y-1/2 w-12 h-12 
        bg-white/30 backdrop-blur-xl rounded-full flex items-center justify-center 
        hover:bg-white/50 hover:scale-110 transition-all duration-300 shadow-lg z-30`,"data-testid":"button-hero-next",children:i.jsx(La,{className:"h-6 w-6 text-white"})}),i.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-x-3 z-30",children:a.map((y,x)=>i.jsx("button",{onClick:()=>g(x),className:`w-3 h-3 rounded-full transition-all duration-300 ${n===x?"bg-white scale-125 shadow-md":"bg-white/40 hover:bg-white/70"}`,"data-testid":`button-dot-${x}`},x))})]})},Ite=[{icon:ll,title:"Natural Formula",description:"Made with high-quality, natural ingredients that are gentle on your skin."},{icon:bs,title:"Cruelty Free",description:"Carefully formulated to address a variety of skin concerns."},{icon:uh,title:"Expert Approved",description:"A diverse range of products suitable for all skin types&conditions."},{icon:wr,title:"Free Shipping",description:"Delivered to your doorstep with no extra costs worldwide."}],kte=()=>{const t=p.useRef(null);return p.useEffect(()=>{var s;const e=(s=t.current)==null?void 0:s.querySelectorAll(".feature-card"),n=new IntersectionObserver(([r])=>{r.isIntersecting&&(e.forEach((o,a)=>{o.style.animationDelay=`${a*.15}s`,o.classList.add("animate-feature-reveal")}),n.disconnect())},{threshold:.2});return t.current&&n.observe(t.current),()=>n.disconnect()},[]),i.jsx("section",{ref:t,className:"py-14 sm:py-20 bg-background overflow-hidden",children:i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-10",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:Ite.map(e=>i.jsxs("div",{className:`feature-card opacity-0 flex flex-col items-center text-center p-7 sm:p-8 
              rounded-2xl bg-secondary/40 backdrop-blur-xl border border-border/30
              hover:-translate-y-2 hover:shadow-2xl transition-all duration-300`,children:[i.jsx("div",{className:`h-14 w-14 mb-5 rounded-full flex items-center justify-center 
              bg-primary/10 text-primary shadow-inner`,children:i.jsx(e.icon,{className:"h-7 w-7",strokeWidth:1.5})}),i.jsx("h3",{className:"font-heading text-base sm:text-lg mb-2 text-foreground",children:e.title}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})]},e.title))})})})},vl="/assets/skin-closeup-EkiTPX_5.jpg",wl="/assets/eco-product-UBrrW5Da.jpg",Rte=()=>{const t=p.useRef(null);return p.useEffect(()=>{const e=t.current,n=new IntersectionObserver(([s])=>{s.isIntersecting&&(e.classList.add("animate-statement-reveal"),n.disconnect())},{threshold:.2});return e&&n.observe(e),()=>n.disconnect()},[]),i.jsx("section",{ref:t,className:"py-16 sm:py-24 opacity-0",children:i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-10",children:i.jsxs("p",{className:`text-center font-serif text-stone-800 leading-snug sm:leading-relaxed
          text-[clamp(2rem,5vw,3.75rem)]`,children:[i.jsx("span",{className:"inline-block mr-1",children:"Refresh your skin,"}),i.jsx("span",{className:`statement-float inline-block relative w-14 h-14 sm:w-20 sm:h-20 lg:w-24 lg:h-24 
          -rotate-6 align-middle mx-1 sm:mx-2`,children:i.jsx("img",{src:vl,alt:"Skin closeup",className:`rounded-2xl object-cover w-full h-full border-2 sm:border-4 
              border-white shadow-[0_10px_30px_rgba(0,0,0,0.2)]`})}),i.jsx("span",{className:"inline-block ml-1",children:"love yourself,"}),i.jsx("br",{className:"sm:hidden"}),i.jsx("span",{className:`statement-float inline-block relative w-14 h-14 sm:w-20 sm:h-20 lg:w-24 lg:h-24 
          rotate-6 align-middle mx-1 sm:mx-2`,children:i.jsx("img",{src:wl,alt:"Eco product",className:`rounded-2xl object-cover w-full h-full border-2 sm:border-4 
              border-white shadow-[0_10px_30px_rgba(0,0,0,0.2)]`})}),i.jsx("br",{className:"hidden lg:block"}),i.jsx("span",{className:"inline-block",children:"renew your glow."}),i.jsx("span",{className:"inline-block text-green-600/60 rotate-12 align-bottom ml-1 sm:ml-2 statement-leaf",children:i.jsx(ll,{className:"w-10 h-10 sm:w-14 sm:h-14 lg:w-16 lg:h-16",strokeWidth:1.2})})]})})})},Cw="/assets/product-3-DpAUL1tm.jpg",Vd="/assets/hero-model-BNR4sO2R.jpg",AC=[{src:mr,alt:"Product 1"},{src:zo,alt:"Product 2"},{src:Cw,alt:"Product 3"},{src:wl,alt:"Eco Product"},{src:vl,alt:"Skin Care"},{src:Vd,alt:"Hero Model"},{src:mr,alt:"Product 7"},{src:zo,alt:"Product 8"},{src:Cw,alt:"Product 9"},{src:wl,alt:"Product 10"},{src:vl,alt:"Product 11"},{src:Vd,alt:"Product 12"},{src:mr,alt:"Product 13"},{src:zo,alt:"Product 14"}],Dte=()=>{const[t,e]=p.useState(!1),[n,s]=p.useState(0),[r,o]=p.useState(AC),a=p.useRef(null);p.useEffect(()=>{const h=()=>e(window.innerWidth<768);return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),p.useEffect(()=>{const h=Ve(ue,"products"),m=bt(h,Fi("status","==","Active"),ff(14)),g=vt(m,y=>{const x=[];if(y.forEach(w=>{var b;const v=w.data(),j=v.image||((b=v.images)==null?void 0:b[0]);j&&j!=="/placeholder.svg"&&x.push({src:j,alt:v.name||"Product"})}),s(y.size),x.length>=6){for(;x.length<14;)x.push(...x.slice(0,14-x.length));o(x.slice(0,14))}else o(AC)},y=>{console.error("Error fetching products for section:",y)});return()=>g()},[]),p.useEffect(()=>{const h=a.current,m=new IntersectionObserver(([g])=>{g.isIntersecting&&h&&(h.classList.add("animate-products-reveal"),m.disconnect())},{threshold:.2});return h&&m.observe(h),()=>m.disconnect()},[]);const l=(h,m,g)=>{const v=(180+180/(m-1)*h)*Math.PI/180;return{x:Math.cos(v)*g,y:Math.sin(v)*g}},c=t?52:96,u=t?200:480,d=n>0?`${n}+`:"1200+";return i.jsx("section",{ref:a,className:"pt-36 sm:pt-56 md:pt-72 section-padding bg-background overflow-hidden opacity-0",children:i.jsx("div",{className:"container-kanva",children:i.jsxs("div",{className:"relative flex items-center justify-center min-h-[420px] sm:min-h-[580px] md:min-h-[720px]",children:[i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:r.map((h,m)=>{const g=l(m,r.length,u),y=g.y+c*.3;return i.jsx("div",{className:`absolute rounded-full overflow-hidden 
                  border-[3px] border-white bg-white shadow-xl
                  animate-float-${m%3} transition-transform duration-700`,style:{width:c,height:c,transform:`translate(${g.x}px, ${y}px)`},children:i.jsx("img",{src:h.src,alt:h.alt,className:"w-full h-full object-cover",loading:"lazy",onError:x=>{x.target.src=mr}})},m)})}),i.jsxs("div",{className:"relative z-10 text-center max-w-xl px-4",children:[i.jsx("span",{className:`inline-block px-4 py-2 rounded-full bg-secondary text-foreground 
            text-xs sm:text-sm font-medium mb-5 sm:mb-7 shadow-sm animate-products-tag`,children:"Stats"}),i.jsxs("h2",{className:"font-heading text-2xl sm:text-4xl md:text-5xl lg:text-6xl text-foreground mb-1 animate-products-title",children:[d," Products Got"]}),i.jsx("h2",{className:"font-heading text-2xl sm:text-4xl md:text-5xl lg:text-6xl text-muted-foreground mb-5 sm:mb-7 animate-products-title delay-150",children:"Sold Last Month"}),i.jsx("p",{className:"text-muted-foreground text-sm sm:text-lg mb-7 sm:mb-9 max-w-md mx-auto animate-products-fade delay-300",children:'"At Skyntales, we believe beauty should feel effortless and empowering."'}),i.jsxs(xe,{to:"/shop",className:`inline-flex items-center gap-2 bg-foreground text-background 
              px-6 sm:px-9 py-3.5 sm:py-4.5 rounded-full font-medium 
              hover:bg-foreground/90 hover:scale-105 transition-all 
              text-xs sm:text-base animate-products-button delay-500`,"data-testid":"link-shop-from-home",children:["Store",i.jsx(zg,{className:"h-4 w-4 sm:h-5 sm:w-5"})]})]})]})})})},Mte=["No Harsh Chemicals","Plant-Based Goodness","Ethically Sourced"],Ote=()=>{const t=p.useRef(null);return p.useEffect(()=>{const e=t.current,n=e==null?void 0:e.querySelectorAll(".eco-item"),s=new IntersectionObserver(([r])=>{r.isIntersecting&&(e.classList.add("animate-eco-reveal"),n.forEach((o,a)=>{o.style.animationDelay=`${a*.15}s`,o.classList.add("animate-eco-item")}),s.disconnect())},{threshold:.2});return e&&s.observe(e),()=>s.disconnect()},[]),i.jsx("section",{ref:t,className:"relative my-8 mt-0 lg:mx-20 opacity-0",children:i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"rounded-2xl overflow-hidden min-h-[70vh] grid grid-cols-1 lg:grid-cols-2",children:[i.jsxs("div",{className:`bg-sage p-7 sm:p-10 md:p-14 lg:p-16 
            flex flex-col justify-center`,children:[i.jsxs("h2",{className:`text-3xl sm:text-4xl md:text-5xl lg:text-display 
            font-heading text-sage-foreground mb-6 leading-tight`,children:[i.jsx("span",{className:"block",children:"Eco-Friendly,"}),i.jsx("span",{className:"block italic",children:"Skin-Friendly"})]}),i.jsx("p",{className:`text-base sm:text-lg text-sage-foreground/85 
            mb-8 leading-relaxed max-w-md`,children:"100% natural means every ingredient is carefully selected from nature to provide safe, effective, and gentle care for your skin."}),i.jsx("div",{className:"space-y-4",children:Mte.map(e=>i.jsxs("div",{className:"eco-item opacity-0 flex items-center gap-3",children:[i.jsx("div",{className:`w-6 h-6 rounded-full bg-sage-foreground/20 
                    flex items-center justify-center shadow-inner`,children:i.jsx(dr,{className:"h-3.5 w-3.5 text-sage-foreground",strokeWidth:2})}),i.jsx("span",{className:"text-sage-foreground font-medium",children:e})]},e))})]}),i.jsx("div",{className:"relative h-[280px] sm:h-[380px] lg:h-auto overflow-hidden",children:i.jsx("img",{src:wl,alt:"Eco-friendly skincare product with natural botanicals",className:"eco-image w-full h-full object-cover"})})]})})})},Lte=()=>{const t=p.useRef(null);return p.useEffect(()=>{const e=t.current,n=e==null?void 0:e.querySelectorAll(".social-card"),s=new IntersectionObserver(([r])=>{r.isIntersecting&&(e.classList.add("animate-social-reveal"),n.forEach((o,a)=>{o.style.animationDelay=`${a*.15}s`,o.classList.add("animate-social-card")}),s.disconnect())},{threshold:.2});return e&&s.observe(e),()=>s.disconnect()},[]),i.jsx("section",{ref:t,className:"lg:mx-20 section-padding bg-background overflow-hidden opacity-0",children:i.jsxs("div",{className:"container-kanva",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-8 mb-12",children:[i.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-display font-heading max-w-lg",children:["Why Your Skin",i.jsx("br",{}),i.jsx("span",{className:"italic",children:"Deserves the Best"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"flex gap-1 justify-end mb-1",children:[...Array(5)].map((e,n)=>i.jsx(Wg,{className:"h-4 w-4 fill-foreground text-foreground"},n))}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"4.7 (1,109 reviews)"})]}),i.jsxs("div",{className:"flex -space-x-3",children:[i.jsx("img",{src:vl,alt:"Customer",className:"w-10 h-10 rounded-full border-2 border-background object-cover"}),i.jsx("img",{src:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100",alt:"Customer",className:"w-10 h-10 rounded-full border-2 border-background object-cover"}),i.jsx("img",{src:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=100",alt:"Customer",className:"w-10 h-10 rounded-full border-2 border-background object-cover"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"social-card relative h-[360px] sm:h-[480px] lg:h-[620px] rounded-3xl overflow-hidden lg:row-span-2 shadow-xl",children:[i.jsx("img",{src:vl,alt:"Proven effectiveness",className:"social-image w-full h-full object-cover"}),i.jsxs("div",{className:"absolute bottom-4 sm:bottom-6 left-4 sm:left-6 bg-background/95 backdrop-blur-sm rounded-2xl p-4 sm:p-5 max-w-[210px] shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Bg,{className:"h-4 w-4 text-sage"}),i.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Proven"})]}),i.jsx("h4",{className:"font-heading text-base sm:text-lg text-foreground mb-1",children:"Effectiveness"}),i.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Every product is carefully crafted to meet the highest quality standards."})]})]}),i.jsx("div",{className:`social-card bg-secondary rounded-3xl p-6 lg:p-8 flex flex-col lg:col-span-2 
          hover:-translate-y-1 hover:shadow-2xl transition-all`,children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(G9,{className:"h-8 w-8 text-sage mb-4",strokeWidth:1.5}),i.jsxs("h3",{className:"text-xl sm:text-2xl md:text-h2 font-heading mb-3",children:["Eco-Friendly",i.jsx("br",{}),i.jsx("span",{className:"italic",children:"Packaging"})]}),i.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Eco-friendly materials designed to care for the planet as much as your skin."})]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{src:zo,alt:"Product",className:"w-24 sm:w-32 md:w-40 h-auto rounded-2xl shadow-md"})})]})}),i.jsx("div",{className:`social-card bg-sage rounded-3xl p-6 lg:p-8 lg:col-span-2 
          hover:-translate-y-1 hover:shadow-2xl transition-all`,children:i.jsx("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("h3",{className:"text-xl sm:text-2xl md:text-h2 font-heading text-sage-foreground mb-2",children:["100% Natural",i.jsx("br",{}),i.jsx("span",{className:"italic",children:"100% You"})]}),i.jsx("div",{className:"space-y-2 mt-4",children:["No Harsh Chemicals","Plant-Based Goodness","Ethically Sourced"].map(e=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(dr,{className:"h-4 w-4 text-sage-foreground/80",strokeWidth:2}),i.jsx("span",{className:"text-sm text-sage-foreground/80",children:e})]},e))})]})})})]})]})})},Vte=()=>i.jsx("section",{className:"py-16 sm:py-24 bg-background",children:i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsx("blockquote",{className:"text-3xl sm:text-4xl md:text-5xl font-serif leading-snug sm:leading-normal md:leading-snug mb-8",children:'"Review after a week of usage... excellent product best for skin care routine...my skin feels really smooth and little bit glow I feel really worth for money.. guys who have dusky skin tone like me go for it"'}),i.jsx("div",{className:"flex justify-center gap-1 mb-4",children:[...Array(5)].map((t,e)=>i.jsx(Wg,{className:"h-5 w-5 fill-foreground text-foreground"},e))}),i.jsxs("div",{children:[i.jsx("p",{className:"font-heading text-lg",children:"Harshini."}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Verified Buyer"})]})]})})}),Qj=()=>{const[t,e]=p.useState(""),[n,s]=p.useState(!1),[r,o]=p.useState(!1),a=p.useRef(null),l=async c=>{if(c.preventDefault(),!!t.trim()){s(!0);try{const u=Ve(ue,"newsletterSubscribers"),d=bt(u,Fi("email","==",t.toLowerCase().trim()));if(!(await Ml(d)).empty){je({title:"Already subscribed",description:"This email is already on our newsletter list."}),s(!1);return}await ai(u,{email:t.toLowerCase().trim(),subscribedAt:Xe(),status:"active"}),o(!0),e(""),je({title:"Welcome aboard!",description:"You've successfully subscribed to our newsletter."})}catch(u){console.error("Error subscribing:",u),je({title:"Subscription failed",description:"Please try again later.",variant:"destructive"})}finally{s(!1)}}};return p.useEffect(()=>{const c=a.current,u=c==null?void 0:c.querySelectorAll(".newsletter-item"),d=new IntersectionObserver(([h])=>{h.isIntersecting&&(c.classList.add("animate-newsletter-reveal"),u.forEach((m,g)=>{m.style.animationDelay=`${g*.15}s`,m.classList.add("animate-newsletter-item")}),d.disconnect())},{threshold:.25});return c&&d.observe(c),()=>d.disconnect()},[]),i.jsx("section",{ref:a,className:"px-4 sm:px-6 lg:px-8 pb-16 sm:pb-24 overflow-hidden opacity-0",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:`bg-sage rounded-3xl overflow-hidden relative 
          shadow-2xl border border-sage-foreground/10`,children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-0 items-center",children:[i.jsxs("div",{className:"p-7 sm:p-10 md:p-14 lg:p-16",children:[i.jsx("h2",{className:"newsletter-item text-3xl sm:text-4xl md:text-5xl font-heading text-cream mb-2 opacity-0",children:"Stay Updated,"}),i.jsx("h2",{className:"newsletter-item text-3xl sm:text-4xl md:text-5xl font-heading text-cream/80 italic mb-6 opacity-0",children:"Stay Radiant"}),i.jsx("p",{className:"newsletter-item text-cream/75 mb-8 max-w-sm text-sm sm:text-base opacity-0",children:"Be the first to know about new products, exclusive offers, and expert skincare tips delivered straight to your inbox."}),r?i.jsx("div",{className:"newsletter-item flex items-center gap-3 max-w-md opacity-0",children:i.jsxs("div",{className:"flex items-center gap-2 px-5 py-3 bg-cream/95 rounded-full",children:[i.jsx(dr,{className:"w-5 h-5 text-green-600"}),i.jsx("span",{className:"text-foreground font-medium",children:"You're subscribed!"})]})}):i.jsxs("form",{onSubmit:l,className:"newsletter-item flex flex-col sm:flex-row gap-3 max-w-md opacity-0",children:[i.jsx("input",{type:"email",value:t,onChange:c=>e(c.target.value),placeholder:"Your Email",required:!0,disabled:n,className:`flex-1 px-5 py-3 rounded-full 
                    bg-cream/95 text-foreground placeholder:text-muted-foreground 
                    focus:outline-none focus:ring-2 focus:ring-cream/70
                    disabled:opacity-50 disabled:cursor-not-allowed`}),i.jsx("button",{type:"submit",disabled:n,className:`px-7 py-3 bg-foreground text-background 
                    rounded-full font-medium 
                    hover:bg-foreground/90 hover:scale-105 
                    transition-all disabled:opacity-50 disabled:cursor-not-allowed
                    flex items-center justify-center gap-2`,children:n?i.jsxs(i.Fragment,{children:[i.jsx(De,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{children:"Subscribing..."})]}):"Subscribe"})]})]}),i.jsx("div",{className:"newsletter-image hidden lg:flex items-end justify-end relative pr-10 pb-6",children:i.jsx("img",{src:wl,alt:"Product",className:"w-80 h-auto object-contain drop-shadow-2xl"})})]}),i.jsx("div",{className:"absolute inset-0 pointer-events-none bg-gradient-to-tr from-cream/10 via-transparent to-cream/10"})]})})})},Fte=()=>{var r;const t=p.useRef(null),[e,n]=p.useState([]);if(p.useEffect(()=>{const o=bt(Ve(ue,"instagramPosts"),hs("order","asc")),a=vt(o,l=>{const c=[];l.forEach(u=>{c.push({id:u.id,...u.data()})}),n(c)});return()=>a()},[]),p.useEffect(()=>{const o=t.current,a=new IntersectionObserver(([l])=>{l.isIntersecting&&o&&(o.classList.add("animate-instagram-reveal"),a.disconnect())},{threshold:.3});return o&&a.observe(o),()=>a.disconnect()},[]),e.length===0)return null;const s=[...e,...e];return i.jsxs("section",{ref:t,className:"section-padding-sm bg-background overflow-hidden opacity-1",children:[i.jsx("div",{className:"text-center mb-8 sm:mb-12 px-4",children:i.jsxs("h2",{className:`text-2xl sm:text-3xl md:text-h1 font-heading 
        inline-flex items-center gap-3 sm:gap-4 flex-wrap justify-center`,children:["Follow On",i.jsx("span",{className:`w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 
          rounded-xl overflow-hidden inline-block shadow-kanva-md`,children:i.jsx("img",{src:((r=e[0])==null?void 0:r.imageUrl)||vl,alt:"Instagram",className:"w-full h-full object-cover"})}),i.jsx("span",{className:"italic",children:"Instagram"})]})}),i.jsx("div",{className:"relative w-full overflow-hidden",children:i.jsx("div",{className:"instagram-marquee flex",children:s.map((o,a)=>i.jsxs("a",{href:o.postUrl,target:"_blank",rel:"noopener noreferrer",className:`group relative flex-shrink-0 
              w-40 h-56 sm:w-52 sm:h-72 md:w-64 md:h-80 
              mx-2 sm:mx-3 overflow-hidden rounded-2xl shadow-xl`,children:[i.jsx("img",{src:o.imageUrl,alt:`Instagram ${a+1}`,className:`w-full h-full object-cover 
                transition-transform duration-700 group-hover:scale-110`}),i.jsx("div",{className:`absolute inset-0 bg-black/10 opacity-0 
                group-hover:opacity-100 transition-opacity flex 
                items-center justify-center`,children:i.jsx("span",{className:`text-white text-xs sm:text-sm font-medium 
                  bg-black/50 px-4 py-2 rounded-full backdrop-blur`,children:"View Post"})})]},`${o.id}-${a}`))})})]})},Xj=p.createContext({});function Jj(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const Zj=typeof window<"u",sO=Zj?p.useLayoutEffect:p.useEffect,Lx=p.createContext(null);function eN(t,e){t.indexOf(e)===-1&&t.push(e)}function tN(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ui=(t,e,n)=>n>e?e:n<t?t:n;let nN=()=>{};const $i={},rO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function iO(t){return typeof t=="object"&&t!==null}const oO=t=>/^0[^.\s]+$/u.test(t);function sN(t){let e;return()=>(e===void 0&&(e=t()),e)}const zs=t=>t,Ute=(t,e)=>n=>e(t(n)),_f=(...t)=>t.reduce(Ute),Ih=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class rN{constructor(){this.subscriptions=[]}add(e){return eN(this.subscriptions,e),()=>tN(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let o=0;o<r;o++){const a=this.subscriptions[o];a&&a(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Jr=t=>t*1e3,Fs=t=>t/1e3;function aO(t,e){return e?t*(1e3/e):0}const lO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$te=1e-7,zte=12;function Bte(t,e,n,s,r){let o,a,l=0;do a=e+(n-e)/2,o=lO(a,s,r)-t,o>0?n=a:e=a;while(Math.abs(o)>$te&&++l<zte);return a}function Sf(t,e,n,s){if(t===e&&n===s)return zs;const r=o=>Bte(o,0,1,t,n);return o=>o===0||o===1?o:lO(r(o),e,s)}const cO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,uO=t=>e=>1-t(1-e),dO=Sf(.33,1.53,.69,.99),iN=uO(dO),hO=cO(iN),fO=t=>(t*=2)<1?.5*iN(t):.5*(2-Math.pow(2,-10*(t-1))),oN=t=>1-Math.sin(Math.acos(t)),mO=uO(oN),pO=cO(oN),Wte=Sf(.42,0,1,1),Hte=Sf(0,0,.58,1),gO=Sf(.42,0,.58,1),qte=t=>Array.isArray(t)&&typeof t[0]!="number",xO=t=>Array.isArray(t)&&typeof t[0]=="number",Gte={linear:zs,easeIn:Wte,easeInOut:gO,easeOut:Hte,circIn:oN,circInOut:pO,circOut:mO,backIn:iN,backInOut:hO,backOut:dO,anticipate:fO},Kte=t=>typeof t=="string",PC=t=>{if(xO(t)){nN(t.length===4);const[e,n,s,r]=t;return Sf(e,n,s,r)}else if(Kte(t))return Gte[t];return t},Nm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Yte(t,e){let n=new Set,s=new Set,r=!1,o=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(u.schedule(d),t()),d(l)}const u={schedule:(d,h=!1,m=!1)=>{const y=m&&r?n:s;return h&&a.add(d),y.has(d)||y.add(d),d},cancel:d=>{s.delete(d),a.delete(d)},process:d=>{if(l=d,r){o=!0;return}r=!0,[n,s]=[s,n],n.forEach(c),n.clear(),r=!1,o&&(o=!1,u.process(d))}};return u}const Qte=40;function yO(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=Nm.reduce((b,C)=>(b[C]=Yte(o),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:m,render:g,postRender:y}=a,x=()=>{const b=$i.useManualTiming?r.timestamp:performance.now();n=!1,$i.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(b-r.timestamp,Qte),1)),r.timestamp=b,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),m.process(r),g.process(r),y.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(x))},w=()=>{n=!0,s=!0,r.isProcessing||t(x)};return{schedule:Nm.reduce((b,C)=>{const k=a[C];return b[C]=(I,_=!1,S=!1)=>(n||w(),k.schedule(I,_,S)),b},{}),cancel:b=>{for(let C=0;C<Nm.length;C++)a[Nm[C]].cancel(b)},state:r,steps:a}}const{schedule:_t,cancel:ia,state:gn,steps:bv}=yO(typeof requestAnimationFrame<"u"?requestAnimationFrame:zs,!0);let tp;function Xte(){tp=void 0}const as={now:()=>(tp===void 0&&as.set(gn.isProcessing||$i.useManualTiming?gn.timestamp:performance.now()),tp),set:t=>{tp=t,queueMicrotask(Xte)}},vO=t=>e=>typeof e=="string"&&e.startsWith(t),aN=vO("--"),Jte=vO("var(--"),lN=t=>Jte(t)?Zte.test(t.split("/*")[0].trim()):!1,Zte=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},kh={...Cu,transform:t=>Ui(0,1,t)},_m={...Cu,default:1},Fd=t=>Math.round(t*1e5)/1e5,cN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ene(t){return t==null}const tne=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uN=(t,e)=>n=>!!(typeof n=="string"&&tne.test(n)&&n.startsWith(t)||e&&!ene(n)&&Object.prototype.hasOwnProperty.call(n,e)),wO=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,o,a,l]=s.match(cN);return{[t]:parseFloat(r),[e]:parseFloat(o),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},nne=t=>Ui(0,255,t),jv={...Cu,transform:t=>Math.round(nne(t))},Ua={test:uN("rgb","red"),parse:wO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+jv.transform(t)+", "+jv.transform(e)+", "+jv.transform(n)+", "+Fd(kh.transform(s))+")"};function sne(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Aw={test:uN("#"),parse:sne,transform:Ua.transform},Ef=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ho=Ef("deg"),Zr=Ef("%"),Pe=Ef("px"),rne=Ef("vh"),ine=Ef("vw"),IC={...Zr,parse:t=>Zr.parse(t)/100,transform:t=>Zr.transform(t*100)},mc={test:uN("hsl","hue"),parse:wO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Zr.transform(Fd(e))+", "+Zr.transform(Fd(n))+", "+Fd(kh.transform(s))+")"},Gt={test:t=>Ua.test(t)||Aw.test(t)||mc.test(t),parse:t=>Ua.test(t)?Ua.parse(t):mc.test(t)?mc.parse(t):Aw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ua.transform(t):mc.transform(t),getAnimatableNone:t=>{const e=Gt.parse(t);return e.alpha=0,Gt.transform(e)}},one=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ane(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(cN))==null?void 0:e.length)||0)+(((n=t.match(one))==null?void 0:n.length)||0)>0}const bO="number",jO="color",lne="var",cne="var(",kC="${}",une=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rh(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let o=0;const l=e.replace(une,c=>(Gt.test(c)?(s.color.push(o),r.push(jO),n.push(Gt.parse(c))):c.startsWith(cne)?(s.var.push(o),r.push(lne),n.push(c)):(s.number.push(o),r.push(bO),n.push(parseFloat(c))),++o,kC)).split(kC);return{values:n,split:l,indexes:s,types:r}}function NO(t){return Rh(t).values}function _O(t){const{split:e,types:n}=Rh(t),s=e.length;return r=>{let o="";for(let a=0;a<s;a++)if(o+=e[a],r[a]!==void 0){const l=n[a];l===bO?o+=Fd(r[a]):l===jO?o+=Gt.transform(r[a]):o+=r[a]}return o}}const dne=t=>typeof t=="number"?0:Gt.test(t)?Gt.getAnimatableNone(t):t;function hne(t){const e=NO(t);return _O(t)(e.map(dne))}const oa={test:ane,parse:NO,createTransformer:_O,getAnimatableNone:hne};function Nv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function fne({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,o=0,a=0;if(!e)r=o=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=Nv(c,l,t+1/3),o=Nv(c,l,t),a=Nv(c,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:s}}function hg(t,e){return n=>n>0?e:t}const At=(t,e,n)=>t+(e-t)*n,_v=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},mne=[Aw,Ua,mc],pne=t=>mne.find(e=>e.test(t));function RC(t){const e=pne(t);if(!e)return!1;let n=e.parse(t);return e===mc&&(n=fne(n)),n}const DC=(t,e)=>{const n=RC(t),s=RC(e);if(!n||!s)return hg(t,e);const r={...n};return o=>(r.red=_v(n.red,s.red,o),r.green=_v(n.green,s.green,o),r.blue=_v(n.blue,s.blue,o),r.alpha=At(n.alpha,s.alpha,o),Ua.transform(r))},Pw=new Set(["none","hidden"]);function gne(t,e){return Pw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function xne(t,e){return n=>At(t,e,n)}function dN(t){return typeof t=="number"?xne:typeof t=="string"?lN(t)?hg:Gt.test(t)?DC:wne:Array.isArray(t)?SO:typeof t=="object"?Gt.test(t)?DC:yne:hg}function SO(t,e){const n=[...t],s=n.length,r=t.map((o,a)=>dN(o)(o,e[a]));return o=>{for(let a=0;a<s;a++)n[a]=r[a](o);return n}}function yne(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=dN(t[r])(t[r],e[r]));return r=>{for(const o in s)n[o]=s[o](r);return n}}function vne(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],a=t.indexes[o][s[o]],l=t.values[a]??0;n[r]=l,s[o]++}return n}const wne=(t,e)=>{const n=oa.createTransformer(e),s=Rh(t),r=Rh(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?Pw.has(t)&&!r.values.length||Pw.has(e)&&!s.values.length?gne(t,e):_f(SO(vne(s,r),r.values),n):hg(t,e)};function EO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?At(t,e,n):dN(t)(t,e)}const bne=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>_t.update(e,n),stop:()=>ia(e),now:()=>gn.isProcessing?gn.timestamp:as.now()}},TO=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let o=0;o<r;o++)s+=Math.round(t(o/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},fg=2e4;function hN(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<fg;)e+=n,s=t.next(e);return e>=fg?1/0:e}function jne(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(hN(s),fg);return{type:"keyframes",ease:o=>s.next(r*o).value/e,duration:Fs(r)}}const Nne=5;function CO(t,e,n){const s=Math.max(e-Nne,0);return aO(n-t(s),e-s)}const Lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sv=.001;function _ne({duration:t=Lt.duration,bounce:e=Lt.bounce,velocity:n=Lt.velocity,mass:s=Lt.mass}){let r,o,a=1-e;a=Ui(Lt.minDamping,Lt.maxDamping,a),t=Ui(Lt.minDuration,Lt.maxDuration,Fs(t)),a<1?(r=u=>{const d=u*a,h=d*t,m=d-n,g=Iw(u,a),y=Math.exp(-h);return Sv-m/g*y},o=u=>{const h=u*a*t,m=h*n+n,g=Math.pow(a,2)*Math.pow(u,2)*t,y=Math.exp(-h),x=Iw(Math.pow(u,2),a);return(-r(u)+Sv>0?-1:1)*((m-g)*y)/x}):(r=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Sv+d*h},o=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const l=5/t,c=Ene(r,o,l);if(t=Jr(t),isNaN(c))return{stiffness:Lt.stiffness,damping:Lt.damping,duration:t};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:a*2*Math.sqrt(s*u),duration:t}}}const Sne=12;function Ene(t,e,n){let s=n;for(let r=1;r<Sne;r++)s=s-t(s)/e(s);return s}function Iw(t,e){return t*Math.sqrt(1-e*e)}const Tne=["duration","bounce"],Cne=["stiffness","damping","mass"];function MC(t,e){return e.some(n=>t[n]!==void 0)}function Ane(t){let e={velocity:Lt.velocity,stiffness:Lt.stiffness,damping:Lt.damping,mass:Lt.mass,isResolvedFromDuration:!1,...t};if(!MC(t,Cne)&&MC(t,Tne))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,o=2*Ui(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Lt.mass,stiffness:r,damping:o}}else{const n=_ne(t);e={...e,...n,mass:Lt.mass},e.isResolvedFromDuration=!0}return e}function mg(t=Lt.visualDuration,e=Lt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:u,mass:d,duration:h,velocity:m,isResolvedFromDuration:g}=Ane({...n,velocity:-Fs(n.velocity||0)}),y=m||0,x=u/(2*Math.sqrt(c*d)),w=a-o,v=Fs(Math.sqrt(c/d)),j=Math.abs(w)<5;s||(s=j?Lt.restSpeed.granular:Lt.restSpeed.default),r||(r=j?Lt.restDelta.granular:Lt.restDelta.default);let b;if(x<1){const k=Iw(v,x);b=I=>{const _=Math.exp(-x*v*I);return a-_*((y+x*v*w)/k*Math.sin(k*I)+w*Math.cos(k*I))}}else if(x===1)b=k=>a-Math.exp(-v*k)*(w+(y+v*w)*k);else{const k=v*Math.sqrt(x*x-1);b=I=>{const _=Math.exp(-x*v*I),S=Math.min(k*I,300);return a-_*((y+x*v*w)*Math.sinh(S)+k*w*Math.cosh(S))/k}}const C={calculatedDuration:g&&h||null,next:k=>{const I=b(k);if(g)l.done=k>=h;else{let _=k===0?y:0;x<1&&(_=k===0?Jr(y):CO(b,k,I));const S=Math.abs(_)<=s,T=Math.abs(a-I)<=r;l.done=S&&T}return l.value=l.done?a:I,l},toString:()=>{const k=Math.min(hN(C),fg),I=TO(_=>C.next(k*_).value,k,30);return k+"ms "+I},toTransition:()=>{}};return C}mg.applyToOptions=t=>{const e=jne(t,100,mg);return t.ease=e.ease,t.duration=Jr(e.duration),t.type="keyframes",t};function kw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},g=S=>l!==void 0&&S<l||c!==void 0&&S>c,y=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let x=n*e;const w=h+x,v=a===void 0?w:a(w);v!==w&&(x=v-h);const j=S=>-x*Math.exp(-S/s),b=S=>v+j(S),C=S=>{const T=j(S),E=b(S);m.done=Math.abs(T)<=u,m.value=m.done?v:E};let k,I;const _=S=>{g(m.value)&&(k=S,I=mg({keyframes:[m.value,y(m.value)],velocity:CO(b,S,m.value),damping:r,stiffness:o,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:S=>{let T=!1;return!I&&k===void 0&&(T=!0,C(S),_(S)),k!==void 0&&S>=k?I.next(S-k):(!T&&C(S),m)}}}function Pne(t,e,n){const s=[],r=n||$i.mix||EO,o=t.length-1;for(let a=0;a<o;a++){let l=r(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||zs:e;l=_f(c,l)}s.push(l)}return s}function Ine(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const o=t.length;if(nN(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Pne(e,s,r),c=l.length,u=d=>{if(a&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const m=Ih(t[h],t[h+1],d);return l[h](m)};return n?d=>u(Ui(t[0],t[o-1],d)):u}function kne(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=Ih(0,e,s);t.push(At(n,1,r))}}function Rne(t){const e=[0];return kne(e,t.length-1),e}function Dne(t,e){return t.map(n=>n*e)}function Mne(t,e){return t.map(()=>e||gO).splice(0,t.length-1)}function Ud({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=qte(s)?s.map(PC):PC(s),o={done:!1,value:e[0]},a=Dne(n&&n.length===e.length?n:Rne(e),t),l=Ine(a,e,{ease:Array.isArray(r)?r:Mne(e,r)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}const One=t=>t!==null;function fN(t,{repeat:e,repeatType:n="loop"},s,r=1){const o=t.filter(One),l=r<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!l||s===void 0?o[l]:s}const Lne={decay:kw,inertia:kw,tween:Ud,keyframes:Ud,spring:mg};function AO(t){typeof t.type=="string"&&(t.type=Lne[t.type])}class mN{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Vne=t=>t/100;class pN extends mN{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==as.now()&&this.tick(as.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;AO(e);const{type:n=Ud,repeat:s=0,repeatDelay:r=0,repeatType:o,velocity:a=0}=e;let{keyframes:l}=e;const c=n||Ud;c!==Ud&&typeof l[0]!="number"&&(this.mixKeyframes=_f(Vne,EO(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=hN(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:m,repeatDelay:g,type:y,onUpdate:x,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?v<0:v>r;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let b=this.currentTime,C=s;if(h){const S=Math.min(this.currentTime,r)/l;let T=Math.floor(S),E=S%1;!E&&S>=1&&(E=1),E===1&&T--,T=Math.min(T,h+1),!!(T%2)&&(m==="reverse"?(E=1-E,g&&(E-=g/l)):m==="mirror"&&(C=a)),b=Ui(0,1,E)*l}const k=j?{done:!1,value:d[0]}:C.next(b);o&&(k.value=o(k.value));let{done:I}=k;!j&&c!==null&&(I=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return _&&y!==kw&&(k.value=fN(d,this.options,w,this.speed)),x&&x(k.value),_&&this.finish(),k}then(e,n){return this.finished.then(e,n)}get duration(){return Fs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Fs(e)}get time(){return Fs(this.currentTime)}set time(e){var n;e=Jr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(as.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Fs(this.currentTime))}play(){var r,o;if(this.isStopped)return;const{driver:e=bne,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(o=(r=this.options).onPlay)==null||o.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(as.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Fne(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const $a=t=>t*180/Math.PI,Rw=t=>{const e=$a(Math.atan2(t[1],t[0]));return Dw(e)},Une={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Rw,rotateZ:Rw,skewX:t=>$a(Math.atan(t[1])),skewY:t=>$a(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Dw=t=>(t=t%360,t<0&&(t+=360),t),OC=Rw,LC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),VC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),$ne={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:LC,scaleY:VC,scale:t=>(LC(t)+VC(t))/2,rotateX:t=>Dw($a(Math.atan2(t[6],t[5]))),rotateY:t=>Dw($a(Math.atan2(-t[2],t[0]))),rotateZ:OC,rotate:OC,skewX:t=>$a(Math.atan(t[4])),skewY:t=>$a(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Mw(t){return t.includes("scale")?1:0}function Ow(t,e){if(!t||t==="none")return Mw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=$ne,r=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Une,r=l}if(!r)return Mw(e);const o=s[e],a=r[1].split(",").map(Bne);return typeof o=="function"?o(a):a[o]}const zne=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ow(n,e)};function Bne(t){return parseFloat(t.trim())}const Au=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pu=new Set(Au),FC=t=>t===Cu||t===Pe,Wne=new Set(["x","y","z"]),Hne=Au.filter(t=>!Wne.has(t));function qne(t){const e=[];return Hne.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const tl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ow(e,"x"),y:(t,{transform:e})=>Ow(e,"y")};tl.translateX=tl.x;tl.translateY=tl.y;const nl=new Set;let Lw=!1,Vw=!1,Fw=!1;function PO(){if(Vw){const t=Array.from(nl).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=qne(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([o,a])=>{var l;(l=s.getValue(o))==null||l.set(a)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Vw=!1,Lw=!1,nl.forEach(t=>t.complete(Fw)),nl.clear()}function IO(){nl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Vw=!0)})}function Gne(){Fw=!0,IO(),PO(),Fw=!1}class gN{constructor(e,n,s,r,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(nl.add(this),Lw||(Lw=!0,_t.read(IO),_t.resolveKeyframes(PO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&n){const l=s.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}Fne(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),nl.delete(this)}cancel(){this.state==="scheduled"&&(nl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Kne=t=>t.startsWith("--");function Yne(t,e,n){Kne(e)?t.style.setProperty(e,n):t.style[e]=n}const Qne=sN(()=>window.ScrollTimeline!==void 0),Xne={};function Jne(t,e){const n=sN(t);return()=>Xne[e]??n()}const kO=Jne(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gd=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,UC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gd([0,.65,.55,1]),circOut:gd([.55,0,1,.45]),backIn:gd([.31,.01,.66,-.59]),backOut:gd([.33,1.53,.69,.99])};function RO(t,e){if(t)return typeof t=="function"?kO()?TO(t,e):"ease-out":xO(t)?gd(t):Array.isArray(t)?t.map(n=>RO(n,e)||UC.easeOut):UC[t]}function Zne(t,e,n,{delay:s=0,duration:r=300,repeat:o=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:n};c&&(d.offset=c);const h=RO(l,r);Array.isArray(h)&&(d.easing=h);const m={delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),t.animate(d,m)}function DO(t){return typeof t=="function"&&"applyToOptions"in t}function ese({type:t,...e}){return DO(t)&&kO()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class tse extends mN{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,nN(typeof e.type!="string");const u=ese(e);this.animation=Zne(n,s,r,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=fN(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):Yne(n,s,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Fs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Fs(e)}get time(){return Fs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Jr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Qne()?(this.animation.timeline=e,zs):n(this)}}const MO={anticipate:fO,backInOut:hO,circInOut:pO};function nse(t){return t in MO}function sse(t){typeof t.ease=="string"&&nse(t.ease)&&(t.ease=MO[t.ease])}const $C=10;class rse extends tse{constructor(e){sse(e),AO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new pN({...a,autoplay:!1}),c=Jr(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-$C).value,l.sample(c).value,$C),l.stop()}}const zC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(oa.test(t)||t==="0")&&!t.startsWith("url("));function ise(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ose(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=zC(r,e),l=zC(o,e);return!a||!l?!1:ise(t)||(n==="spring"||DO(n))&&s}function Uw(t){t.duration=0,t.type="keyframes"}const ase=new Set(["opacity","clipPath","filter","transform"]),lse=sN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cse(t){var d;const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:o,type:a}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return lse()&&n&&ase.has(n)&&(n!=="transform"||!u)&&!c&&!s&&r!=="mirror"&&o!==0&&a!=="inertia"}const use=40;class dse extends mN{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var y;super(),this.stop=()=>{var x,w;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=as.now();const m={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:o,repeatType:a,name:c,motionValue:u,element:d,...h},g=(d==null?void 0:d.KeyframeResolver)||gN;this.keyframeResolver=new g(l,(x,w,v)=>this.onKeyframesResolved(x,w,m,!v),c,u,d),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:o,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=s;this.resolvedAt=as.now(),ose(e,o,a,l)||(($i.instantAnimations||!c)&&(d==null||d(fN(e,s,n))),e[0]=e[e.length-1],Uw(s),s.repeat=0);const m={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>use?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},g=!u&&cse(m)?new rse({...m,element:m.motionValue.owner.current}):new pN(m);g.finished.then(()=>this.notifyFinished()).catch(zs),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Gne()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const hse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fse(t){const e=hse.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function OO(t,e,n=1){const[s,r]=fse(t);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const a=o.trim();return rO(a)?parseFloat(a):a}return lN(r)?OO(r,e,n+1):r}function xN(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const LO=new Set(["width","height","top","left","right","bottom",...Au]),mse={test:t=>t==="auto",parse:t=>t},VO=t=>e=>e.test(t),FO=[Cu,Pe,Zr,ho,ine,rne,mse],BC=t=>FO.find(VO(t));function pse(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oO(t):!0}const gse=new Set(["brightness","contrast","saturate","opacity"]);function xse(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(cN)||[];if(!s)return t;const r=n.replace(s,"");let o=gse.has(e)?1:0;return s!==n&&(o*=100),e+"("+o+r+")"}const yse=/\b([a-z-]*)\(.*?\)/gu,$w={...oa,getAnimatableNone:t=>{const e=t.match(yse);return e?e.map(xse).join(" "):t}},WC={...Cu,transform:Math.round},vse={rotate:ho,rotateX:ho,rotateY:ho,rotateZ:ho,scale:_m,scaleX:_m,scaleY:_m,scaleZ:_m,skew:ho,skewX:ho,skewY:ho,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:kh,originX:IC,originY:IC,originZ:Pe},yN={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...vse,zIndex:WC,fillOpacity:kh,strokeOpacity:kh,numOctaves:WC},wse={...yN,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:$w,WebkitFilter:$w},UO=t=>wse[t];function $O(t,e){let n=UO(t);return n!==$w&&(n=oa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const bse=new Set(["auto","none","0"]);function jse(t,e,n){let s=0,r;for(;s<t.length&&!r;){const o=t[s];typeof o=="string"&&!bse.has(o)&&Rh(o).values.length&&(r=t[s]),s++}if(r&&n)for(const o of e)t[o]=$O(n,r)}class Nse extends gN{constructor(e,n,s,r,o){super(e,n,s,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),lN(u))){const d=OO(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!LO.has(s)||e.length!==2)return;const[r,o]=e,a=BC(r),l=BC(o);if(a!==l)if(FC(a)&&FC(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else tl[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||pse(e[r]))&&s.push(r);s.length&&jse(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tl[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=tl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function _se(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const r=(n==null?void 0:n[t])??s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const zO=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function BO(t){return iO(t)&&"offsetHeight"in t}const HC=30,Sse=t=>!isNaN(parseFloat(t));class Ese{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var o;const r=as.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=as.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Sse(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new rN);const s=this.events[e].add(n);return e==="change"?()=>{s(),_t.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=as.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>HC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,HC);return aO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lu(t,e){return new Ese(t,e)}const{schedule:vN}=yO(queueMicrotask,!1),nr={x:!1,y:!1};function WO(){return nr.x||nr.y}function Tse(t){return t==="x"||t==="y"?nr[t]?null:(nr[t]=!0,()=>{nr[t]=!1}):nr.x||nr.y?null:(nr.x=nr.y=!0,()=>{nr.x=nr.y=!1})}function HO(t,e){const n=_se(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function qC(t){return!(t.pointerType==="touch"||WO())}function Cse(t,e,n={}){const[s,r,o]=HO(t,n),a=l=>{if(!qC(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=h=>{qC(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,r)};return s.forEach(l=>{l.addEventListener("pointerenter",a,r)}),o}const qO=(t,e)=>e?t===e?!0:qO(t,e.parentElement):!1,wN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Ase=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Pse(t){return Ase.has(t.tagName)||t.tabIndex!==-1}const np=new WeakSet;function GC(t){return e=>{e.key==="Enter"&&t(e)}}function Ev(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ise=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=GC(()=>{if(np.has(n))return;Ev(n,"down");const r=GC(()=>{Ev(n,"up")}),o=()=>Ev(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function KC(t){return wN(t)&&!WO()}function kse(t,e,n={}){const[s,r,o]=HO(t,n),a=l=>{const c=l.currentTarget;if(!KC(l))return;np.add(c);const u=e(c,l),d=(g,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),np.has(c)&&np.delete(c),KC(g)&&typeof u=="function"&&u(g,{success:y})},h=g=>{d(g,c===window||c===document||n.useGlobalTarget||qO(c,g.target))},m=g=>{d(g,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",m,r)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,r),BO(l)&&(l.addEventListener("focus",u=>Ise(u,r)),!Pse(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function GO(t){return iO(t)&&"ownerSVGElement"in t}function Rse(t){return GO(t)&&t.tagName==="svg"}const On=t=>!!(t&&t.getVelocity),Dse=[...FO,Gt,oa],Mse=t=>Dse.find(VO(t)),bN=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function YC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ose(...t){return e=>{let n=!1;const s=t.map(r=>{const o=YC(r,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let r=0;r<s.length;r++){const o=s[r];typeof o=="function"?o():YC(t[r],null)}}}}function Lse(...t){return p.useCallback(Ose(...t),t)}class Vse extends p.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=BO(s)&&s.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=r-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Fse({children:t,isPresent:e,anchorX:n,root:s}){const r=p.useId(),o=p.useRef(null),a=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=p.useContext(bN),c=Lse(o,t==null?void 0:t.ref);return p.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:m,right:g}=a.current;if(e||!o.current||!u||!d)return;const y=n==="left"?`left: ${m}`:`right: ${g}`;o.current.dataset.motionPopId=r;const x=document.createElement("style");l&&(x.nonce=l);const w=s??document.head;return w.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{w.contains(x)&&w.removeChild(x)}},[e]),i.jsx(Vse,{isPresent:e,childRef:o,sizeRef:a,children:p.cloneElement(t,{ref:c})})}const Use=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:o,mode:a,anchorX:l,root:c})=>{const u=Jj($se),d=p.useId();let h=!0,m=p.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:r,onExitComplete:g=>{u.set(g,!0);for(const y of u.values())if(!y)return;s&&s()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[n,u,s]);return o&&h&&(m={...m}),p.useMemo(()=>{u.forEach((g,y)=>u.set(y,!1))},[n]),p.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),a==="popLayout"&&(t=i.jsx(Fse,{isPresent:n,anchorX:l,root:c,children:t})),i.jsx(Lx.Provider,{value:m,children:t})};function $se(){return new Map}function KO(t=!0){const e=p.useContext(Lx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,o=p.useId();p.useEffect(()=>{if(t)return r(o)},[t]);const a=p.useCallback(()=>t&&s&&s(o),[o,s,t]);return!n&&s?[!1,a]:[!0]}const Sm=t=>t.key||"";function QC(t){const e=[];return p.Children.forEach(t,n=>{p.isValidElement(n)&&e.push(n)}),e}const zse=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:o="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=KO(a),h=p.useMemo(()=>QC(t),[t]),m=a&&!u?[]:h.map(Sm),g=p.useRef(!0),y=p.useRef(h),x=Jj(()=>new Map),[w,v]=p.useState(h),[j,b]=p.useState(h);sO(()=>{g.current=!1,y.current=h;for(let I=0;I<j.length;I++){const _=Sm(j[I]);m.includes(_)?x.delete(_):x.get(_)!==!0&&x.set(_,!1)}},[j,m.length,m.join("-")]);const C=[];if(h!==w){let I=[...h];for(let _=0;_<j.length;_++){const S=j[_],T=Sm(S);m.includes(T)||(I.splice(_,0,S),C.push(S))}return o==="wait"&&C.length&&(I=C),b(QC(I)),v(h),null}const{forceRender:k}=p.useContext(Xj);return i.jsx(i.Fragment,{children:j.map(I=>{const _=Sm(I),S=a&&!u?!1:h===j||m.includes(_),T=()=>{if(x.has(_))x.set(_,!0);else return;let E=!0;x.forEach(P=>{P||(E=!1)}),E&&(k==null||k(),b(y.current),a&&(d==null||d()),s&&s())};return i.jsx(Use,{isPresent:S,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:o,root:c,onExitComplete:S?void 0:T,anchorX:l,children:I},_)})})},YO=p.createContext({strict:!1}),XC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cu={};for(const t in XC)cu[t]={isEnabled:e=>XC[t].some(n=>!!e[n])};function Bse(t){for(const e in t)cu[e]={...cu[e],...t[e]}}const Wse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Wse.has(t)}let QO=t=>!pg(t);function Hse(t){typeof t=="function"&&(QO=e=>e.startsWith("on")?!pg(e):t(e))}try{Hse(require("@emotion/is-prop-valid").default)}catch{}function qse(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(QO(r)||n===!0&&pg(r)||!e&&!pg(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}const Vx=p.createContext({});function Fx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Dh(t){return typeof t=="string"||Array.isArray(t)}const jN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],NN=["initial",...jN];function Ux(t){return Fx(t.animate)||NN.some(e=>Dh(t[e]))}function XO(t){return!!(Ux(t)||t.variants)}function Gse(t,e){if(Ux(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Dh(n)?n:void 0,animate:Dh(s)?s:void 0}}return t.inherit!==!1?e:{}}function Kse(t){const{initial:e,animate:n}=Gse(t,p.useContext(Vx));return p.useMemo(()=>({initial:e,animate:n}),[JC(e),JC(n)])}function JC(t){return Array.isArray(t)?t.join(" "):t}const Mh={};function Yse(t){for(const e in t)Mh[e]=t[e],aN(e)&&(Mh[e].isCSSVariable=!0)}function JO(t,{layout:e,layoutId:n}){return Pu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Mh[t]||t==="opacity")}const Qse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xse=Au.length;function Jse(t,e,n){let s="",r=!0;for(let o=0;o<Xse;o++){const a=Au[o],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=zO(l,yN[a]);if(!c){r=!1;const d=Qse[a]||a;s+=`${d}(${u}) `}n&&(e[a]=u)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function _N(t,e,n){const{style:s,vars:r,transformOrigin:o}=t;let a=!1,l=!1;for(const c in e){const u=e[c];if(Pu.has(c)){a=!0;continue}else if(aN(c)){r[c]=u;continue}else{const d=zO(u,yN[c]);c.startsWith("origin")?(l=!0,o[c]=d):s[c]=d}}if(e.transform||(a||n?s.transform=Jse(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=o;s.transformOrigin=`${c} ${u} ${d}`}}const SN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZO(t,e,n){for(const s in e)!On(e[s])&&!JO(s,n)&&(t[s]=e[s])}function Zse({transformTemplate:t},e){return p.useMemo(()=>{const n=SN();return _N(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ere(t,e){const n=t.style||{},s={};return ZO(s,n,t),Object.assign(s,Zse(t,e)),s}function tre(t,e){const n={},s=ere(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const nre={offset:"stroke-dashoffset",array:"stroke-dasharray"},sre={offset:"strokeDashoffset",array:"strokeDasharray"};function rre(t,e,n=1,s=0,r=!0){t.pathLength=1;const o=r?nre:sre;t[o.offset]=Pe.transform(-s);const a=Pe.transform(e),l=Pe.transform(n);t[o.array]=`${a} ${l}`}function eL(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:o=1,pathOffset:a=0,...l},c,u,d){if(_N(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m}=t;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),r!==void 0&&rre(h,r,o,a,!1)}const tL=()=>({...SN(),attrs:{}}),nL=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ire(t,e,n,s){const r=p.useMemo(()=>{const o=tL();return eL(o,e,nL(s),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};ZO(o,t.style,t),r.style={...o,...r.style}}return r}const ore=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function EN(t){return typeof t!="string"||t.includes("-")?!1:!!(ore.indexOf(t)>-1||/[A-Z]/u.test(t))}function are(t,e,n,{latestValues:s},r,o=!1){const l=(EN(t)?ire:tre)(e,s,r,t),c=qse(e,typeof t=="string",o),u=t!==p.Fragment?{...c,...l,ref:n}:{},{children:d}=e,h=p.useMemo(()=>On(d)?d.get():d,[d]);return p.createElement(t,{...u,children:h})}function ZC(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function TN(t,e,n,s){if(typeof e=="function"){const[r,o]=ZC(s);e=e(n!==void 0?n:t.custom,r,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,o]=ZC(s);e=e(n!==void 0?n:t.custom,r,o)}return e}function sp(t){return On(t)?t.get():t}function lre({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:cre(n,s,r,t),renderState:e()}}function cre(t,e,n,s){const r={},o=s(t,{});for(const m in o)r[m]=sp(o[m]);let{initial:a,animate:l}=t;const c=Ux(t),u=XO(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!Fx(h)){const m=Array.isArray(h)?h:[h];for(let g=0;g<m.length;g++){const y=TN(t,m[g]);if(y){const{transitionEnd:x,transition:w,...v}=y;for(const j in v){let b=v[j];if(Array.isArray(b)){const C=d?b.length-1:0;b=b[C]}b!==null&&(r[j]=b)}for(const j in x)r[j]=x[j]}}}return r}const sL=t=>(e,n)=>{const s=p.useContext(Vx),r=p.useContext(Lx),o=()=>lre(t,e,s,r);return n?o():Jj(o)};function CN(t,e,n){var o;const{style:s}=t,r={};for(const a in s)(On(s[a])||e.style&&On(e.style[a])||JO(a,t)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(r[a]=s[a]);return r}const ure=sL({scrapeMotionValuesFromProps:CN,createRenderState:SN});function rL(t,e,n){const s=CN(t,e,n);for(const r in t)if(On(t[r])||On(e[r])){const o=Au.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[o]=t[r]}return s}const dre=sL({scrapeMotionValuesFromProps:rL,createRenderState:tL}),hre=Symbol.for("motionComponentSymbol");function pc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function fre(t,e,n){return p.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):pc(n)&&(n.current=s))},[e])}const AN=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mre="framerAppearId",iL="data-"+AN(mre),oL=p.createContext({});function pre(t,e,n,s,r){var x,w;const{visualElement:o}=p.useContext(Vx),a=p.useContext(YO),l=p.useContext(Lx),c=p.useContext(bN).reducedMotion,u=p.useRef(null);s=s||a.renderer,!u.current&&s&&(u.current=s(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=p.useContext(oL);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&gre(u.current,n,r,h);const m=p.useRef(!1);p.useInsertionEffect(()=>{d&&m.current&&d.update(n,l)});const g=n[iL],y=p.useRef(!!g&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,g))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,g)));return sO(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),y.current&&d.animationState&&d.animationState.animateChanges())}),p.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,g)}),y.current=!1),d.enteringChildren=void 0)}),d}function gre(t,e,n,s){const{layoutId:r,layout:o,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:aL(t.parent)),t.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!a||l&&pc(l),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:c,layoutRoot:u})}function aL(t){if(t)return t.options.allowProjection!==!1?t.projection:aL(t.parent)}function Tv(t,{forwardMotionProps:e=!1}={},n,s){n&&Bse(n);const r=EN(t)?dre:ure;function o(l,c){let u;const d={...p.useContext(bN),...l,layoutId:xre(l)},{isStatic:h}=d,m=Kse(l),g=r(l,h);if(!h&&Zj){yre();const y=vre(d);u=y.MeasureLayout,m.visualElement=pre(t,g,d,s,y.ProjectionNode)}return i.jsxs(Vx.Provider,{value:m,children:[u&&m.visualElement?i.jsx(u,{visualElement:m.visualElement,...d}):null,are(t,l,fre(g,m.visualElement,c),g,h,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=p.forwardRef(o);return a[hre]=t,a}function xre({layoutId:t}){const e=p.useContext(Xj).id;return e&&t!==void 0?e+"-"+t:t}function yre(t,e){p.useContext(YO).strict}function vre(t){const{drag:e,layout:n}=cu;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function wre(t,e){if(typeof Proxy>"u")return Tv;const n=new Map,s=(o,a)=>Tv(o,a,t,e),r=(o,a)=>s(o,a);return new Proxy(r,{get:(o,a)=>a==="create"?s:(n.has(a)||n.set(a,Tv(a,void 0,t,e)),n.get(a))})}function lL({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function bre({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function jre(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Cv(t){return t===void 0||t===1}function zw({scale:t,scaleX:e,scaleY:n}){return!Cv(t)||!Cv(e)||!Cv(n)}function Ca(t){return zw(t)||cL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cL(t){return eA(t.x)||eA(t.y)}function eA(t){return t&&t!=="0%"}function gg(t,e,n){const s=t-n,r=e*s;return n+r}function tA(t,e,n,s,r){return r!==void 0&&(t=gg(t,r,s)),gg(t,n,s)+e}function Bw(t,e=0,n=1,s,r){t.min=tA(t.min,e,n,s,r),t.max=tA(t.max,e,n,s,r)}function uL(t,{x:e,y:n}){Bw(t.x,e.translate,e.scale,e.originPoint),Bw(t.y,n.translate,n.scale,n.originPoint)}const nA=.999999999999,sA=1.0000000000001;function Nre(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let o,a;for(let l=0;l<r;l++){o=n[l],a=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&xc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,uL(t,a)),s&&Ca(o.latestValues)&&xc(t,o.latestValues))}e.x<sA&&e.x>nA&&(e.x=1),e.y<sA&&e.y>nA&&(e.y=1)}function gc(t,e){t.min=t.min+e,t.max=t.max+e}function rA(t,e,n,s,r=.5){const o=At(t.min,t.max,r);Bw(t,e,n,o,s)}function xc(t,e){rA(t.x,e.x,e.scaleX,e.scale,e.originX),rA(t.y,e.y,e.scaleY,e.scale,e.originY)}function dL(t,e){return lL(jre(t.getBoundingClientRect(),e))}function _re(t,e,n){const s=dL(t,n),{scroll:r}=e;return r&&(gc(s.x,r.offset.x),gc(s.y,r.offset.y)),s}const iA=()=>({translate:0,scale:1,origin:0,originPoint:0}),yc=()=>({x:iA(),y:iA()}),oA=()=>({min:0,max:0}),nn=()=>({x:oA(),y:oA()}),Ww={current:null},hL={current:!1};function Sre(){if(hL.current=!0,!!Zj)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ww.current=t.matches;t.addEventListener("change",e),e()}else Ww.current=!1}const Ere=new WeakMap;function Tre(t,e,n){for(const s in e){const r=e[s],o=n[s];if(On(r))t.addValue(s,r);else if(On(o))t.addValue(s,lu(r,{owner:t}));else if(o!==r)if(t.hasValue(s)){const a=t.getValue(s);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(s);t.addValue(s,lu(a!==void 0?a:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const aA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Cre{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=as.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,_t.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Ux(n),this.isVariantNode=XO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const g=h[m];c[m]!==void 0&&On(g)&&g.set(c[m])}}mount(e){var n;this.current=e,Ere.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),hL.current||Sre(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ww.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ia(this.notifyUpdate),ia(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Pu.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&_t.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cu){const n=cu[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<aA.length;s++){const r=aA[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,a=e[o];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=Tre(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=lu(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(rO(s)||oO(s))?s=parseFloat(s):!Mse(s)&&oa.test(n)&&(s=$O(e,n)),this.setBaseTarget(e,On(s)?s.get():s)),On(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=TN(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);a&&(s=a[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!On(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new rN),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){vN.render(this.render)}}class fL extends Cre{constructor(){super(...arguments),this.KeyframeResolver=Nse}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;On(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function mL(t,{style:e,vars:n},s,r){const o=t.style;let a;for(a in e)o[a]=e[a];r==null||r.applyProjectionStyles(o,s);for(a in n)o.setProperty(a,n[a])}function Are(t){return window.getComputedStyle(t)}class Pre extends fL{constructor(){super(...arguments),this.type="html",this.renderInstance=mL}readValueFromInstance(e,n){var s;if(Pu.has(n))return(s=this.projection)!=null&&s.isProjecting?Mw(n):zne(e,n);{const r=Are(e),o=(aN(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return dL(e,n)}build(e,n,s){_N(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return CN(e,n,s)}}const pL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ire(t,e,n,s){mL(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(pL.has(r)?r:AN(r),e.attrs[r])}class kre extends fL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Pu.has(n)){const s=UO(n);return s&&s.default||0}return n=pL.has(n)?n:AN(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return rL(e,n,s)}build(e,n,s){eL(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){Ire(e,n,s,r)}mount(e){this.isSVGTag=nL(e.tagName),super.mount(e)}}const Rre=(t,e)=>EN(t)?new kre(e):new Pre(e,{allowProjection:t!==p.Fragment});function kc(t,e,n){const s=t.getProps();return TN(s,e,n!==void 0?n:s.custom,t)}const Hw=t=>Array.isArray(t);function Dre(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,lu(n))}function Mre(t){return Hw(t)?t[t.length-1]||0:t}function Ore(t,e){const n=kc(t,e);let{transitionEnd:s={},transition:r={},...o}=n||{};o={...o,...s};for(const a in o){const l=Mre(o[a]);Dre(t,a,l)}}function Lre(t){return!!(On(t)&&t.add)}function qw(t,e){const n=t.getValue("willChange");if(Lre(n))return n.add(e);if(!n&&$i.WillChange){const s=new $i.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function gL(t){return t.props[iL]}const Vre=t=>t!==null;function Fre(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(Vre),o=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[o]}const Ure={type:"spring",stiffness:500,damping:25,restSpeed:10},$re=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),zre={type:"keyframes",duration:.8},Bre={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wre=(t,{keyframes:e})=>e.length>2?zre:Pu.has(t)?t.startsWith("scale")?$re(e[1]):Ure:Bre;function Hre({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const PN=(t,e,n,s={},r,o)=>a=>{const l=xN(s,t)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-Jr(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:o?void 0:r};Hre(l)||Object.assign(d,Wre(t,d)),d.duration&&(d.duration=Jr(d.duration)),d.repeatDelay&&(d.repeatDelay=Jr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Uw(d),d.delay===0&&(h=!0)),($i.instantAnimations||$i.skipAnimations)&&(h=!0,Uw(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!o&&e.get()!==void 0){const m=Fre(d.keyframes,l);if(m!==void 0){_t.update(()=>{d.onUpdate(m),d.onComplete()});return}}return l.isSync?new pN(d):new dse(d)};function qre({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function xL(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;s&&(o=s);const c=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const d in l){const h=t.getValue(d,t.latestValues[d]??null),m=l[d];if(m===void 0||u&&qre(u,d))continue;const g={delay:n,...xN(o||{},d)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===y&&!g.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const v=gL(t);if(v){const j=window.MotionHandoffAnimation(v,d,_t);j!==null&&(g.startTime=j,x=!0)}}qw(t,d),h.start(PN(d,h,m,t.shouldReduceMotion&&LO.has(d)?{type:!1}:g,t,x));const w=h.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{_t.update(()=>{a&&Ore(t,a)})}),c}function yL(t,e,n,s=0,r=1){const o=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),a=t.size,l=(a-1)*s;return typeof n=="function"?n(o,a):r===1?o*s:l-o*s}function Gw(t,e,n={}){var c;const s=kc(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const o=s?()=>Promise.all(xL(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=r;return Gre(t,e,u,d,h,m,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function Gre(t,e,n=0,s=0,r=0,o=1,a){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(Gw(c,e,{...a,delay:n+(typeof s=="function"?0:s)+yL(t.variantChildren,c,s,r,o)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Kre(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(o=>Gw(t,o,n));s=Promise.all(r)}else if(typeof e=="string")s=Gw(t,e,n);else{const r=typeof e=="function"?kc(t,e,n.custom):e;s=Promise.all(xL(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function vL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const Yre=NN.length;function wL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?wL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Yre;n++){const s=NN[n],r=t.props[s];(Dh(r)||r===!1)&&(e[s]=r)}return e}const Qre=[...jN].reverse(),Xre=jN.length;function Jre(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Kre(t,n,s)))}function Zre(t){let e=Jre(t),n=lA(),s=!0;const r=c=>(u,d)=>{var m;const h=kc(t,d,c==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:g,transitionEnd:y,...x}=h;u={...u,...x,...y}}return u};function o(c){e=c(t)}function a(c){const{props:u}=t,d=wL(t.parent)||{},h=[],m=new Set;let g={},y=1/0;for(let w=0;w<Xre;w++){const v=Qre[w],j=n[v],b=u[v]!==void 0?u[v]:d[v],C=Dh(b),k=v===c?j.isActive:null;k===!1&&(y=w);let I=b===d[v]&&b!==u[v]&&C;if(I&&s&&t.manuallyAnimateOnMount&&(I=!1),j.protectedKeys={...g},!j.isActive&&k===null||!b&&!j.prevProp||Fx(b)||typeof b=="boolean")continue;const _=eie(j.prevProp,b);let S=_||v===c&&j.isActive&&!I&&C||w>y&&C,T=!1;const E=Array.isArray(b)?b:[b];let P=E.reduce(r(v),{});k===!1&&(P={});const{prevResolvedValues:R={}}=j,D={...R,...P},L=B=>{S=!0,m.has(B)&&(T=!0,m.delete(B)),j.needsAnimating[B]=!0;const V=t.getValue(B);V&&(V.liveStyle=!1)};for(const B in D){const V=P[B],M=R[B];if(g.hasOwnProperty(B))continue;let $=!1;Hw(V)&&Hw(M)?$=!vL(V,M):$=V!==M,$?V!=null?L(B):m.add(B):V!==void 0&&m.has(B)?L(B):j.protectedKeys[B]=!0}j.prevProp=b,j.prevResolvedValues=P,j.isActive&&(g={...g,...P}),s&&t.blockInitialAnimation&&(S=!1);const F=I&&_;S&&(!F||T)&&h.push(...E.map(B=>{const V={type:v};if(typeof B=="string"&&s&&!F&&t.manuallyAnimateOnMount&&t.parent){const{parent:M}=t,$=kc(M,B);if(M.enteringChildren&&$){const{delayChildren:G}=$.transition||{};V.delay=yL(M.enteringChildren,t,G)}}return{animation:B,options:V}}))}if(m.size){const w={};if(typeof u.initial!="boolean"){const v=kc(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(w.transition=v.transition)}m.forEach(v=>{const j=t.getBaseTarget(v),b=t.getValue(v);b&&(b.liveStyle=!0),w[v]=j??null}),h.push({animation:w})}let x=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),s=!1,x?e(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(c,u)}),n[c].isActive=u;const d=a(c);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=lA()}}}function eie(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vL(e,t):!1}function Na(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lA(){return{animate:Na(!0),whileInView:Na(),whileHover:Na(),whileTap:Na(),whileDrag:Na(),whileFocus:Na(),exit:Na()}}class pa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class tie extends pa{constructor(e){super(e),e.animationState||(e.animationState=Zre(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Fx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let nie=0;class sie extends pa{constructor(){super(...arguments),this.id=nie++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const rie={animation:{Feature:tie},exit:{Feature:sie}};function Oh(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Tf(t){return{point:{x:t.pageX,y:t.pageY}}}const iie=t=>e=>wN(e)&&t(e,Tf(e));function $d(t,e,n,s){return Oh(t,e,iie(n),s)}const bL=1e-4,oie=1-bL,aie=1+bL,jL=.01,lie=0-jL,cie=0+jL;function qn(t){return t.max-t.min}function uie(t,e,n){return Math.abs(t-e)<=n}function cA(t,e,n,s=.5){t.origin=s,t.originPoint=At(e.min,e.max,t.origin),t.scale=qn(n)/qn(e),t.translate=At(n.min,n.max,t.origin)-t.originPoint,(t.scale>=oie&&t.scale<=aie||isNaN(t.scale))&&(t.scale=1),(t.translate>=lie&&t.translate<=cie||isNaN(t.translate))&&(t.translate=0)}function zd(t,e,n,s){cA(t.x,e.x,n.x,s?s.originX:void 0),cA(t.y,e.y,n.y,s?s.originY:void 0)}function uA(t,e,n){t.min=n.min+e.min,t.max=t.min+qn(e)}function die(t,e,n){uA(t.x,e.x,n.x),uA(t.y,e.y,n.y)}function dA(t,e,n){t.min=e.min-n.min,t.max=t.min+qn(e)}function xg(t,e,n){dA(t.x,e.x,n.x),dA(t.y,e.y,n.y)}function Rs(t){return[t("x"),t("y")]}const NL=({current:t})=>t?t.ownerDocument.defaultView:null,hA=(t,e)=>Math.abs(t-e);function hie(t,e){const n=hA(t.x,e.x),s=hA(t.y,e.y);return Math.sqrt(n**2+s**2)}class _L{constructor(e,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Pv(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=hie(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!y)return;const{point:x}=m,{timestamp:w}=gn;this.history.push({...x,timestamp:w});const{onStart:v,onMove:j}=this.handlers;g||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Av(g,this.transformPagePoint),_t.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Pv(m.type==="pointercancel"?this.lastMoveEventInfo:Av(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,v),x&&x(m,v)},!wN(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=a,this.contextWindow=r||window;const l=Tf(e),c=Av(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=gn;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Pv(c,this.history)),this.removeListeners=_f($d(this.contextWindow,"pointermove",this.handlePointerMove),$d(this.contextWindow,"pointerup",this.handlePointerUp),$d(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ia(this.updatePoint)}}function Av(t,e){return e?{point:e(t.point)}:t}function fA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pv({point:t},e){return{point:t,delta:fA(t,SL(e)),offset:fA(t,fie(e)),velocity:mie(e,.1)}}function fie(t){return t[0]}function SL(t){return t[t.length-1]}function mie(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=SL(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Jr(e)));)n--;if(!s)return{x:0,y:0};const o=Fs(r.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const a={x:(r.x-s.x)/o,y:(r.y-s.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function pie(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?At(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?At(n,t,s.max):Math.min(t,n)),t}function mA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function gie(t,{top:e,left:n,bottom:s,right:r}){return{x:mA(t.x,n,r),y:mA(t.y,e,s)}}function pA(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function xie(t,e){return{x:pA(t.x,e.x),y:pA(t.y,e.y)}}function yie(t,e){let n=.5;const s=qn(t),r=qn(e);return r>s?n=Ih(e.min,e.max-s,t.min):s>r&&(n=Ih(t.min,t.max-r,e.min)),Ui(0,1,n)}function vie(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kw=.35;function wie(t=Kw){return t===!1?t=0:t===!0&&(t=Kw),{x:gA(t,"left","right"),y:gA(t,"top","bottom")}}function gA(t,e,n){return{min:xA(t,e),max:xA(t,n)}}function xA(t,e){return typeof t=="number"?t:t[e]||0}const bie=new WeakMap;class jie{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tf(h).point)},a=(h,m)=>{const{drag:g,dragPropagation:y,onDragStart:x}=this.getProps();if(g&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Tse(g),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rs(v=>{let j=this.getAxisMotionValue(v).get()||0;if(Zr.test(j)){const{projection:b}=this.visualElement;if(b&&b.layout){const C=b.layout.layoutBox[v];C&&(j=qn(C)*(parseFloat(j)/100))}}this.originPoint[v]=j}),x&&_t.postRender(()=>x(h,m)),qw(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:x,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:v}=m;if(y&&this.currentDirection===null){this.currentDirection=Nie(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),w&&w(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Rs(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new _L(e,{onSessionStart:o,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:s,contextWindow:NL(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,r=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!s)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&_t.postRender(()=>l(s,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!Em(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=pie(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,r=this.constraints;e&&pc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=gie(s.layoutBox,e):this.constraints=!1,this.elastic=wie(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Rs(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=vie(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!pc(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=_re(s,r.root,this.visualElement.getTransformPagePoint());let a=xie(r.layout.layoutBox,o);if(n){const l=n(bre(a));this.hasMutatedConstraints=!!l,l&&(a=lL(l))}return a}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Rs(d=>{if(!Em(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const m=r?200:1e6,g=r?40:1e7,y={type:"inertia",velocity:s?e[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return qw(this.visualElement,e),s.start(PN(e,s,0,n,this.visualElement,!1))}stopAnimation(){Rs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Rs(n=>{const{drag:s}=this.getProps();if(!Em(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:l}=r.layout.layoutBox[n];o.set(e[n]-At(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!pc(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Rs(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();r[a]=yie({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Rs(a=>{if(!Em(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(At(c,u,r[a]))})}addListeners(){if(!this.visualElement.current)return;bie.set(this.visualElement,this);const e=this.visualElement.current,n=$d(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();pc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),_t.read(s);const a=Oh(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Rs(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:a=Kw,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function Em(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Nie(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _ie extends pa{constructor(e){super(e),this.removeGroupControls=zs,this.removeListeners=zs,this.controls=new jie(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zs}unmount(){this.removeGroupControls(),this.removeListeners()}}const yA=t=>(e,n)=>{t&&_t.postRender(()=>t(e,n))};class Sie extends pa{constructor(){super(...arguments),this.removePointerDownListener=zs}onPointerDown(e){this.session=new _L(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:yA(e),onStart:yA(n),onMove:s,onEnd:(o,a)=>{delete this.session,r&&_t.postRender(()=>r(o,a))}}}mount(){this.removePointerDownListener=$d(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const td={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const n=vA(t,e.target.x),s=vA(t,e.target.y);return`${n}% ${s}%`}},Eie={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=oa.parse(t);if(r.length>5)return s;const o=oa.createTransformer(t),a=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;r[0+a]/=l,r[1+a]/=c;const u=At(l,c,.5);return typeof r[2+a]=="number"&&(r[2+a]/=u),typeof r[3+a]=="number"&&(r[3+a]/=u),o(r)}};let Iv=!1;class Tie extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:o}=e;Yse(Cie),o&&(n.group&&n.group.add(o),s&&s.register&&r&&s.register(o),Iv&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),rp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:o}=this.props,{projection:a}=s;return a&&(a.isPresent=o,Iv=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||_t.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),vN.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;Iv=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function EL(t){const[e,n]=KO(),s=p.useContext(Xj);return i.jsx(Tie,{...t,layoutGroup:s,switchLayoutGroup:p.useContext(oL),isPresent:e,safeToRemove:n})}const Cie={borderRadius:{...td,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:td,borderTopRightRadius:td,borderBottomLeftRadius:td,borderBottomRightRadius:td,boxShadow:Eie};function Aie(t,e,n){const s=On(t)?t:lu(t);return s.start(PN("",s,e,n)),s.animation}const Pie=(t,e)=>t.depth-e.depth;class Iie{constructor(){this.children=[],this.isDirty=!1}add(e){eN(this.children,e),this.isDirty=!0}remove(e){tN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Pie),this.isDirty=!1,this.children.forEach(e)}}function kie(t,e){const n=as.now(),s=({timestamp:r})=>{const o=r-n;o>=e&&(ia(s),t(o-e))};return _t.setup(s,!0),()=>ia(s)}const TL=["TopLeft","TopRight","BottomLeft","BottomRight"],Rie=TL.length,wA=t=>typeof t=="string"?parseFloat(t):t,bA=t=>typeof t=="number"||Pe.test(t);function Die(t,e,n,s,r,o){r?(t.opacity=At(0,n.opacity??1,Mie(s)),t.opacityExit=At(e.opacity??1,0,Oie(s))):o&&(t.opacity=At(e.opacity??1,n.opacity??1,s));for(let a=0;a<Rie;a++){const l=`border${TL[a]}Radius`;let c=jA(e,l),u=jA(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||bA(c)===bA(u)?(t[l]=Math.max(At(wA(c),wA(u),s),0),(Zr.test(u)||Zr.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=At(e.rotate||0,n.rotate||0,s))}function jA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Mie=CL(0,.5,mO),Oie=CL(.5,.95,zs);function CL(t,e,n){return s=>s<t?0:s>e?1:n(Ih(t,e,s))}function NA(t,e){t.min=e.min,t.max=e.max}function tr(t,e){NA(t.x,e.x),NA(t.y,e.y)}function _A(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function SA(t,e,n,s,r){return t-=e,t=gg(t,1/n,s),r!==void 0&&(t=gg(t,1/r,s)),t}function Lie(t,e=0,n=1,s=.5,r,o=t,a=t){if(Zr.test(e)&&(e=parseFloat(e),e=At(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=At(o.min,o.max,s);t===o&&(l-=e),t.min=SA(t.min,e,n,l,r),t.max=SA(t.max,e,n,l,r)}function EA(t,e,[n,s,r],o,a){Lie(t,e[n],e[s],e[r],e.scale,o,a)}const Vie=["x","scaleX","originX"],Fie=["y","scaleY","originY"];function TA(t,e,n,s){EA(t.x,e,Vie,n?n.x:void 0,s?s.x:void 0),EA(t.y,e,Fie,n?n.y:void 0,s?s.y:void 0)}function CA(t){return t.translate===0&&t.scale===1}function AL(t){return CA(t.x)&&CA(t.y)}function AA(t,e){return t.min===e.min&&t.max===e.max}function Uie(t,e){return AA(t.x,e.x)&&AA(t.y,e.y)}function PA(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function PL(t,e){return PA(t.x,e.x)&&PA(t.y,e.y)}function IA(t){return qn(t.x)/qn(t.y)}function kA(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class $ie{constructor(){this.members=[]}add(e){eN(this.members,e),e.scheduleRender()}remove(e){if(tN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zie(t,e,n){let s="";const r=t.x.translate/e.x,o=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((r||o||a)&&(s=`translate3d(${r}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:g,skewY:y}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),m&&(s+=`rotateY(${m}deg) `),g&&(s+=`skewX(${g}deg) `),y&&(s+=`skewY(${y}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const kv=["","X","Y","Z"],Bie=1e3;let Wie=0;function Rv(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function IL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",_t,!(r||o))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&IL(s)}function kL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},l=e==null?void 0:e()){this.id=Wie++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Gie),this.nodes.forEach(Xie),this.nodes.forEach(Jie),this.nodes.forEach(Kie)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Iie)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new rN),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=GO(a)&&!Rse(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d,h=0;const m=()=>this.root.updateBlockedByResize=!1;_t.read(()=>{h=window.innerWidth}),t(a,()=>{const g=window.innerWidth;g!==h&&(h=g,this.root.updateBlockedByResize=!0,d&&d(),d=kie(m,250),rp.hasAnimatedSinceResize&&(rp.hasAnimatedSinceResize=!1,this.nodes.forEach(MA)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||soe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=u.getProps(),v=!this.targetLayout||!PL(this.targetLayout,g),j=!h&&m;if(this.options.layoutRoot||this.resumeFrom||j||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...xN(y,"layout"),onPlay:x,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,j)}else h||MA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ia(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zie),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(RA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(DA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Qie),this.nodes.forEach(Hie),this.nodes.forEach(qie)):this.nodes.forEach(DA),this.clearAllSnapshots();const l=as.now();gn.delta=Ui(0,1e3/60,l-gn.timestamp),gn.timestamp=l,gn.isProcessing=!0,bv.update.process(gn),bv.preRender.process(gn),bv.render.process(gn),gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Yie),this.sharedNodes.forEach(eoe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qn(this.snapshot.measuredBox.x)&&!qn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!AL(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||Ca(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),roe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return nn();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(ioe))){const{scroll:d}=this.root;d&&(gc(l.x,d.offset.x),gc(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=nn();if(tr(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&tr(l,a),gc(l.x,h.offset.x),gc(l.y,h.offset.y))}return l}applyTransform(a,l=!1){const c=nn();tr(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&xc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ca(d.latestValues)&&xc(c,d.latestValues)}return Ca(this.latestValues)&&xc(c,this.latestValues),c}removeTransform(a){const l=nn();tr(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ca(u.latestValues))continue;zw(u.latestValues)&&u.updateSnapshot();const d=nn(),h=u.measurePageBox();tr(d,h),TA(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ca(this.latestValues)&&TA(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var g;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=gn.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),die(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tr(this.target,this.layout.layoutBox),uL(this.target,this.targetDelta)):tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||zw(this.parent.latestValues)||cL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,l,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),xg(this.relativeTargetOrigin,l,c),tr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var y;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===gn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;tr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Nre(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=nn());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_A(this.prevProjectionDelta.x,this.projectionDelta.x),_A(this.prevProjectionDelta.y,this.projectionDelta.y)),zd(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!kA(this.projectionDelta.x,this.prevProjectionDelta.x)||!kA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yc(),this.projectionDelta=yc(),this.projectionDeltaWithTransform=yc()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=yc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=nn(),g=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=g!==y,w=this.getStack(),v=!w||w.members.length<=1,j=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(noe));this.animationProgress=0;let b;this.mixTargetDelta=C=>{const k=C/1e3;OA(h.x,a.x,k),OA(h.y,a.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xg(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),toe(this.relativeTarget,this.relativeTargetOrigin,m,k),b&&Uie(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=nn()),tr(b,this.relativeTarget)),x&&(this.animationValues=d,Die(d,u,this.latestValues,k,j,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ia(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_t.update(()=>{rp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lu(0)),this.currentAnimation=Aie(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Bie),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&RL(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||nn();const h=qn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const m=qn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}tr(l,c),xc(l,d),zd(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new $ie),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Rv("z",a,u,this.animationValues);for(let d=0;d<kv.length;d++)Rv(`rotate${kv[d]}`,a,u,this.animationValues),Rv(`skew${kv[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=sp(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=sp(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ca(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=zie(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),a.transform=h;const{x:m,y:g}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in Mh){if(d[y]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:v}=Mh[y],j=h==="none"?d[y]:x(d[y],u);if(w){const b=w.length;for(let C=0;C<b;C++)a[w[C]]=j}else v?this.options.visualElement.renderState.vars[y]=j:a[y]=j}this.options.layoutId&&(a.pointerEvents=u===this?sp(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(RA),this.root.sharedNodes.clear()}}}function Hie(t){t.updateLayout()}function qie(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?Rs(h=>{const m=a?e.measuredBox[h]:e.layoutBox[h],g=qn(m);m.min=s[h].min,m.max=m.min+g}):RL(o,e.layoutBox,s)&&Rs(h=>{const m=a?e.measuredBox[h]:e.layoutBox[h],g=qn(s[h]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const l=yc();zd(l,s,e.layoutBox);const c=yc();a?zd(c,t.applyTransform(r,!0),e.measuredBox):zd(c,s,e.layoutBox);const u=!AL(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:g}=h;if(m&&g){const y=nn();xg(y,e.layoutBox,m.layoutBox);const x=nn();xg(x,s,g.layoutBox),PL(y,x)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function Gie(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Kie(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Yie(t){t.clearSnapshot()}function RA(t){t.clearMeasurements()}function DA(t){t.isLayoutDirty=!1}function Qie(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function MA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Xie(t){t.resolveTargetDelta()}function Jie(t){t.calcProjection()}function Zie(t){t.resetSkewAndRotation()}function eoe(t){t.removeLeadSnapshot()}function OA(t,e,n){t.translate=At(e.translate,0,n),t.scale=At(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function LA(t,e,n,s){t.min=At(e.min,n.min,s),t.max=At(e.max,n.max,s)}function toe(t,e,n,s){LA(t.x,e.x,n.x,s),LA(t.y,e.y,n.y,s)}function noe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const soe={duration:.45,ease:[.4,0,.1,1]},VA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),FA=VA("applewebkit/")&&!VA("chrome/")?Math.round:zs;function UA(t){t.min=FA(t.min),t.max=FA(t.max)}function roe(t){UA(t.x),UA(t.y)}function RL(t,e,n){return t==="position"||t==="preserve-aspect"&&!uie(IA(e),IA(n),.2)}function ioe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const ooe=kL({attachResizeListener:(t,e)=>Oh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dv={current:void 0},DL=kL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dv.current){const t=new ooe({});t.mount(window),t.setOptions({layoutScroll:!0}),Dv.current=t}return Dv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),aoe={pan:{Feature:Sie},drag:{Feature:_ie,ProjectionNode:DL,MeasureLayout:EL}};function $A(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,o=s[r];o&&_t.postRender(()=>o(e,Tf(e)))}class loe extends pa{mount(){const{current:e}=this.node;e&&(this.unmount=Cse(e,(n,s)=>($A(this.node,s,"Start"),r=>$A(this.node,r,"End"))))}unmount(){}}class coe extends pa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_f(Oh(this.node.current,"focus",()=>this.onFocus()),Oh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zA(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),o=s[r];o&&_t.postRender(()=>o(e,Tf(e)))}class uoe extends pa{mount(){const{current:e}=this.node;e&&(this.unmount=kse(e,(n,s)=>(zA(this.node,s,"Start"),(r,{success:o})=>zA(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yw=new WeakMap,Mv=new WeakMap,doe=t=>{const e=Yw.get(t.target);e&&e(t)},hoe=t=>{t.forEach(doe)};function foe({root:t,...e}){const n=t||document;Mv.has(n)||Mv.set(n,{});const s=Mv.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(hoe,{root:t,...e})),s[r]}function moe(t,e,n){const s=foe(e);return Yw.set(t,n),s.observe(t),()=>{Yw.delete(t),s.unobserve(t)}}const poe={some:0,all:1};class goe extends pa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:poe[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(c)};return moe(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(xoe(e,n))&&this.startObserver()}unmount(){}}function xoe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const yoe={inView:{Feature:goe},tap:{Feature:uoe},focus:{Feature:coe},hover:{Feature:loe}},voe={layout:{ProjectionNode:DL,MeasureLayout:EL}},woe={...rie,...yoe,...aoe,...voe},Tm=wre(woe,Rre),boe=()=>{const[t,e]=p.useState(!1),[n,s]=p.useState(null);p.useEffect(()=>{(async()=>{try{const a=Ve(ue,"advertisements"),l=bt(a,hs("createdAt","desc")),c=await Ml(l);let u=null;c.forEach(d=>{if(!u){const h=d.data();h.isActive===!0&&(u={id:d.id,title:h.title||"",description:h.description||"",image:h.image||"",buttonText:h.buttonText||"Shop Now",buttonLink:h.buttonLink||"/shop",isActive:!0})}}),u&&(s(u),setTimeout(()=>e(!0),1500))}catch(a){console.error("Error fetching advertisement:",a)}})()},[]);const r=()=>{e(!1)};return n?i.jsx(Ln,{open:t,onOpenChange:e,children:i.jsxs(Nn,{className:"max-w-[90vw] sm:max-w-sm md:max-w-md p-0 overflow-hidden border-0 rounded-xl sm:rounded-2xl bg-gradient-to-br from-background via-background to-secondary/30 shadow-2xl",children:[i.jsx(Kh,{children:i.jsx(_n,{children:n.title})}),i.jsx(zse,{children:t&&i.jsxs(Tm.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3,ease:"easeOut"},children:[i.jsx(ie,{variant:"ghost",size:"icon",className:"absolute right-3 top-3 z-20 bg-white/90 hover:bg-white shadow-lg hover:shadow-xl rounded-full h-8 w-8 sm:h-10 sm:w-10 transition-all duration-300 hover:rotate-90",onClick:r,children:i.jsx(Ks,{className:"h-4 w-4 sm:h-5 sm:w-5 text-foreground"})}),i.jsxs("div",{className:"relative",children:[n.image&&i.jsxs("div",{className:"relative aspect-[16/9] w-full overflow-hidden max-h-[30vh] sm:max-h-[35vh]",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-transparent to-transparent z-10"}),i.jsx(Tm.img,{initial:{scale:1.1},animate:{scale:1},transition:{duration:.6,ease:"easeOut"},src:n.image,alt:n.title,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute top-3 left-3 sm:top-4 sm:left-4 z-10",children:i.jsxs(Tm.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.4},className:"flex items-center gap-1.5 bg-primary/90 backdrop-blur-sm text-primary-foreground px-2.5 py-1 sm:px-3 sm:py-1.5 rounded-full text-xs sm:text-sm font-medium shadow-lg",children:[i.jsx(Bg,{className:"h-3 w-3 sm:h-4 sm:w-4"}),i.jsx("span",{children:"Special Offer"})]})})]}),i.jsxs(Tm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"p-4 sm:p-5 text-center space-y-2 sm:space-y-3",children:[i.jsx("h2",{className:"text-lg sm:text-xl font-heading font-semibold text-foreground leading-tight",children:n.title}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed line-clamp-2",children:n.description}),i.jsx("div",{className:"pt-1 sm:pt-2",children:i.jsx(ie,{asChild:!0,size:"default",className:"w-full rounded-full text-sm font-medium shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105 active:scale-95",onClick:r,children:i.jsx(xe,{to:n.buttonLink,children:n.buttonText})})})]})]})]})})]})}):null},joe=()=>i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(boe,{}),i.jsx(lt,{}),i.jsxs("main",{children:[i.jsx(Pte,{}),i.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[i.jsx(kte,{}),i.jsx(Rte,{}),i.jsx(Dte,{})]}),i.jsx(Ote,{}),i.jsx(Lte,{}),i.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:i.jsx(Vte,{})}),i.jsx(Fte,{}),i.jsx(Qj,{})]}),i.jsx(ct,{})]});var Ov="rovingFocusGroup.onEntryFocus",Noe={bubbles:!1,cancelable:!0},Cf="RovingFocusGroup",[Qw,ML,_oe]=Gh(Cf),[Soe,$x]=mn(Cf,[_oe]),[Eoe,Toe]=Soe(Cf),OL=p.forwardRef((t,e)=>i.jsx(Qw.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(Qw.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(Coe,{...t,ref:e})})}));OL.displayName=Cf;var Coe=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,m=p.useRef(null),g=Ie(e,m),y=Tu(o),[x,w]=Cs({prop:a,defaultProp:l??null,onChange:c,caller:Cf}),[v,j]=p.useState(!1),b=Ft(u),C=ML(n),k=p.useRef(!1),[I,_]=p.useState(0);return p.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(Ov,b),()=>S.removeEventListener(Ov,b)},[b]),i.jsx(Eoe,{scope:n,orientation:s,dir:y,loop:r,currentTabStopId:x,onItemFocus:p.useCallback(S=>w(S),[w]),onItemShiftTab:p.useCallback(()=>j(!0),[]),onFocusableItemAdd:p.useCallback(()=>_(S=>S+1),[]),onFocusableItemRemove:p.useCallback(()=>_(S=>S-1),[]),children:i.jsx(pe.div,{tabIndex:v||I===0?-1:0,"data-orientation":s,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:se(t.onMouseDown,()=>{k.current=!0}),onFocus:se(t.onFocus,S=>{const T=!k.current;if(S.target===S.currentTarget&&T&&!v){const E=new CustomEvent(Ov,Noe);if(S.currentTarget.dispatchEvent(E),!E.defaultPrevented){const P=C().filter(W=>W.focusable),R=P.find(W=>W.active),D=P.find(W=>W.id===x),F=[R,D,...P].filter(Boolean).map(W=>W.ref.current);FL(F,d)}}k.current=!1}),onBlur:se(t.onBlur,()=>j(!1))})})}),LL="RovingFocusGroupItem",VL=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:o,children:a,...l}=t,c=Ns(),u=o||c,d=Toe(LL,n),h=d.currentTabStopId===u,m=ML(n),{onFocusableItemAdd:g,onFocusableItemRemove:y,currentTabStopId:x}=d;return p.useEffect(()=>{if(s)return g(),()=>y()},[s,g,y]),i.jsx(Qw.ItemSlot,{scope:n,id:u,focusable:s,active:r,children:i.jsx(pe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:se(t.onMouseDown,w=>{s?d.onItemFocus(u):w.preventDefault()}),onFocus:se(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:se(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=Ioe(w,d.orientation,d.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=m().filter(C=>C.focusable).map(C=>C.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const C=b.indexOf(w.currentTarget);b=d.loop?koe(b,C+1):b.slice(C+1)}setTimeout(()=>FL(b))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:x!=null}):a})})});VL.displayName=LL;var Aoe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Poe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Ioe(t,e,n){const s=Poe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Aoe[s]}function FL(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function koe(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var UL=OL,$L=VL,Xw=["Enter"," "],Roe=["ArrowDown","PageUp","Home"],zL=["ArrowUp","PageDown","End"],Doe=[...Roe,...zL],Moe={ltr:[...Xw,"ArrowRight"],rtl:[...Xw,"ArrowLeft"]},Ooe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Af="Menu",[Lh,Loe,Voe]=Gh(Af),[Ul,BL]=mn(Af,[Voe,ua,$x]),zx=ua(),WL=$x(),[Foe,$l]=Ul(Af),[Uoe,Pf]=Ul(Af),HL=t=>{const{__scopeMenu:e,open:n=!1,children:s,dir:r,onOpenChange:o,modal:a=!0}=t,l=zx(e),[c,u]=p.useState(null),d=p.useRef(!1),h=Ft(o),m=Tu(r);return p.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),i.jsx(N1,{...l,children:i.jsx(Foe,{scope:e,open:n,onOpenChange:h,content:c,onContentChange:u,children:i.jsx(Uoe,{scope:e,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:a,children:s})})})};HL.displayName=Af;var $oe="MenuAnchor",IN=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,r=zx(n);return i.jsx(Jh,{...r,...s,ref:e})});IN.displayName=$oe;var kN="MenuPortal",[zoe,qL]=Ul(kN,{forceMount:void 0}),GL=t=>{const{__scopeMenu:e,forceMount:n,children:s,container:r}=t,o=$l(kN,e);return i.jsx(zoe,{scope:e,forceMount:n,children:i.jsx(an,{present:n||o.open,children:i.jsx(fu,{asChild:!0,container:r,children:s})})})};GL.displayName=kN;var Bs="MenuContent",[Boe,RN]=Ul(Bs),KL=p.forwardRef((t,e)=>{const n=qL(Bs,t.__scopeMenu),{forceMount:s=n.forceMount,...r}=t,o=$l(Bs,t.__scopeMenu),a=Pf(Bs,t.__scopeMenu);return i.jsx(Lh.Provider,{scope:t.__scopeMenu,children:i.jsx(an,{present:s||o.open,children:i.jsx(Lh.Slot,{scope:t.__scopeMenu,children:a.modal?i.jsx(Woe,{...r,ref:e}):i.jsx(Hoe,{...r,ref:e})})})})}),Woe=p.forwardRef((t,e)=>{const n=$l(Bs,t.__scopeMenu),s=p.useRef(null),r=Ie(e,s);return p.useEffect(()=>{const o=s.current;if(o)return Ix(o)},[]),i.jsx(DN,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Hoe=p.forwardRef((t,e)=>{const n=$l(Bs,t.__scopeMenu);return i.jsx(DN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),qoe=qo("MenuContent.ScrollLock"),DN=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:g,disableOutsideScroll:y,...x}=t,w=$l(Bs,n),v=Pf(Bs,n),j=zx(n),b=WL(n),C=Loe(n),[k,I]=p.useState(null),_=p.useRef(null),S=Ie(e,_,w.onContentChange),T=p.useRef(0),E=p.useRef(""),P=p.useRef(0),R=p.useRef(null),D=p.useRef("right"),L=p.useRef(0),F=y?gf:p.Fragment,W=y?{as:qoe,allowPinchZoom:!0}:void 0,B=M=>{var Y,ye;const $=E.current+M,G=C().filter(we=>!we.disabled),Z=document.activeElement,U=(Y=G.find(we=>we.ref.current===Z))==null?void 0:Y.textValue,q=G.map(we=>we.textValue),te=rae(q,$,U),ve=(ye=G.find(we=>we.textValue===te))==null?void 0:ye.ref.current;(function we(Se){E.current=Se,window.clearTimeout(T.current),Se!==""&&(T.current=window.setTimeout(()=>we(""),1e3))})($),ve&&setTimeout(()=>ve.focus())};p.useEffect(()=>()=>window.clearTimeout(T.current),[]),Ax();const V=p.useCallback(M=>{var G,Z;return D.current===((G=R.current)==null?void 0:G.side)&&oae(M,(Z=R.current)==null?void 0:Z.area)},[]);return i.jsx(Boe,{scope:n,searchRef:E,onItemEnter:p.useCallback(M=>{V(M)&&M.preventDefault()},[V]),onItemLeave:p.useCallback(M=>{var $;V(M)||(($=_.current)==null||$.focus(),I(null))},[V]),onTriggerLeave:p.useCallback(M=>{V(M)&&M.preventDefault()},[V]),pointerGraceTimerRef:P,onPointerGraceIntentChange:p.useCallback(M=>{R.current=M},[]),children:i.jsx(F,{...W,children:i.jsx(pf,{asChild:!0,trapped:r,onMountAutoFocus:se(o,M=>{var $;M.preventDefault(),($=_.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:i.jsx(Tl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:g,children:i.jsx(UL,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:s,currentTabStopId:k,onCurrentTabStopIdChange:I,onEntryFocus:se(c,M=>{v.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Kg,{role:"menu","aria-orientation":"vertical","data-state":u3(w.open),"data-radix-menu-content":"",dir:v.dir,...j,...x,ref:S,style:{outline:"none",...x.style},onKeyDown:se(x.onKeyDown,M=>{const G=M.target.closest("[data-radix-menu-content]")===M.currentTarget,Z=M.ctrlKey||M.altKey||M.metaKey,U=M.key.length===1;G&&(M.key==="Tab"&&M.preventDefault(),!Z&&U&&B(M.key));const q=_.current;if(M.target!==q||!Doe.includes(M.key))return;M.preventDefault();const ve=C().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);zL.includes(M.key)&&ve.reverse(),nae(ve)}),onBlur:se(t.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(T.current),E.current="")}),onPointerMove:se(t.onPointerMove,Vh(M=>{const $=M.target,G=L.current!==M.clientX;if(M.currentTarget.contains($)&&G){const Z=M.clientX>L.current?"right":"left";D.current=Z,L.current=M.clientX}}))})})})})})})});KL.displayName=Bs;var Goe="MenuGroup",MN=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return i.jsx(pe.div,{role:"group",...s,ref:e})});MN.displayName=Goe;var Koe="MenuLabel",YL=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return i.jsx(pe.div,{...s,ref:e})});YL.displayName=Koe;var yg="MenuItem",BA="menu.itemSelect",Bx=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:s,...r}=t,o=p.useRef(null),a=Pf(yg,t.__scopeMenu),l=RN(yg,t.__scopeMenu),c=Ie(e,o),u=p.useRef(!1),d=()=>{const h=o.current;if(!n&&h){const m=new CustomEvent(BA,{bubbles:!0,cancelable:!0});h.addEventListener(BA,g=>s==null?void 0:s(g),{once:!0}),n1(h,m),m.defaultPrevented?u.current=!1:a.onClose()}};return i.jsx(QL,{...r,ref:c,disabled:n,onClick:se(t.onClick,d),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),u.current=!0},onPointerUp:se(t.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:se(t.onKeyDown,h=>{const m=l.searchRef.current!=="";n||m&&h.key===" "||Xw.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Bx.displayName=yg;var QL=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:s=!1,textValue:r,...o}=t,a=RN(yg,n),l=WL(n),c=p.useRef(null),u=Ie(e,c),[d,h]=p.useState(!1),[m,g]=p.useState("");return p.useEffect(()=>{const y=c.current;y&&g((y.textContent??"").trim())},[o.children]),i.jsx(Lh.ItemSlot,{scope:n,disabled:s,textValue:r??m,children:i.jsx($L,{asChild:!0,...l,focusable:!s,children:i.jsx(pe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:u,onPointerMove:se(t.onPointerMove,Vh(y=>{s?a.onItemLeave(y):(a.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(t.onPointerLeave,Vh(y=>a.onItemLeave(y))),onFocus:se(t.onFocus,()=>h(!0)),onBlur:se(t.onBlur,()=>h(!1))})})})}),Yoe="MenuCheckboxItem",XL=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:s,...r}=t;return i.jsx(n3,{scope:t.__scopeMenu,checked:n,children:i.jsx(Bx,{role:"menuitemcheckbox","aria-checked":vg(n)?"mixed":n,...r,ref:e,"data-state":LN(n),onSelect:se(r.onSelect,()=>s==null?void 0:s(vg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});XL.displayName=Yoe;var JL="MenuRadioGroup",[Qoe,Xoe]=Ul(JL,{value:void 0,onValueChange:()=>{}}),ZL=p.forwardRef((t,e)=>{const{value:n,onValueChange:s,...r}=t,o=Ft(s);return i.jsx(Qoe,{scope:t.__scopeMenu,value:n,onValueChange:o,children:i.jsx(MN,{...r,ref:e})})});ZL.displayName=JL;var e3="MenuRadioItem",t3=p.forwardRef((t,e)=>{const{value:n,...s}=t,r=Xoe(e3,t.__scopeMenu),o=n===r.value;return i.jsx(n3,{scope:t.__scopeMenu,checked:o,children:i.jsx(Bx,{role:"menuitemradio","aria-checked":o,...s,ref:e,"data-state":LN(o),onSelect:se(s.onSelect,()=>{var a;return(a=r.onValueChange)==null?void 0:a.call(r,n)},{checkForDefaultPrevented:!1})})})});t3.displayName=e3;var ON="MenuItemIndicator",[n3,Joe]=Ul(ON,{checked:!1}),s3=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:s,...r}=t,o=Joe(ON,n);return i.jsx(an,{present:s||vg(o.checked)||o.checked===!0,children:i.jsx(pe.span,{...r,ref:e,"data-state":LN(o.checked)})})});s3.displayName=ON;var Zoe="MenuSeparator",r3=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return i.jsx(pe.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});r3.displayName=Zoe;var eae="MenuArrow",i3=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,r=zx(n);return i.jsx(Yg,{...r,...s,ref:e})});i3.displayName=eae;var tae="MenuSub",[$de,o3]=Ul(tae),xd="MenuSubTrigger",a3=p.forwardRef((t,e)=>{const n=$l(xd,t.__scopeMenu),s=Pf(xd,t.__scopeMenu),r=o3(xd,t.__scopeMenu),o=RN(xd,t.__scopeMenu),a=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:t.__scopeMenu},d=p.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),i.jsx(IN,{asChild:!0,...u,children:i.jsx(QL,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":u3(n.open),...t,ref:Ug(e,r.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(t.onPointerMove,Vh(h=>{o.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:se(t.onPointerLeave,Vh(h=>{var g,y;d();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const x=(y=n.content)==null?void 0:y.dataset.side,w=x==="right",v=w?-5:5,j=m[w?"left":"right"],b=m[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:j,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:j,y:m.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:se(t.onKeyDown,h=>{var g;const m=o.searchRef.current!=="";t.disabled||m&&h.key===" "||Moe[s.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});a3.displayName=xd;var l3="MenuSubContent",c3=p.forwardRef((t,e)=>{const n=qL(Bs,t.__scopeMenu),{forceMount:s=n.forceMount,...r}=t,o=$l(Bs,t.__scopeMenu),a=Pf(Bs,t.__scopeMenu),l=o3(l3,t.__scopeMenu),c=p.useRef(null),u=Ie(e,c);return i.jsx(Lh.Provider,{scope:t.__scopeMenu,children:i.jsx(an,{present:s||o.open,children:i.jsx(Lh.Slot,{scope:t.__scopeMenu,children:i.jsx(DN,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:se(t.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:se(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:se(t.onKeyDown,d=>{var g;const h=d.currentTarget.contains(d.target),m=Ooe[a.dir].includes(d.key);h&&m&&(o.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});c3.displayName=l3;function u3(t){return t?"open":"closed"}function vg(t){return t==="indeterminate"}function LN(t){return vg(t)?"indeterminate":t?"checked":"unchecked"}function nae(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function sae(t,e){return t.map((n,s)=>t[(e+s)%t.length])}function rae(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=sae(t,Math.max(o,0));r.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function iae(t,e){const{x:n,y:s}=t;let r=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const l=e[o],c=e[a],u=l.x,d=l.y,h=c.x,m=c.y;d>s!=m>s&&n<(h-u)*(s-d)/(m-d)+u&&(r=!r)}return r}function oae(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return iae(n,e)}function Vh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var aae=HL,lae=IN,cae=GL,uae=KL,dae=MN,hae=YL,fae=Bx,mae=XL,pae=ZL,gae=t3,xae=s3,yae=r3,vae=i3,wae=a3,bae=c3,Wx="DropdownMenu",[jae]=mn(Wx,[BL]),Qn=BL(),[Nae,d3]=jae(Wx),h3=t=>{const{__scopeDropdownMenu:e,children:n,dir:s,open:r,defaultOpen:o,onOpenChange:a,modal:l=!0}=t,c=Qn(e),u=p.useRef(null),[d,h]=Cs({prop:r,defaultProp:o??!1,onChange:a,caller:Wx});return i.jsx(Nae,{scope:e,triggerId:Ns(),triggerRef:u,contentId:Ns(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),modal:l,children:i.jsx(aae,{...c,open:d,onOpenChange:h,dir:s,modal:l,children:n})})};h3.displayName=Wx;var f3="DropdownMenuTrigger",m3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...r}=t,o=d3(f3,n),a=Qn(n);return i.jsx(lae,{asChild:!0,...a,children:i.jsx(pe.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:Ug(e,o.triggerRef),onPointerDown:se(t.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:se(t.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});m3.displayName=f3;var _ae="DropdownMenuPortal",p3=t=>{const{__scopeDropdownMenu:e,...n}=t,s=Qn(e);return i.jsx(cae,{...s,...n})};p3.displayName=_ae;var g3="DropdownMenuContent",x3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=d3(g3,n),o=Qn(n),a=p.useRef(!1);return i.jsx(uae,{id:r.contentId,"aria-labelledby":r.triggerId,...o,...s,ref:e,onCloseAutoFocus:se(t.onCloseAutoFocus,l=>{var c;a.current||(c=r.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:se(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!r.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});x3.displayName=g3;var Sae="DropdownMenuGroup",Eae=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Qn(n);return i.jsx(dae,{...r,...s,ref:e})});Eae.displayName=Sae;var Tae="DropdownMenuLabel",y3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Qn(n);return i.jsx(hae,{...r,...s,ref:e})});y3.displayName=Tae;var Cae="DropdownMenuItem",v3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Qn(n);return i.jsx(fae,{...r,...s,ref:e})});v3.displayName=Cae;var Aae="DropdownMenuCheckboxItem",w3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Qn(n);return i.jsx(mae,{...r,...s,ref:e})});w3.displayName=Aae;var Pae="DropdownMenuRadioGroup",Iae=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Qn(n);return i.jsx(pae,{...r,...s,ref:e})});Iae.displayName=Pae;var kae="DropdownMenuRadioItem",b3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Qn(n);return i.jsx(gae,{...r,...s,ref:e})});b3.displayName=kae;var Rae="DropdownMenuItemIndicator",j3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Qn(n);return i.jsx(xae,{...r,...s,ref:e})});j3.displayName=Rae;var Dae="DropdownMenuSeparator",N3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Qn(n);return i.jsx(yae,{...r,...s,ref:e})});N3.displayName=Dae;var Mae="DropdownMenuArrow",Oae=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Qn(n);return i.jsx(vae,{...r,...s,ref:e})});Oae.displayName=Mae;var Lae="DropdownMenuSubTrigger",_3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Qn(n);return i.jsx(wae,{...r,...s,ref:e})});_3.displayName=Lae;var Vae="DropdownMenuSubContent",S3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Qn(n);return i.jsx(bae,{...r,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});S3.displayName=Vae;var Fae=h3,Uae=m3,$ae=p3,E3=x3,T3=y3,C3=v3,A3=w3,P3=b3,I3=j3,k3=N3,R3=_3,D3=S3;const If=Fae,kf=Uae,zae=p.forwardRef(({className:t,inset:e,children:n,...s},r)=>i.jsxs(R3,{ref:r,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...s,children:[n,i.jsx(La,{className:"ml-auto h-4 w-4"})]}));zae.displayName=R3.displayName;const Bae=p.forwardRef(({className:t,...e},n)=>i.jsx(D3,{ref:n,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Bae.displayName=D3.displayName;const Iu=p.forwardRef(({className:t,sideOffset:e=4,...n},s)=>i.jsx($ae,{children:i.jsx(E3,{ref:s,sideOffset:e,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Iu.displayName=E3.displayName;const ei=p.forwardRef(({className:t,inset:e,...n},s)=>i.jsx(C3,{ref:s,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));ei.displayName=C3.displayName;const Wae=p.forwardRef(({className:t,children:e,checked:n,...s},r)=>i.jsxs(A3,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...s,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(I3,{children:i.jsx(dr,{className:"h-4 w-4"})})}),e]}));Wae.displayName=A3.displayName;const Hae=p.forwardRef(({className:t,children:e,...n},s)=>i.jsxs(P3,{ref:s,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(I3,{children:i.jsx(i9,{className:"h-2 w-2 fill-current"})})}),e]}));Hae.displayName=P3.displayName;const qae=p.forwardRef(({className:t,inset:e,...n},s)=>i.jsx(T3,{ref:s,className:ce("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));qae.displayName=T3.displayName;const Gae=p.forwardRef(({className:t,...e},n)=>i.jsx(k3,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",t),...e}));Gae.displayName=k3.displayName;const Kae=["50ml","100ml","150ml","250ml"],Yae=["Under 500","500 - 1000","Over 1000"],Qae=["10% - 20%","20% - 50%"],Xae=["Relevance","Price: Low to High","Price: High to Low","Name: A-Z","Name: Z-A"],Jae=()=>{const{toast:t}=Bi(),{isInWishlist:e,toggleWishlist:n}=_u(),{getActiveCollections:s,loading:r}=bf(),[o,a]=p.useState([]),[l,c]=p.useState(!0),[u,d]=p.useState([]),[h,m]=p.useState([]),[g,y]=p.useState([]),[x,w]=p.useState([]),[v,j]=p.useState("Relevance"),[b,C]=p.useState(!1),k=s(),I=k.map(M=>M.name);p.useEffect(()=>{const M=Ve(ue,"products"),$=bt(M,Fi("status","==","Active")),G=vt($,Z=>{const U=[];Z.forEach(q=>{var ve,Y,ye;const te=q.data();U.push({id:q.id,name:te.name||"",price:te.price||0,image:te.image||((ve=te.images)==null?void 0:ve[0])||"/placeholder.svg",images:te.images||[],category:te.category||"",status:te.status||"Active",stock:te.stock||0,discount:te.discount,size:te.size,tags:te.tags||[],createdAt:((ye=(Y=te.createdAt)==null?void 0:Y.toDate)==null?void 0:ye.call(Y))||new Date(0)})}),U.sort((q,te)=>{const ve=q.createdAt instanceof Date?q.createdAt.getTime():0;return(te.createdAt instanceof Date?te.createdAt.getTime():0)-ve}),a(U),c(!1)},Z=>{console.error("Error fetching products:",Z),c(!1)});return()=>G()},[]);const _=o.length,S=async(M,$)=>{M.preventDefault(),M.stopPropagation();try{await n({productId:$.id,name:$.name,price:$.price,image:$.image,discount:$.discount?`${$.discount}% OFF`:void 0}),e($.id)?t({title:"Removed from wishlist"}):t({title:"Added to wishlist!"})}catch(G){console.error("Error updating wishlist:",G),t({title:"Failed to update wishlist",variant:"destructive"})}},T=p.useMemo(()=>{let M=o.filter($=>!(u.length>0&&!u.includes($.category)||h.length>0&&$.size&&!h.includes($.size)||g.length>0&&!g.some(Z=>Z==="Under 500"?$.price<500:Z==="500 - 1000"?$.price>=500&&$.price<=1e3:Z==="Over 1000"?$.price>1e3:!0)||x.length>0&&!x.some(Z=>$.discount?Z==="10% - 20%"?$.discount>=10&&$.discount<=20:Z==="20% - 50%"?$.discount>20&&$.discount<=50:!0:!1)));switch(v){case"Price: Low to High":M=[...M].sort(($,G)=>$.price-G.price);break;case"Price: High to Low":M=[...M].sort(($,G)=>G.price-$.price);break;case"Name: A-Z":M=[...M].sort(($,G)=>$.name.localeCompare(G.name));break;case"Name: Z-A":M=[...M].sort(($,G)=>G.name.localeCompare($.name));break}return M},[o,u,h,g,x,v]),E=u.length>0||h.length>0||g.length>0||x.length>0,P=()=>{d([]),m([]),y([]),w([])},R=(M,$,G)=>{$.includes(M)?G($.filter(Z=>Z!==M)):G([...$,M])},D=M=>`${M.toLocaleString("en-IN")}`,[L,F]=p.useState(!1),B=(L?k:k.slice(0,3)).map((M,$)=>({name:M.name,slug:M.slug,image:M.image&&M.image!=="/placeholder.svg"?M.image:[mr,zo,Cw][$%3]})),V=()=>i.jsxs(i.Fragment,{children:[E&&i.jsxs("button",{onClick:P,className:"flex items-center gap-2 text-sm text-primary hover:text-primary/80 mb-6 transition-colors",children:[i.jsx(Ks,{className:"h-4 w-4"}),"Clear all filters"]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("h3",{className:"text-sm text-muted-foreground italic mb-4",children:["Categories (",u.length,")"]}),r?i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(De,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{className:"text-sm",children:"Loading..."})]}):I.length>0?i.jsx("div",{className:"space-y-3",children:I.map(M=>i.jsxs("button",{onClick:()=>R(M,u,d),className:"flex items-center gap-3 cursor-pointer group w-full text-left",children:[i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${u.includes(M)?"bg-primary border-primary":"border-border group-hover:border-primary/50"}`,children:u.includes(M)&&i.jsx("svg",{className:"w-3 h-3 text-primary-foreground",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),i.jsx("span",{className:"text-foreground",children:M})]},M))}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No categories available"})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("h3",{className:"text-sm text-muted-foreground italic mb-4",children:["Size (",h.length,")"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:Kae.map(M=>i.jsx("button",{onClick:()=>R(M,h,m),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${h.includes(M)?"bg-primary text-primary-foreground":"bg-secondary text-foreground hover:bg-secondary/80"}`,children:M},M))})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("h3",{className:"text-sm text-muted-foreground italic mb-4",children:["Price (",g.length,")"]}),i.jsx("div",{className:"space-y-3",children:Yae.map(M=>i.jsxs("button",{onClick:()=>R(M,g,y),className:"flex items-center gap-3 cursor-pointer group w-full text-left",children:[i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${g.includes(M)?"bg-primary border-primary":"border-border group-hover:border-primary/50"}`,children:g.includes(M)&&i.jsx("svg",{className:"w-3 h-3 text-primary-foreground",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),i.jsx("span",{className:"text-foreground",children:M})]},M))})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("h3",{className:"text-sm text-muted-foreground italic mb-4",children:["Discount (",x.length,")"]}),i.jsx("div",{className:"space-y-3",children:Qae.map(M=>i.jsxs("button",{onClick:()=>R(M,x,w),className:"flex items-center gap-3 cursor-pointer group w-full text-left",children:[i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${x.includes(M)?"bg-primary border-primary":"border-border group-hover:border-primary/50"}`,children:x.includes(M)&&i.jsx("svg",{className:"w-3 h-3 text-primary-foreground",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),i.jsx("span",{className:"text-foreground",children:M})]},M))})]})]});return i.jsxs("div",{className:"min-h-screen bg-warm-gray",children:[i.jsx(lt,{}),i.jsxs("main",{children:[i.jsx("section",{className:"pt-20 sm:pt-24 pb-8 sm:pb-12 text-center px-4",children:i.jsx("h1",{className:"font-heading text-[50px] sm:text-[80px] md:text-[120px] font-normal text-foreground",children:"Shop"})}),i.jsx("section",{className:"container-kanva pb-12 sm:pb-16 px-4 lg:px-8 xl:mx-40",children:r?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):B.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:B.map(M=>i.jsx(xe,{to:`/shop/${M.slug}`,className:"group block",children:i.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden rounded-2xl",children:[i.jsx("img",{src:M.image,alt:M.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:blur"}),i.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex items-center justify-between bg-white/80 px-5 rounded-lg py-3 backdrop-blur-sm ",children:[i.jsx("span",{className:"text-foreground text-lg font-medium",children:M.name}),i.jsx(zg,{className:"h-5 w-5 text-foreground transition-transform duration-300 group-hover:translate-x-1"})]})]})},M.name))}),k.length>3&&i.jsx("div",{className:"flex justify-center mt-6",children:i.jsx("button",{onClick:()=>F(!L),className:"flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-full font-medium hover:bg-primary/90 transition-all duration-300 hover:scale-105 active:scale-95",children:L?i.jsxs(i.Fragment,{children:["Show Less",i.jsx(Qa,{className:"h-4 w-4 rotate-180"})]}):i.jsxs(i.Fragment,{children:["View More (",k.length-3," more)",i.jsx(Qa,{className:"h-4 w-4"})]})})})]}):i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:i.jsx("p",{children:"No collections available. Add collections in the admin panel."})})}),i.jsxs("section",{className:"container-kanva pb-16 sm:pb-24 px-4 lg:px-8",children:[i.jsxs("div",{className:"flex flex-wrap items-start sm:items-center justify-between gap-3 sm:gap-4 mb-6 sm:mb-8",children:[i.jsx("h2",{className:"font-heading text-2xl italic text-foreground hidden lg:block",children:"Filters"}),i.jsxs(Su,{open:b,onOpenChange:C,children:[i.jsx(uM,{asChild:!0,children:i.jsxs("button",{className:"lg:hidden flex items-center gap-2 px-4 py-2 bg-secondary rounded-full text-foreground",children:[i.jsx(i2,{className:"h-4 w-4"}),i.jsx("span",{children:"Filters"})]})}),i.jsxs(Ll,{side:"left",className:"w-80 overflow-y-auto",children:[i.jsx(Vl,{children:i.jsx(Fl,{className:"font-heading text-2xl italic",children:"Filters"})}),i.jsx("div",{className:"mt-6",children:i.jsx(V,{})})]})]}),i.jsxs("nav",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[i.jsx(xe,{to:"/",className:"hover:text-foreground",children:"Home"}),i.jsx("span",{children:">"}),i.jsx("span",{className:"text-foreground underline",children:"Shop"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-muted-foreground hidden sm:inline",children:"Sort by"}),i.jsxs(If,{children:[i.jsxs(kf,{className:"flex items-center gap-1 text-sm font-medium text-foreground px-3 py-2 bg-secondary rounded-full sm:bg-transparent sm:p-0",children:[v,i.jsx(Qa,{className:"h-4 w-4"})]}),i.jsx(Iu,{align:"end",children:Xae.map(M=>i.jsx(ei,{onClick:()=>j(M),className:v===M?"bg-secondary":"",children:M},M))})]})]})]}),i.jsxs("div",{className:"flex gap-12",children:[i.jsx("aside",{className:"w-64 flex-shrink-0 hidden lg:block",children:i.jsx(V,{})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:["Showing ",T.length," of ",_," products"]}),l?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):T.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6",children:T.map(M=>i.jsxs(xe,{to:`/shop/product/${M.id}`,className:"group","data-testid":`product-card-${M.id}`,children:[i.jsxs("div",{className:"relative bg-secondary rounded-2xl overflow-hidden aspect-square mb-4",children:[i.jsx("button",{className:"absolute top-4 left-4 z-10 p-2 text-muted-foreground hover:text-foreground transition-colors",onClick:$=>S($,M),"data-testid":`button-wishlist-${M.id}`,children:i.jsx(bs,{className:`h-5 w-5 ${e(M.id)?"fill-primary text-primary":""}`})}),M.discount&&i.jsxs("span",{className:"absolute top-4 right-4 z-10 bg-primary text-primary-foreground text-xs font-medium px-3 py-1.5 rounded-full",children:[M.discount,"% OFF"]}),i.jsx("img",{src:M.image,alt:M.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onError:$=>{$.target.src="/placeholder.svg"}})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"font-heading text-xl mb-1 text-foreground",children:M.name}),i.jsx("span",{className:"text-muted-foreground",children:D(M.price)})]})]},M.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"No products found"}),E&&i.jsx("button",{onClick:P,className:"text-primary hover:underline",children:"Clear all filters"})]})]})]})]})]}),i.jsx(ct,{})]})},Zae=["After Sun","All Skin","Body","Daily","Detox","Dry","Evening","Face","Gentle","Hydrating"],ele=["50ml","100ml","150ml","250ml"],tle=["Under 500","500 - 1000","Over 1000"],nle=["Relevance","Price: Low to High","Price: High to Low","Name: A-Z","Name: Z-A"],sle=["10% - 20%","20% - 50%"],rle=()=>{const{toast:t}=Bi(),{category:e}=A1(),{addToCart:n}=Ol(),{isInWishlist:s,toggleWishlist:r}=_u(),{collections:o,loading:a}=bf(),[l,c]=p.useState([]),[u,d]=p.useState(!0),[h,m]=p.useState([]),[g,y]=p.useState([]),[x,w]=p.useState([]),[v,j]=p.useState([]),[b,C]=p.useState("Relevance"),[k,I]=p.useState(!1),[_,S]=p.useState({}),T=p.useMemo(()=>{if(!e)return null;const U=o.find(q=>q.slug===e.toLowerCase()||q.name.toLowerCase()===e.toLowerCase());return U?{title:U.name,description:U.description||`Explore our ${U.name} collection`,heroImage:U.image&&U.image!=="/placeholder.svg"?U.image:mr,categoryName:U.name}:null},[e,o]);p.useEffect(()=>{if(!(T!=null&&T.categoryName)){d(!1);return}const U=Ve(ue,"products"),q=bt(U,Fi("status","==","Active"),Fi("category","==",T.categoryName)),te=vt(q,ve=>{const Y=[];ve.forEach(ye=>{var Se;const we=ye.data();Y.push({id:ye.id,name:we.name||"",price:we.price||0,image:we.image||((Se=we.images)==null?void 0:Se[0])||"/placeholder.svg",images:we.images||[],category:we.category||"",status:we.status||"Active",stock:we.stock||0,discount:we.discount,size:we.size,sizes:we.sizes||(we.size?[{size:we.size,price:we.price}]:[]),tags:we.tags||[]})}),c(Y),d(!1)},ve=>{console.error("Error fetching category products:",ve),d(!1)});return()=>te()},[T==null?void 0:T.categoryName]);const E=U=>_[U]||{size:null,quantity:1},P=(U,q)=>{S(te=>({...te,[U]:{...E(U),size:q}}))},R=(U,q)=>{S(te=>({...te,[U]:{...E(U),quantity:Math.max(1,q)}}))},D=async U=>{const q=E(U.id);if(!q.size){t({title:"Please select a size",variant:"destructive"});return}try{await n({productId:U.id,name:`${U.name} (${q.size})`,price:U.price,image:U.image,discount:U.discount?`${U.discount}% OFF`:void 0},q.quantity),t({title:"Added to cart",description:`${U.name} (${q.size}) x${q.quantity}`})}catch(te){console.error("Error adding to cart:",te),t({title:"Failed to add to cart",variant:"destructive"})}},L=async(U,q)=>{U.preventDefault(),U.stopPropagation();try{await r({productId:q.id,name:q.name,price:q.price,image:q.image,discount:q.discount?`${q.discount}% OFF`:void 0}),s(q.id)?t({title:"Removed from wishlist"}):t({title:"Added to wishlist!"})}catch(te){console.error("Error updating wishlist:",te),t({title:"Failed to update wishlist",variant:"destructive"})}},F=l.length,W=p.useMemo(()=>{let U=l.filter(q=>!(h.length>0&&q.tags&&!h.some(te=>{var ve;return(ve=q.tags)==null?void 0:ve.includes(te)})||g.length>0&&q.size&&!g.includes(q.size)||x.length>0&&!x.some(ve=>ve==="Under 500"?q.price<500:ve==="500 - 1000"?q.price>=500&&q.price<=1e3:ve==="Over 1000"?q.price>1e3:!0)||v.length>0&&!v.some(ve=>q.discount?ve==="10% - 20%"?q.discount>=10&&q.discount<=20:ve==="20% - 50%"?q.discount>20&&q.discount<=50:!0:!1)));switch(b){case"Price: Low to High":U=[...U].sort((q,te)=>q.price-te.price);break;case"Price: High to Low":U=[...U].sort((q,te)=>te.price-q.price);break;case"Name: A-Z":U=[...U].sort((q,te)=>q.name.localeCompare(te.name));break;case"Name: Z-A":U=[...U].sort((q,te)=>te.name.localeCompare(q.name));break}return U},[l,h,g,x,v,b]),B=h.length>0||g.length>0||x.length>0||v.length>0,V=()=>{m([]),y([]),w([]),j([])},M=(U,q,te)=>{q.includes(U)?te(q.filter(ve=>ve!==U)):te([...q,U])},$=()=>{var U;(U=document.getElementById("products-section"))==null||U.scrollIntoView({behavior:"smooth"})},G=U=>`${U.toLocaleString("en-IN")}`,Z=()=>i.jsxs(i.Fragment,{children:[B&&i.jsxs("button",{onClick:V,className:"flex items-center gap-2 text-sm text-primary hover:text-primary/80 mb-6 transition-colors",children:[i.jsx(Ks,{className:"h-4 w-4"}),"Clear all filters"]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("h3",{className:"text-sm text-muted-foreground italic mb-4",children:["Tags (",h.length,")"]}),i.jsx("div",{className:"max-h-48 overflow-y-auto pr-2 space-y-2 scrollbar-thin",children:Zae.map(U=>i.jsxs("button",{onClick:()=>M(U,h,m),className:"flex items-center gap-3 cursor-pointer group w-full text-left",children:[i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${h.includes(U)?"bg-primary border-primary":"border-border group-hover:border-primary/50"}`,children:h.includes(U)&&i.jsx("svg",{className:"w-3 h-3 text-primary-foreground",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),i.jsx("span",{className:"text-foreground",children:U})]},U))})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("h3",{className:"text-sm text-muted-foreground italic mb-4",children:["Size (",g.length,")"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:ele.map(U=>i.jsx("button",{onClick:()=>M(U,g,y),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${g.includes(U)?"bg-primary text-primary-foreground":"bg-secondary text-foreground hover:bg-secondary/80"}`,children:U},U))})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("h3",{className:"text-sm text-muted-foreground italic mb-4",children:["Price (",x.length,")"]}),i.jsx("div",{className:"space-y-3",children:tle.map(U=>i.jsxs("button",{onClick:()=>M(U,x,w),className:"flex items-center gap-3 cursor-pointer group w-full text-left",children:[i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${x.includes(U)?"bg-primary border-primary":"border-border group-hover:border-primary/50"}`,children:x.includes(U)&&i.jsx("svg",{className:"w-3 h-3 text-primary-foreground",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),i.jsx("span",{className:"text-foreground",children:U})]},U))})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("h3",{className:"text-sm text-muted-foreground italic mb-4",children:["Discount (",v.length,")"]}),i.jsx("div",{className:"space-y-3",children:sle.map(U=>i.jsxs("button",{onClick:()=>M(U,v,j),className:"flex items-center gap-3 cursor-pointer group w-full text-left",children:[i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${v.includes(U)?"bg-primary border-primary":"border-border group-hover:border-primary/50"}`,children:v.includes(U)&&i.jsx("svg",{className:"w-3 h-3 text-primary-foreground",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),i.jsx("span",{className:"text-foreground",children:U})]},U))})]})]});return a?i.jsxs("div",{className:"min-h-screen bg-warm-gray",children:[i.jsx(lt,{}),i.jsx("main",{className:"pt-24 pb-12 flex items-center justify-center",children:i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),i.jsx(ct,{})]}):T?i.jsxs("div",{className:"min-h-screen bg-warm-gray",children:[i.jsx(lt,{}),i.jsxs("main",{children:[i.jsxs("section",{className:"relative h-[70vh] min-h-[500px] overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("img",{src:T.heroImage,alt:T.title,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-foreground/40 to-transparent"})]}),i.jsxs("div",{className:"relative container-kanva h-full flex flex-col justify-end pb-16",children:[i.jsx("h1",{className:"font-heading text-[64px] md:text-[96px] text-background font-normal leading-none mb-4",children:T.title}),i.jsx("p",{className:"text-background/90 text-lg md:text-xl max-w-xl mb-8",children:T.description}),i.jsxs("button",{onClick:$,className:"flex items-center gap-2 text-background hover:text-background/80 transition-colors group",children:[i.jsx("span",{className:"text-lg italic",children:"Explore Collection"}),i.jsx(L$,{className:"h-5 w-5 group-hover:translate-y-1 transition-transform"})]})]})]}),i.jsxs("section",{id:"products-section",className:"container-kanva py-16",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-8",children:[i.jsx("h2",{className:"font-heading text-2xl italic text-foreground hidden lg:block",children:"Filters"}),i.jsxs(Su,{open:k,onOpenChange:I,children:[i.jsx(uM,{asChild:!0,children:i.jsxs("button",{className:"lg:hidden flex items-center gap-2 px-4 py-2 bg-secondary rounded-full text-foreground",children:[i.jsx(i2,{className:"h-4 w-4"}),i.jsx("span",{children:"Filters"})]})}),i.jsxs(Ll,{side:"left",className:"w-80 overflow-y-auto",children:[i.jsx(Vl,{children:i.jsx(Fl,{className:"font-heading text-2xl italic",children:"Filters"})}),i.jsx("div",{className:"mt-6",children:i.jsx(Z,{})})]})]}),i.jsxs("nav",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[i.jsx(xe,{to:"/",className:"hover:text-foreground",children:"Home"}),i.jsx("span",{children:">"}),i.jsx(xe,{to:"/shop",className:"hover:text-foreground",children:"Shop"}),i.jsx("span",{children:">"}),i.jsx("span",{className:"text-foreground underline",children:T.title})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-muted-foreground hidden sm:inline",children:"Sort by"}),i.jsxs(If,{children:[i.jsxs(kf,{className:"flex items-center gap-1 text-sm font-medium text-foreground px-3 py-2 bg-secondary rounded-full sm:bg-transparent sm:p-0",children:[b,i.jsx(Qa,{className:"h-4 w-4"})]}),i.jsx(Iu,{align:"end",children:nle.map(U=>i.jsx(ei,{onClick:()=>C(U),className:b===U?"bg-secondary":"",children:U},U))})]})]})]}),i.jsxs("div",{className:"flex gap-12",children:[i.jsx("aside",{className:"w-64 flex-shrink-0 hidden lg:block",children:i.jsx(Z,{})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:["Showing ",W.length," of ",F," products"]}),u?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):W.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6",children:W.map(U=>{const q=E(U.id);return i.jsxs("div",{className:"group","data-testid":`product-card-${U.id}`,children:[i.jsx(xe,{to:`/shop/product/${U.id}`,children:i.jsxs("div",{className:"relative bg-secondary rounded-2xl overflow-hidden aspect-square mb-4",children:[i.jsx("button",{className:"absolute top-4 left-4 z-10 p-2 text-muted-foreground hover:text-foreground transition-colors",onClick:te=>L(te,U),"data-testid":`button-wishlist-${U.id}`,children:i.jsx(bs,{className:`h-5 w-5 ${s(U.id)?"fill-primary text-primary":""}`})}),U.discount&&i.jsxs("span",{className:"absolute top-4 right-4 z-10 bg-primary text-primary-foreground text-xs font-medium px-3 py-1.5 rounded-full",children:[U.discount,"% OFF"]}),i.jsx("img",{src:U.image,alt:U.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onError:te=>{te.target.src="/placeholder.svg"}})]})}),i.jsxs("div",{className:"text-center space-y-3",children:[i.jsxs(xe,{to:`/shop/product/${U.id}`,children:[i.jsx("h3",{className:"font-heading text-xl mb-1 text-foreground",children:U.name}),i.jsx("span",{className:"text-muted-foreground",children:G(U.price)})]}),U.sizes&&U.sizes.length>0&&i.jsx("div",{className:"flex justify-center gap-2 flex-wrap",children:U.sizes.map(te=>i.jsx("button",{onClick:()=>P(U.id,te.size),className:`px-3 py-1 text-xs rounded-full border transition-colors ${q.size===te.size?"bg-primary text-primary-foreground border-primary":"bg-background border-border text-foreground hover:border-primary/50"}`,children:te.size},te.size))}),q.size?i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsxs("div",{className:"flex items-center border border-border rounded-lg overflow-hidden",children:[i.jsx("button",{onClick:()=>R(U.id,q.quantity-1),className:"p-2 bg-secondary hover:bg-secondary/80 transition-colors",children:i.jsx(u1,{className:"h-3 w-3"})}),i.jsx("span",{className:"px-3 text-sm font-medium text-foreground",children:q.quantity}),i.jsx("button",{onClick:()=>R(U.id,q.quantity+1),className:"p-2 bg-secondary hover:bg-secondary/80 transition-colors",children:i.jsx(js,{className:"h-3 w-3"})})]}),i.jsx("button",{onClick:()=>D(U),className:"px-4 py-2 bg-primary text-primary-foreground text-sm font-medium rounded-lg hover:bg-primary/90 transition-colors","data-testid":`button-add-to-cart-${U.id}`,children:"Add to Cart"})]}):i.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Select a size"})]})]},U.id)})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"No products found in this category"}),B&&i.jsx("button",{onClick:V,className:"text-primary hover:underline",children:"Clear all filters"})]})]})]})]})]}),i.jsx(ct,{})]}):i.jsxs("div",{className:"min-h-screen bg-warm-gray",children:[i.jsx(lt,{}),i.jsxs("main",{className:"pt-24 pb-12 text-center",children:[i.jsx("h1",{className:"font-heading text-4xl text-foreground mb-4",children:"Category not found"}),i.jsxs("p",{className:"text-muted-foreground mb-6",children:['The category "',e,`" doesn't exist.`]}),i.jsx(xe,{to:"/shop",className:"text-primary hover:underline",children:"Browse all products"})]}),i.jsx(ct,{})]})};var Hx="Collapsible",[ile,M3]=mn(Hx),[ole,VN]=ile(Hx),O3=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:s,defaultOpen:r,disabled:o,onOpenChange:a,...l}=t,[c,u]=Cs({prop:s,defaultProp:r??!1,onChange:a,caller:Hx});return i.jsx(ole,{scope:n,disabled:o,contentId:Ns(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:i.jsx(pe.div,{"data-state":UN(c),"data-disabled":o?"":void 0,...l,ref:e})})});O3.displayName=Hx;var L3="CollapsibleTrigger",V3=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,...s}=t,r=VN(L3,n);return i.jsx(pe.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":UN(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...s,ref:e,onClick:se(t.onClick,r.onOpenToggle)})});V3.displayName=L3;var FN="CollapsibleContent",F3=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=VN(FN,t.__scopeCollapsible);return i.jsx(an,{present:n||r.open,children:({present:o})=>i.jsx(ale,{...s,ref:e,present:o})})});F3.displayName=FN;var ale=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:s,children:r,...o}=t,a=VN(FN,n),[l,c]=p.useState(s),u=p.useRef(null),d=Ie(e,u),h=p.useRef(0),m=h.current,g=p.useRef(0),y=g.current,x=a.open||l,w=p.useRef(x),v=p.useRef(void 0);return p.useEffect(()=>{const j=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(j)},[]),$t(()=>{const j=u.current;if(j){v.current=v.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const b=j.getBoundingClientRect();h.current=b.height,g.current=b.width,w.current||(j.style.transitionDuration=v.current.transitionDuration,j.style.animationName=v.current.animationName),c(s)}},[a.open,s]),i.jsx(pe.div,{"data-state":UN(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!x,...o,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:x&&r})});function UN(t){return t?"open":"closed"}var lle=O3,cle=V3,ule=F3,Tr="Accordion",dle=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[$N,hle,fle]=Gh(Tr),[qx]=mn(Tr,[fle,M3]),zN=M3(),U3=ee.forwardRef((t,e)=>{const{type:n,...s}=t,r=s,o=s;return i.jsx($N.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?i.jsx(xle,{...o,ref:e}):i.jsx(gle,{...r,ref:e})})});U3.displayName=Tr;var[$3,mle]=qx(Tr),[z3,ple]=qx(Tr,{collapsible:!1}),gle=ee.forwardRef((t,e)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},collapsible:o=!1,...a}=t,[l,c]=Cs({prop:n,defaultProp:s??"",onChange:r,caller:Tr});return i.jsx($3,{scope:t.__scopeAccordion,value:ee.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:ee.useCallback(()=>o&&c(""),[o,c]),children:i.jsx(z3,{scope:t.__scopeAccordion,collapsible:o,children:i.jsx(B3,{...a,ref:e})})})}),xle=ee.forwardRef((t,e)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},...o}=t,[a,l]=Cs({prop:n,defaultProp:s??[],onChange:r,caller:Tr}),c=ee.useCallback(d=>l((h=[])=>[...h,d]),[l]),u=ee.useCallback(d=>l((h=[])=>h.filter(m=>m!==d)),[l]);return i.jsx($3,{scope:t.__scopeAccordion,value:a,onItemOpen:c,onItemClose:u,children:i.jsx(z3,{scope:t.__scopeAccordion,collapsible:!0,children:i.jsx(B3,{...o,ref:e})})})}),[yle,Gx]=qx(Tr),B3=ee.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:s,dir:r,orientation:o="vertical",...a}=t,l=ee.useRef(null),c=Ie(l,e),u=hle(n),h=Tu(r)==="ltr",m=se(t.onKeyDown,g=>{var S;if(!dle.includes(g.key))return;const y=g.target,x=u().filter(T=>{var E;return!((E=T.ref.current)!=null&&E.disabled)}),w=x.findIndex(T=>T.ref.current===y),v=x.length;if(w===-1)return;g.preventDefault();let j=w;const b=0,C=v-1,k=()=>{j=w+1,j>C&&(j=b)},I=()=>{j=w-1,j<b&&(j=C)};switch(g.key){case"Home":j=b;break;case"End":j=C;break;case"ArrowRight":o==="horizontal"&&(h?k():I());break;case"ArrowDown":o==="vertical"&&k();break;case"ArrowLeft":o==="horizontal"&&(h?I():k());break;case"ArrowUp":o==="vertical"&&I();break}const _=j%v;(S=x[_].ref.current)==null||S.focus()});return i.jsx(yle,{scope:n,disabled:s,direction:r,orientation:o,children:i.jsx($N.Slot,{scope:n,children:i.jsx(pe.div,{...a,"data-orientation":o,ref:c,onKeyDown:s?void 0:m})})})}),wg="AccordionItem",[vle,BN]=qx(wg),W3=ee.forwardRef((t,e)=>{const{__scopeAccordion:n,value:s,...r}=t,o=Gx(wg,n),a=mle(wg,n),l=zN(n),c=Ns(),u=s&&a.value.includes(s)||!1,d=o.disabled||t.disabled;return i.jsx(vle,{scope:n,open:u,disabled:d,triggerId:c,children:i.jsx(lle,{"data-orientation":o.orientation,"data-state":Q3(u),...l,...r,ref:e,disabled:d,open:u,onOpenChange:h=>{h?a.onItemOpen(s):a.onItemClose(s)}})})});W3.displayName=wg;var H3="AccordionHeader",q3=ee.forwardRef((t,e)=>{const{__scopeAccordion:n,...s}=t,r=Gx(Tr,n),o=BN(H3,n);return i.jsx(pe.h3,{"data-orientation":r.orientation,"data-state":Q3(o.open),"data-disabled":o.disabled?"":void 0,...s,ref:e})});q3.displayName=H3;var Jw="AccordionTrigger",G3=ee.forwardRef((t,e)=>{const{__scopeAccordion:n,...s}=t,r=Gx(Tr,n),o=BN(Jw,n),a=ple(Jw,n),l=zN(n);return i.jsx($N.ItemSlot,{scope:n,children:i.jsx(cle,{"aria-disabled":o.open&&!a.collapsible||void 0,"data-orientation":r.orientation,id:o.triggerId,...l,...s,ref:e})})});G3.displayName=Jw;var K3="AccordionContent",Y3=ee.forwardRef((t,e)=>{const{__scopeAccordion:n,...s}=t,r=Gx(Tr,n),o=BN(K3,n),a=zN(n);return i.jsx(ule,{role:"region","aria-labelledby":o.triggerId,"data-orientation":r.orientation,...a,...s,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});Y3.displayName=K3;function Q3(t){return t?"open":"closed"}var wle=U3,ble=W3,jle=q3,X3=G3,J3=Y3;const Zw=wle,Pa=p.forwardRef(({className:t,...e},n)=>i.jsx(ble,{ref:n,className:ce("border-b",t),...e}));Pa.displayName="AccordionItem";const Ia=p.forwardRef(({className:t,children:e,...n},s)=>i.jsx(jle,{className:"flex",children:i.jsxs(X3,{ref:s,className:ce("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,i.jsx(Qa,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Ia.displayName=X3.displayName;const ka=p.forwardRef(({className:t,children:e,...n},s)=>i.jsx(J3,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:i.jsx("div",{className:ce("pb-4 pt-0",t),children:e})}));ka.displayName=J3.displayName;const Nle=[{icon:ll,label:`100%
Natural`},{icon:n2,label:"Cruelty Free"},{icon:ll,label:"Eco Friendly"},{icon:z$,label:`Expert
Approved`}],_le=[{icon:ll,title:"Natural Formula",description:"Crafted with pure, skin-loving ingredients for ultimate care."},{icon:n2,title:"Cruelty-Free",description:"Our products are never tested on animals, guaranteed ethical."},{icon:yn,title:"Expert Approved",description:"Carefully tested to ensure safety and visible results."},{icon:wr,title:"Paid Shipping",description:"Delivered to your doorstep with extra costs worldwide."}],Sle=[{question:"What skin types are your products suitable for?",answer:"Our products are formulated for all skin types, including sensitive skin. Each product is dermatologically tested."},{question:"Are your products cruelty-free and vegan?",answer:"Yes, all our products are 100% cruelty-free and vegan. We never test on animals."},{question:"How do I use this product for the best results?",answer:"Apply a small amount to clean skin morning and evening. Gently massage in circular motions until absorbed."},{question:"What ingredients are in this product?",answer:"Our products contain natural ingredients including aloe vera, vitamin E, hyaluronic acid, and botanical extracts."},{question:"Can I use this product if I have sensitive skin?",answer:"Yes, our formulas are gentle and suitable for sensitive skin. We recommend doing a patch test first."}],Ele=()=>{var S,T;const{id:t}=A1(),[e,n]=p.useState(null),[s,r]=p.useState([]),[o,a]=p.useState(!0),[l,c]=p.useState(null),[u,d]=p.useState(1),[h,m]=p.useState(0),{addToCart:g}=Ol(),{isInWishlist:y,toggleWishlist:x}=_u(),{toast:w}=Bi();if(p.useEffect(()=>{(async()=>{var P;if(t){a(!0);try{const R=Ue(ue,"products",t),D=await mf(R);if(D.exists()){const L=D.data(),F={id:D.id,name:L.name||"",price:L.price||0,category:L.category||"",stock:L.stock||0,status:L.status||"Active",images:L.images||[],image:L.image||((P=L.images)==null?void 0:P[0])||"",description:L.description||"",size:L.size||"",sizes:L.sizes||[],details:L.details||"",howToUse:L.howToUse||"",ingredients:L.ingredients||"",deliveryReturn:L.deliveryReturn||"",discount:L.discount||""};if(n(F),F.category){const W=bt(Ve(ue,"products"),Fi("category","==",F.category),ff(4)),B=await Ml(W),V=[];B.forEach(M=>{var $;if(M.id!==t){const G=M.data();V.push({id:M.id,name:G.name||"",price:G.price||0,category:G.category||"",stock:G.stock||0,status:G.status||"Active",images:G.images||[],image:G.image||(($=G.images)==null?void 0:$[0])||"",description:G.description||"",size:G.size||"",sizes:G.sizes||[],details:G.details||"",howToUse:G.howToUse||"",ingredients:G.ingredients||"",deliveryReturn:G.deliveryReturn||"",discount:G.discount||""})}}),r(V.slice(0,3))}}}catch(R){console.error("Error fetching product:",R),w({title:"Error loading product",variant:"destructive"})}finally{a(!1)}}})()},[t,w]),o)return i.jsxs("div",{className:"min-h-screen bg-warm-gray",children:[i.jsx(lt,{}),i.jsx("main",{className:"pt-20 flex items-center justify-center min-h-[60vh]",children:i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),i.jsx(ct,{})]});if(!e)return i.jsxs("div",{className:"min-h-screen bg-warm-gray",children:[i.jsx(lt,{}),i.jsxs("main",{className:"pt-20 flex flex-col items-center justify-center min-h-[60vh]",children:[i.jsx("h1",{className:"text-2xl font-heading mb-4",children:"Product Not Found"}),i.jsx(xe,{to:"/shop",className:"text-primary hover:underline",children:"Browse our products"})]}),i.jsx(ct,{})]});const v=y(e.id),j=((S=e.images)==null?void 0:S.length)>0?e.images:[e.image],b=e.sizes&&e.sizes.length>0?e.sizes:e.size?[{size:e.size,price:e.price}]:[{size:"Standard",price:e.price}],C=b.find(E=>E.size===l),k=C?C.price:((T=b[0])==null?void 0:T.price)||e.price,I=async()=>{if(!l){w({title:"Please select a size",variant:"destructive"});return}try{const E=(C==null?void 0:C.price)||e.price;await g({productId:e.id,name:`${e.name} (${l})`,price:E,image:e.image,discount:e.discount},u),w({title:"Added to cart!",description:`${e.name} x${u}`})}catch(E){console.error("Error adding to cart:",E),w({title:"Failed to add to cart",description:"Please try again",variant:"destructive"})}},_=async()=>{try{const E=v;await x({productId:e.id,name:e.name,price:e.price,image:e.image,discount:e.discount}),w(E?{title:"Removed from wishlist"}:{title:"Added to wishlist!"})}catch(E){console.error("Error updating wishlist:",E),w({title:"Failed to update wishlist",description:"Please try again",variant:"destructive"})}};return i.jsxs("div",{className:"min-h-screen bg-warm-gray",children:[i.jsx(lt,{}),i.jsxs("main",{className:"pt-20",children:[i.jsx("div",{className:"container-kanva py-6",children:i.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(xe,{to:"/",className:"hover:text-foreground transition-colors",children:"Home"}),i.jsx("span",{children:">"}),i.jsx(xe,{to:"/shop",className:"hover:text-foreground transition-colors",children:"Shop"}),i.jsx("span",{children:">"}),i.jsx("span",{className:"text-foreground underline",children:e.name})]})}),i.jsx("section",{className:"container-kanva pb-16",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-16",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative bg-secondary rounded-3xl overflow-hidden aspect-square",children:[e.discount&&i.jsx("span",{className:"absolute top-6 right-20 z-10 bg-primary text-primary-foreground text-sm font-medium px-4 py-2 rounded-lg","data-testid":"text-discount",children:e.discount}),i.jsx("button",{onClick:_,className:"absolute top-6 right-6 z-10 p-2 bg-background rounded-full text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-wishlist",children:i.jsx(bs,{className:`h-5 w-5 ${v?"fill-primary text-primary":""}`})}),i.jsx("img",{src:j[h]||e.image,alt:e.name,className:"w-full h-full object-cover"})]}),j.length>1&&i.jsx("div",{className:"flex justify-center gap-2",children:j.map((E,P)=>i.jsx("button",{onClick:()=>m(P),className:`w-16 h-16 rounded-lg overflow-hidden border-2 transition-colors ${h===P?"border-primary":"border-transparent"}`,"data-testid":`button-thumbnail-${P}`,children:i.jsx("img",{src:E,alt:"",className:"w-full h-full object-cover"})},P))})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-xl sm:text-2xl text-foreground font-semibold","data-testid":"text-price",children:["",k.toFixed(2)]}),i.jsx("h1",{className:"font-heading text-2xl sm:text-3xl md:text-4xl lg:text-5xl text-foreground leading-tight","data-testid":"text-product-name",children:e.name}),i.jsx("p",{className:"text-muted-foreground text-sm sm:text-base lg:text-lg leading-relaxed","data-testid":"text-description",children:e.description}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("span",{className:"text-foreground font-medium text-sm sm:text-base",children:"Size"}),i.jsx("div",{className:"flex gap-2 sm:gap-3 flex-wrap",children:b.map(E=>i.jsxs("button",{onClick:()=>c(E.size),className:`px-3 sm:px-5 py-2 rounded-lg border text-sm sm:text-base transition-all duration-200 active:scale-95 ${l===E.size?"bg-primary text-primary-foreground border-primary shadow-md":"bg-background border-border text-foreground hover:border-primary/50 hover:shadow-sm"}`,"data-testid":`button-size-${E.size}`,children:[i.jsx("span",{children:E.size}),b.length>1&&i.jsxs("span",{className:"ml-1 sm:ml-2 text-xs sm:text-sm opacity-80",children:["",E.price]})]},E.size))})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center justify-center border border-border rounded-lg overflow-hidden",children:[i.jsx("button",{onClick:()=>d(Math.max(1,u-1)),className:"p-2.5 sm:p-3 bg-secondary hover:bg-secondary/80 transition-all duration-200 active:scale-95","data-testid":"button-decrease-qty",children:i.jsx(u1,{className:"h-4 w-4"})}),i.jsx("span",{className:"w-12 sm:w-14 text-center text-foreground font-medium","data-testid":"text-quantity",children:u}),i.jsx("button",{onClick:()=>d(u+1),className:"p-2.5 sm:p-3 bg-secondary hover:bg-secondary/80 transition-all duration-200 active:scale-95","data-testid":"button-increase-qty",children:i.jsx(js,{className:"h-4 w-4"})})]}),i.jsx("button",{onClick:I,className:`flex-1 py-3 px-6 sm:px-8 rounded-full font-medium text-sm sm:text-base transition-all duration-300 active:scale-95 ${l?"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-lg":"bg-secondary text-foreground hover:bg-secondary/80"}`,"data-testid":"button-add-to-cart",children:l?"Add to Cart":"Select Size"})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3",children:Nle.map((E,P)=>i.jsxs("div",{className:"flex flex-col items-center justify-center p-3 sm:p-4 bg-background rounded-xl border border-border text-center hover:border-primary/30 hover:shadow-sm transition-all duration-200",children:[i.jsx(E.icon,{className:"h-4 w-4 sm:h-5 sm:w-5 mb-1.5 sm:mb-2 text-foreground"}),i.jsx("span",{className:"text-[10px] sm:text-xs text-foreground whitespace-pre-line leading-tight",children:E.label})]},P))}),i.jsxs(Zw,{type:"single",collapsible:!0,className:"w-full",children:[i.jsxs(Pa,{value:"details",className:"border-b border-border",children:[i.jsx(Ia,{className:"text-foreground font-medium py-4",children:"Details"}),i.jsx(ka,{className:"text-muted-foreground pb-4",children:e.details||"This premium skincare product is formulated with the finest natural ingredients to deliver exceptional results. Perfect for daily use, it absorbs quickly without leaving any residue."})]}),i.jsxs(Pa,{value:"how-to-use",className:"border-b border-border",children:[i.jsx(Ia,{className:"text-foreground font-medium py-4",children:"How to Use"}),i.jsx(ka,{className:"text-muted-foreground pb-4",children:e.howToUse||"Apply a small amount to clean, dry skin. Gently massage in circular motions until fully absorbed. Use morning and evening for best results."})]}),i.jsxs(Pa,{value:"ingredients",className:"border-b border-border",children:[i.jsx(Ia,{className:"text-foreground font-medium py-4",children:"Ingredients"}),i.jsx(ka,{className:"text-muted-foreground pb-4",children:e.ingredients||"Aqua, Aloe Barbadensis Leaf Juice, Glycerin, Hyaluronic Acid, Vitamin E, Jojoba Oil, Green Tea Extract, Chamomile Extract."})]}),i.jsxs(Pa,{value:"delivery",className:"border-b border-border",children:[i.jsx(Ia,{className:"text-foreground font-medium py-4",children:"Delivery & Returns"}),i.jsx(ka,{className:"text-muted-foreground pb-4",children:e.deliveryReturn||"Free shipping on orders over 50. Standard delivery 3-5 business days. Express delivery available. 14-day return policy for unopened products."})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-6 text-xs sm:text-sm",children:[i.jsxs(xe,{to:"/faq",className:"flex items-center gap-2 text-foreground hover:text-primary transition-colors",children:[i.jsx(o1,{className:"h-4 w-4 flex-shrink-0"}),"Frequently Asked Questions"]}),i.jsxs(xe,{to:"/contact",className:"flex items-center gap-2 text-foreground hover:text-primary transition-colors",children:[i.jsx(L9,{className:"h-4 w-4 flex-shrink-0"}),"Contact Support"]})]})]})]})}),i.jsx("section",{className:"container-kanva pb-16",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:_le.map((E,P)=>i.jsxs("div",{className:"bg-background rounded-2xl p-6 text-center",children:[i.jsx(E.icon,{className:"h-6 w-6 mx-auto mb-4 text-foreground"}),i.jsx("h3",{className:"font-heading text-lg mb-2 text-foreground",children:E.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:E.description})]},P))})}),i.jsx("section",{className:"container-kanva pb-16",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[i.jsx("div",{children:i.jsx("h2",{className:"font-heading text-4xl text-foreground",children:"FAQ"})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsx(Zw,{type:"single",collapsible:!0,className:"w-full space-y-3",children:Sle.map((E,P)=>i.jsxs(Pa,{value:`faq-${P}`,className:"bg-background rounded-2xl px-6 border-none",children:[i.jsx(Ia,{className:"text-foreground font-normal py-5 hover:no-underline",children:E.question}),i.jsx(ka,{className:"text-muted-foreground pb-5",children:E.answer})]},P))})})]})}),s.length>0&&i.jsxs("section",{className:"container-kanva pb-16",children:[i.jsx("h2",{className:"font-heading text-4xl italic text-foreground text-center mb-12",children:"You might like"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(E=>i.jsxs(xe,{to:`/shop/product/${E.id}`,className:"group","data-testid":`link-related-${E.id}`,children:[i.jsxs("div",{className:"relative bg-secondary rounded-2xl overflow-hidden aspect-square mb-4",children:[i.jsx("button",{className:"absolute top-4 left-4 z-10 p-2 text-muted-foreground hover:text-foreground transition-colors",onClick:P=>P.preventDefault(),children:i.jsx(bs,{className:"h-5 w-5"})}),i.jsx("img",{src:E.image,alt:E.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"font-heading text-xl mb-1 text-foreground",children:E.name}),i.jsxs("span",{className:"text-muted-foreground",children:["",E.price.toFixed(2)]})]})]},E.id))})]}),i.jsx("section",{className:"container-kanva pb-24",children:i.jsx("div",{className:"bg-sage rounded-3xl p-8 md:p-12 lg:p-16 relative overflow-hidden",children:i.jsxs("div",{className:"max-w-lg relative z-10",children:[i.jsx("h2",{className:"font-heading text-3xl md:text-4xl text-white mb-2",children:"Stay Updated,"}),i.jsx("h2",{className:"font-heading text-3xl md:text-4xl text-white/80 italic mb-4",children:"Stay Radiant"}),i.jsx("p",{className:"text-white/70 mb-8",children:"Be the first to know about new products, offers, and skincare tips."}),i.jsxs("div",{className:"flex bg-white rounded-full p-1.5 max-w-md",children:[i.jsx("input",{type:"email",placeholder:"Your Email",className:"flex-1 px-4 py-2 bg-transparent text-foreground placeholder:text-muted-foreground focus:outline-none","data-testid":"input-newsletter"}),i.jsx("button",{className:"px-6 py-2 bg-sage text-white rounded-full font-medium hover:bg-sage/90 transition-colors","data-testid":"button-subscribe",children:"Subscribe"})]})]})})})]}),i.jsx(ct,{})]})},Tle=[{value:"62%",label:"Natural Ingredients",description:"Pure, clean and ethically sourced skincare."},{value:"60%",label:"Customer Satisfaction",description:"Trusted by beauty-conscious customers worldwide."},{value:"53%",label:"Less Packaging",description:"Eco-friendly design for a greener planet."},{value:"6/10",label:"Recommend Us",description:"Loved and recommended by our customers."}],Cle=["100% Natural Ingredients","Sustainable Packaging","Cruelty-Free Commitment"],Ale=["Backed for Dermatologists","Powered by Natural Ingredients","Driven by Innovation"],Ple=[{icon:ll,title:"Natural Formula",description:"Crafted with pure, nurturing ingredients for skin that glows."},{icon:Bg,title:"Cruelty-Free",description:"Our products are never tested on animals, ever. Humane."},{icon:jn,title:"Expert Approved",description:"Carefully tested for skincare solutions with visible results."},{icon:wr,title:"Free Shipping",description:"Delivered to your doorstep fast free, within most locations."}],Ile=()=>i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(lt,{}),i.jsxs("main",{children:[i.jsxs("section",{className:"relative min-h-[100vh] bg-primary overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("img",{src:Vd,alt:"About Kanva",className:"w-full h-full object-cover opacity-60"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/80 to-primary/40"})]}),i.jsx("div",{className:"relative container-kanva section-padding flex items-center top-30 min-h-[60vh]",children:i.jsxs("div",{className:"max-w-xl",children:[i.jsxs("h1",{className:"text-h1 md:text-display font-heading text-primary-foreground mb-4",children:["Redefining",i.jsx("br",{}),i.jsx("span",{className:"italic",children:"Skincare"})]}),i.jsx("p",{className:"text-lg text-primary-foreground/80 leading-relaxed mb-6",children:"At Skyntales, we blend nature and science to create skincare that transforms, empowers, and respects the planet."}),i.jsxs(xe,{to:"/about",className:"text-primary-foreground flex items-center gap-2 hover:gap-3 transition-all",children:["Our Story ",i.jsx("span",{children:""})]})]})})]}),i.jsx("section",{className:"py-12 bg-secondary",children:i.jsx("div",{className:"container-kanva",children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:Tle.map(t=>i.jsxs("div",{className:"text-center p-10 rounded-2xl bg-background",children:[i.jsx("div",{className:"text-3xl md:text-4xl font-heading font-bold mb-2",children:t.value}),i.jsx("div",{className:"font-medium text-foreground mb-1",children:t.label}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]},t.label))})})}),i.jsx("section",{className:"section-padding bg-secondary",children:i.jsxs("div",{className:"container-kanva",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row items-start gap-8 mb-8",children:[i.jsx("div",{className:"lg:w-1/2",children:i.jsxs("h2",{className:"text-h2 md:text-h1 font-heading",children:["Driven by Care",i.jsx("br",{}),i.jsx("span",{className:"italic",children:"Rooted in Nature"})]})}),i.jsx("div",{className:"lg:w-1/2 flex justify-end",children:i.jsxs("div",{className:"bg-secondary rounded-full px-4 py-2 flex items-center gap-2",children:[i.jsx("div",{className:"flex",children:[...Array(5)].map((t,e)=>i.jsx(Wg,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},e))}),i.jsx("span",{className:"text-sm font-medium",children:"4.7 (3.5K reviews)"}),i.jsxs("div",{className:"flex -space-x-2 ml-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-sage overflow-hidden",children:i.jsx("img",{src:vl,alt:"",className:"w-full h-full object-cover"})}),i.jsx("div",{className:"w-6 h-6 rounded-full bg-primary overflow-hidden",children:i.jsx("img",{src:Vd,alt:"",className:"w-full h-full object-cover"})})]})]})})]}),i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center mb-20",children:[i.jsx("div",{className:"relative",children:i.jsx("div",{className:"rounded-3xl overflow-hidden",children:i.jsx("img",{src:Vd,alt:"Simple rituals",className:"w-full h-[600px] object-cover"})})}),i.jsxs("div",{className:"bg-white h-150 p-10 rounded-3xl",children:[i.jsx("span",{className:"text-sm font-medium text-sage tracking-wide uppercase mb-4 block",children:"About Us"}),i.jsxs("h3",{className:"text-h2 font-heading mb-4",children:["Simple Rituals",i.jsx("br",{}),i.jsx("span",{className:"italic",children:"Powerful Results"})]}),i.jsx("p",{className:"text-muted-foreground leading-relaxed mb-6",children:"Skyntales is built on the belief that skincare should enhance your natural beauty, not mask it. By combining the best of science with natural ingredients, we bring effective and beautiful products to your skincare journey."}),i.jsx("div",{className:"space-y-3",children:Cle.map(t=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-5 h-5 rounded-full bg-sage/20 flex items-center justify-center",children:i.jsx(dr,{className:"h-3 w-3 text-sage",strokeWidth:2})}),i.jsx("span",{className:"text-foreground font-medium",children:t})]},t))})]})]}),i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{className:"order-2 lg:order-1 bg-white h-150 p-10 rounded-3xl",children:[i.jsx("span",{className:"text-sm font-medium text-sage tracking-wide uppercase mb-4 block",children:"Our Promise"}),i.jsxs("h3",{className:"text-h2 font-heading mb-4",children:["Why Your Skin",i.jsx("br",{}),i.jsx("span",{className:"italic",children:"Deserves the Best"})]}),i.jsx("p",{className:"text-muted-foreground leading-relaxed mb-6",children:"Skyntales embodies a simple goal: skincare that works in harmony with your skin and the planet. From handpicked ingredients to beautiful blends, every product tells a story of clean beauty, natural efficiency, and sustainable skincare solutions."}),i.jsx("div",{className:"space-y-3",children:Ale.map(t=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-5 h-5 rounded-full bg-sage/20 flex items-center justify-center",children:i.jsx(dr,{className:"h-3 w-3 text-sage",strokeWidth:2})}),i.jsx("span",{className:"text-foreground font-medium",children:t})]},t))})]}),i.jsx("div",{className:"order-1 lg:order-2",children:i.jsx("div",{className:"rounded-3xl overflow-hidden",children:i.jsx("img",{src:wl,alt:"Why your skin deserves the best",className:"w-full h-[600px] object-cover"})})})]})]})}),i.jsx("section",{className:"section-padding bg-secondary",children:i.jsxs("div",{className:"container-kanva text-center",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsxs("svg",{className:"w-12 h-12 text-sage",viewBox:"0 0 100 100",fill:"currentColor",children:[i.jsx("path",{d:"M50 10C30 30 20 50 20 70C20 85 35 95 50 95C65 95 80 85 80 70C80 50 70 30 50 10Z",opacity:"0.3"}),i.jsx("path",{d:"M50 25C35 40 28 55 28 72C28 82 38 88 50 88C62 88 72 82 72 72C72 55 65 40 50 25Z"})]})}),i.jsxs("h2",{className:"text-h1 md:text-display font-heading leading-tight max-w-3xl mx-auto",children:["Natural Beauty.",i.jsx("br",{}),"Sustainable Future.",i.jsx("br",{}),"Effective Skincare. "]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground tracking-wide uppercase block mb-2",children:"Our Mission"}),i.jsx(xe,{to:"/shop",className:"text-foreground hover:text-sage transition-colors",children:"Learn More "})]})]})}),i.jsxs("section",{className:"relative min-h-[60vh] bg-black overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0",children:i.jsx("img",{src:wl,alt:"Sustainability",className:"w-full h-full object-cover opacity-30"})}),i.jsx("div",{className:"relative container-kanva section-padding",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center min-h-[50vh]",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-h1 md:text-display font-heading text-primary-foreground mb-6",children:["Sustainability",i.jsx("br",{}),i.jsx("span",{className:"italic",children:"& Quality"})]}),i.jsx("p",{className:"text-lg text-primary-foreground/80 leading-relaxed mb-8 max-w-md",children:"Every product is made with 100% natural, carefully sourced ingredients to ensure safe, effective, and gentle care for your skin."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(dr,{className:"h-5 w-5 text-primary-foreground/70",strokeWidth:2}),i.jsx("span",{className:"text-primary-foreground",children:"Clean Ingredients"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(dr,{className:"h-5 w-5 text-primary-foreground/70",strokeWidth:2}),i.jsx("span",{className:"text-primary-foreground",children:"Nature-Driven Solutions"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(dr,{className:"h-5 w-5 text-primary-foreground/70",strokeWidth:2}),i.jsx("span",{className:"text-primary-foreground",children:"Conscious Choices"})]})]})]}),i.jsx("div",{className:"hidden lg:flex justify-end",children:i.jsx("div",{className:"rounded-3xl overflow-hidden shadow-2xl",children:i.jsx("img",{src:mr,alt:"Quality products",className:"w-80 h-96 object-cover"})})})]})})]}),i.jsx("section",{className:"section-padding bg-background lg:pr-12",children:i.jsx("div",{className:"container-kanva",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[i.jsx("div",{className:"rounded-3xl overflow-hidden lg:p-22",children:i.jsx("img",{src:zo,alt:"Eco-friendly packaging",className:"w-full h-auto rounded-2xl"})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-h1 md:text-display font-heading mb-4",children:["Eco-Friendly",i.jsx("br",{}),i.jsx("span",{className:"italic",children:"Packaging"})]}),i.jsx("p",{className:"text-muted-foreground leading-relaxed mb-8",children:"At Skyntales, sustainability drives every decision we make. Our packaging is designed to reduce waste and protect the planet while maintaining the quality and freshness of our products."}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:Ple.map(t=>i.jsxs("div",{className:"bg-secondary rounded-xl p-4",children:[i.jsx(t.icon,{className:"h-12 w-12 text-sage mb-3",strokeWidth:1.5}),i.jsx("h4",{className:"font-heading font-medium mb-1",children:t.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]},t.title))})]})]})})}),i.jsx(Qj,{})]}),i.jsx(ct,{})]}),is=p.forwardRef(({className:t,...e},n)=>i.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));is.displayName="Textarea";var kle="Label",Z3=p.forwardRef((t,e)=>i.jsx(pe.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Z3.displayName=kle;var e5=Z3;const Rle=Qh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),me=p.forwardRef(({className:t,...e},n)=>i.jsx(e5,{ref:n,className:ce(Rle(),t),...e}));me.displayName=e5.displayName;const Dle=()=>{const{toast:t}=Bi(),{user:e}=Gi(),n=p.useRef(null),[s,r]=p.useState(!1),[o,a]=p.useState({name:"",email:"",subject:"",message:""});p.useEffect(()=>{if(!n.current)return;const u=n.current.querySelectorAll(".reveal"),d=new IntersectionObserver(h=>{h.forEach(m=>{m.isIntersecting&&m.target.classList.add("animate-reveal")})},{threshold:.15});return u.forEach(h=>d.observe(h)),()=>d.disconnect()},[]);const l=async u=>{u.preventDefault(),r(!0);try{await ai(Ve(ue,"contacts"),{name:o.name,email:o.email,subject:o.subject,message:o.message,userId:(e==null?void 0:e.uid)||null,status:"new",createdAt:Xe()}),t({title:"Message sent!",description:"We'll get back to you as soon as possible."}),a({name:"",email:"",subject:"",message:""})}catch(d){console.error("Error sending message:",d),t({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{r(!1)}},c=u=>{a({...o,[u.target.name]:u.target.value})};return i.jsxs("div",{ref:n,className:"min-h-screen bg-secondary overflow-hidden",children:[i.jsx(lt,{}),i.jsxs("main",{className:"pt-28 pb-10 px-4 sm:px-6",children:[i.jsxs("section",{className:"text-center mb-16 reveal",children:[i.jsx("h1",{className:"text-[clamp(2.8rem,6vw,4rem)] font-heading italic mb-4",children:"Contact"}),i.jsx("p",{className:"text-muted-foreground max-w-md mx-auto text-sm sm:text-base",children:"Whether you have a question about your order, need skincare advice, or just want to say hello."})]}),i.jsx("section",{className:"max-w-2xl mx-auto reveal mb-30",children:i.jsxs("div",{className:"bg-background rounded-3xl p-6 sm:p-10 shadow-lg border border-border/10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(o1,{className:"h-5 w-5 text-primary"})}),i.jsx("h3",{className:"text-lg sm:text-xl font-heading",children:"Send Us a Message"})]}),i.jsxs("form",{onSubmit:l,className:"space-y-6",children:[i.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"name",className:"text-sage italic font-normal",children:"Name"}),i.jsx(Ne,{id:"name",type:"text",name:"name",placeholder:"Your Name",value:o.name,onChange:c,className:`h-12 bg-secondary/50 border-0 rounded-xl 
                    placeholder:text-muted-foreground/60 focus:ring-2 focus:ring-primary`,required:!0,"data-testid":"input-contact-name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"email",className:"text-sage italic font-normal",children:"Email"}),i.jsx(Ne,{id:"email",type:"email",name:"email",placeholder:"you@example.com",value:o.email,onChange:c,className:`h-12 bg-secondary/50 border-0 rounded-xl 
                    placeholder:text-muted-foreground/60 focus:ring-2 focus:ring-primary`,required:!0,"data-testid":"input-contact-email"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"subject",className:"text-sage italic font-normal",children:"Subject"}),i.jsx(Ne,{id:"subject",type:"text",name:"subject",placeholder:"What is this about?",value:o.subject,onChange:c,className:`h-12 bg-secondary/50 border-0 rounded-xl 
                  placeholder:text-muted-foreground/60 focus:ring-2 focus:ring-primary`,required:!0,"data-testid":"input-contact-subject"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"message",className:"text-sage italic font-normal",children:"Message"}),i.jsx(is,{id:"message",name:"message",placeholder:"Tell us everything...",value:o.message,onChange:c,className:`min-h-[140px] bg-secondary/50 border-0 rounded-xl 
                  placeholder:text-muted-foreground/60 focus:ring-2 focus:ring-primary resize-none`,required:!0,"data-testid":"input-contact-message"})]}),i.jsx(ie,{type:"submit",disabled:s,className:"w-full h-12 rounded-xl text-base font-medium","data-testid":"button-send-message",children:s?i.jsxs(i.Fragment,{children:[i.jsx(De,{className:"h-4 w-4 animate-spin mr-2"}),"Sending..."]}):"Send Message"})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-border/20",children:i.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium mb-1",children:"Email Us"}),i.jsx("a",{href:"mailto:hello@kanva.com",className:"text-muted-foreground hover:text-foreground",children:"care@skyntales.com"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium mb-1",children:"Visit Our FAQ"}),i.jsx(xe,{to:"/faq",className:"text-muted-foreground hover:text-foreground",children:"Common questions answered"})]})]})})]})}),i.jsx(Qj,{})]}),i.jsx(ct,{})]})},Mle=()=>{const[t,e]=p.useState([]),[n,s]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const o=Ve(ue,"blogs"),a=bt(o,hs("createdAt","desc")),l=await Ml(a),c=[];l.forEach(u=>{const d=u.data();d.status==="published"&&c.push({id:u.id,title:d.title||"",category:d.category||"",image:d.image||"",excerpt:d.excerpt||""})}),e(c)}catch(o){console.error("Error fetching blogs:",o)}finally{s(!1)}})()},[]),i.jsxs("div",{className:"min-h-screen bg-secondary",children:[i.jsx(lt,{}),i.jsxs("main",{children:[i.jsx("section",{className:"pt-32 pb-8",children:i.jsx("div",{className:"container-kanva text-center",children:i.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-heading italic",children:"Blog"})})}),i.jsx("section",{className:"pb-36 px-4 md:px-8 lg:px-16",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:n?i.jsx("div",{className:"flex justify-center py-20",children:i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):t.length===0?i.jsxs("div",{className:"text-center py-20 text-muted-foreground",children:[i.jsx("p",{className:"text-lg",children:"No blog posts available yet."}),i.jsx("p",{className:"text-sm mt-2",children:"Check back soon for skincare tips and insights!"})]}):i.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:t.map(r=>i.jsx("article",{className:"group",children:i.jsxs(xe,{to:`/blog/${r.id}`,children:[i.jsx("div",{className:"rounded-2xl overflow-hidden aspect-[4/3] mb-4 bg-muted",children:r.image?i.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:"No image"})}),i.jsx("p",{className:"text-sm text-muted-foreground italic mb-2",children:r.category}),i.jsx("h2",{className:"font-heading text-lg md:text-xl italic mb-3 leading-snug",children:r.title}),i.jsx("span",{className:"text-sm text-foreground underline underline-offset-4 hover:text-sage transition-colors",children:"Read Article"})]})},r.id))})})})]}),i.jsx(ct,{})]})},Ole=()=>{const{id:t}=A1(),[e,n]=p.useState(null),[s,r]=p.useState([]),[o,a]=p.useState(!0);p.useEffect(()=>{(async()=>{if(t)try{const u=Ue(ue,"blogs",t),d=await mf(u);if(d.exists()){const h=d.data(),m={id:d.id,title:h.title||"",category:h.category||"",image:h.image||"",content:h.content||"",excerpt:h.excerpt||"",author:h.author||"Team Skyntales",createdAt:h.createdAt};n(m);const g=bt(Ve(ue,"blogs"),hs("createdAt","desc"),ff(10)),y=await Ml(g),x=[];y.forEach(w=>{const v=w.data();w.id!==t&&v.status==="published"&&v.category===m.category&&x.push({id:w.id,title:v.title||"",category:v.category||"",image:v.image||""})}),r(x.slice(0,3))}}catch(u){console.error("Error fetching blog post:",u)}finally{a(!1)}})()},[t]);const l=c=>c?(c.toDate?c.toDate():new Date(c)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"";return o?i.jsxs("div",{className:"min-h-screen bg-secondary",children:[i.jsx(lt,{}),i.jsx("main",{className:"pt-32 pb-20",children:i.jsx("div",{className:"container-kanva flex justify-center",children:i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}),i.jsx(ct,{})]}):e?i.jsxs("div",{className:"min-h-screen bg-secondary",children:[i.jsx(lt,{}),i.jsxs("main",{children:[i.jsx("section",{className:"pt-28 pb-8",children:i.jsxs("div",{className:"container-kanva max-w-4xl",children:[i.jsxs(xe,{to:"/blog",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground mb-8",children:[i.jsx(Ip,{className:"h-4 w-4"}),"Back to Blog"]}),i.jsx("p",{className:"text-sm text-muted-foreground italic mb-4",children:e.category}),i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-heading italic leading-tight mb-6",children:e.title}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-8",children:[i.jsxs("span",{children:["By ",e.author]}),i.jsx("span",{children:""}),i.jsx("span",{children:l(e.createdAt)})]}),e.image&&i.jsx("div",{className:"rounded-2xl overflow-hidden mb-10",children:i.jsx("img",{src:e.image,alt:e.title,className:"w-full h-auto object-cover"})}),i.jsx("article",{className:"prose prose-lg max-w-none",children:e.content.split(`
`).map((c,u)=>c.trim()&&i.jsx("p",{className:"mb-4 text-foreground/90 leading-relaxed",children:c},u))}),i.jsxs("div",{className:"flex items-center gap-4 mt-12 pt-8 border-t",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Share:"}),i.jsx("a",{href:"#",className:"p-2 rounded-full bg-foreground/5 hover:bg-foreground/10 transition-colors",children:i.jsx(Jk,{className:"h-4 w-4"})}),i.jsx("a",{href:"#",className:"p-2 rounded-full bg-foreground/5 hover:bg-foreground/10 transition-colors",children:i.jsx(l1,{className:"h-4 w-4"})})]})]})}),s.length>0&&i.jsx("section",{className:"py-16 px-4 md:px-8 lg:px-16",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("h2",{className:"text-2xl font-heading italic mb-8",children:"Related Articles"}),i.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:s.map(c=>i.jsx("article",{className:"group",children:i.jsxs(xe,{to:`/blog/${c.id}`,children:[i.jsx("div",{className:"rounded-2xl overflow-hidden aspect-[4/3] mb-4 bg-muted",children:c.image?i.jsx("img",{src:c.image,alt:c.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:"No image"})}),i.jsx("p",{className:"text-sm text-muted-foreground italic mb-2",children:c.category}),i.jsx("h3",{className:"font-heading text-lg italic mb-3 leading-snug",children:c.title}),i.jsx("span",{className:"text-sm text-foreground underline underline-offset-4 hover:text-sage transition-colors",children:"Read Article"})]})},c.id))})]})})]}),i.jsx(ct,{})]}):i.jsxs("div",{className:"min-h-screen bg-secondary",children:[i.jsx(lt,{}),i.jsx("main",{className:"pt-32 pb-20",children:i.jsxs("div",{className:"container-kanva text-center",children:[i.jsx("h1",{className:"text-3xl font-heading mb-4",children:"Blog post not found"}),i.jsx(xe,{to:"/blog",className:"text-primary underline",children:"Back to Blog"})]})}),i.jsx(ct,{})]})},ae=p.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ae.displayName="Card";const it=p.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",t),...e}));it.displayName="CardHeader";const Nt=p.forwardRef(({className:t,...e},n)=>i.jsx("h3",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight",t),...e}));Nt.displayName="CardTitle";const Ra=p.forwardRef(({className:t,...e},n)=>i.jsx("p",{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));Ra.displayName="CardDescription";const le=p.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:ce("p-6 pt-0",t),...e}));le.displayName="CardContent";const Lle=p.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",t),...e}));Lle.displayName="CardFooter";const Vle=[{title:"Orders & Shopping",icon:jn,questions:[{q:"How do I place an order?",a:"Simply browse our products, add items to your cart, and proceed to checkout. You can create an account for a faster checkout experience or checkout as a guest. We accept all major credit cards and secure payment methods."},{q:"Can I modify or cancel my order?",a:"Orders can be modified or cancelled within 1 hour of placement. After this window, orders enter processing and cannot be changed. Please contact our support team immediately if you need to make changes."},{q:"How can I track my order?",a:"Once your order ships, you'll receive a confirmation email with tracking information. You can also log into your account and view your order status in the 'Orders' section."},{q:"Do you offer gift wrapping?",a:"Yes! We offer complimentary gift wrapping on all orders. Simply select the gift wrap option at checkout and include a personalized message for the recipient."}]},{title:"Payment & Security",icon:O0,questions:[{q:"What payment methods do you accept?",a:"We accept Visa, Mastercard, American Express, Apple Pay, Google Pay, and PayPal. All transactions are secured with SSL encryption for your protection."},{q:"Is my payment information secure?",a:"Absolutely. We use industry-standard SSL encryption and never store your complete credit card details. Our payment processing is PCI-DSS compliant."},{q:"When will I be charged?",a:"Your payment is processed immediately upon order confirmation. If an item is out of stock, you will be notified and given the option to wait or receive a refund."},{q:"Do you offer payment plans?",a:"We partner with Klarna and Afterpay to offer flexible payment options. You can split your purchase into 4 interest-free payments at checkout."}]},{title:"Shipping & Delivery",icon:wr,questions:[{q:"How long does shipping take?",a:"Standard shipping takes 3-5 business days within the US. Express shipping (1-2 business days) is available for an additional fee. International shipping typically takes 7-14 business days."},{q:"Do you offer free shipping?",a:"Yes! We offer free standard shipping on all orders over $50 within the continental United States. Orders under $50 have a flat shipping rate of $5.99."},{q:"Do you ship internationally?",a:"Yes, we ship to most countries worldwide. International shipping rates and delivery times vary by location and are calculated at checkout."},{q:"What if my package is lost or damaged?",a:"We insure all shipments. If your package is lost or arrives damaged, please contact us within 48 hours of expected delivery and we'll send a replacement or issue a full refund."}]},{title:"Returns & Exchanges",icon:s2,questions:[{q:"What is your return policy?",a:"We offer a 30-day satisfaction guarantee. If you're not completely happy with your purchase, return it within 30 days for a full refund or exchange. Products must be unused and in original packaging."},{q:"How do I initiate a return?",a:"Log into your account, go to 'Orders', select the order, and click 'Return Items'. You'll receive a prepaid shipping label via email. Pack the items securely and drop off at any carrier location."},{q:"How long do refunds take?",a:"Once we receive your return, refunds are processed within 3-5 business days. The refund will appear on your original payment method within 5-10 business days depending on your bank."},{q:"Can I exchange for a different product?",a:"Yes! During the return process, you can select 'Exchange' and choose a different product. If there's a price difference, you'll be charged or refunded accordingly."}]},{title:"Products & Ingredients",icon:ll,questions:[{q:"Are your products cruelty-free?",a:"Yes, all Skyntales products are 100% cruelty-free and never tested on animals. We're certified by Leaping Bunny and PETA."},{q:"Are your products suitable for sensitive skin?",a:"Most of our products are formulated for sensitive skin. We recommend checking individual product descriptions and ingredient lists. Our 'Gentle' collection is specifically designed for sensitive skin types."},{q:"How should I store my skincare products?",a:"Store products in a cool, dry place away from direct sunlight. Some products with active ingredients like Vitamin C should be refrigerated for optimal potency."},{q:"What is the shelf life of your products?",a:"Our products have a shelf life of 12-24 months unopened. Once opened, most products should be used within 6-12 months. Check the PAO (Period After Opening) symbol on each product."}]}],Fle=()=>i.jsxs("div",{className:"min-h-screen flex flex-col",children:[i.jsx(lt,{}),i.jsxs("main",{className:"flex-1",children:[i.jsx("section",{className:"bg-muted/30 py-16 md:py-24",children:i.jsx("div",{className:"container-kanva px-5",children:i.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-6",children:i.jsx(o1,{className:"w-8 h-8 text-primary"})}),i.jsx("h1",{className:"text-4xl md:text-5xl font-heading mb-4","data-testid":"text-faq-title",children:"Frequently Asked Questions"}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Find answers to common questions about shopping, shipping, returns, and our products."})]})})}),i.jsx("section",{className:"py-16",children:i.jsxs("div",{className:"container-kanva px-5",children:[i.jsx("div",{className:"max-w-4xl mx-auto space-y-12",children:Vle.map((t,e)=>i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(t.icon,{className:"h-5 w-5 text-primary"})}),i.jsx("h2",{className:"text-2xl font-heading",children:t.title})]}),i.jsx(ae,{children:i.jsx(le,{className:"p-0",children:i.jsx(Zw,{type:"single",collapsible:!0,className:"w-full",children:t.questions.map((n,s)=>i.jsxs(Pa,{value:`${e}-${s}`,className:"border-b last:border-0",children:[i.jsx(Ia,{className:"px-6 py-4 text-left hover:no-underline hover:bg-muted/50",children:i.jsx("span",{className:"font-medium",children:n.q})}),i.jsx(ka,{className:"px-6 pb-4 text-muted-foreground",children:n.a})]},s))})})})]},e))}),i.jsx("div",{className:"max-w-4xl mx-auto mt-16",children:i.jsx(ae,{className:"bg-primary text-primary-foreground",children:i.jsxs(le,{className:"p-8 text-center",children:[i.jsx(Ko,{className:"h-12 w-12 mx-auto mb-4 opacity-80"}),i.jsx("h3",{className:"text-2xl font-heading mb-2",children:"Still have questions?"}),i.jsx("p",{className:"text-primary-foreground/80 mb-6",children:"Our customer support team is here to help you with any questions or concerns."}),i.jsx(ie,{variant:"secondary",asChild:!0,children:i.jsx(xe,{to:"/contact","data-testid":"link-contact",children:"Contact Us"})})]})})})]})})]}),i.jsx(ct,{})]}),Ule=Qh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function wt({className:t,variant:e,...n}){return i.jsx("div",{className:ce(Ule({variant:e}),t),...n})}const $le=[{name:"Standard Shipping",price:"Calculated at checkout",time:"5-7 business days",description:"Our standard domestic shipping option",badge:"Most Popular"},{name:"Expedited Shipping",price:"Calculated at checkout",time:"Faster delivery",description:"Need it fast? Choose expedited service at checkout"},{name:"International Shipping",price:"Calculated at checkout",time:"10-15 business days",description:"We ship to selected international destinations"}],zle=()=>i.jsxs("div",{className:"min-h-screen flex flex-col",children:[i.jsx(lt,{}),i.jsxs("main",{className:"flex-1",children:[i.jsx("section",{className:"bg-muted/30 py-16 md:py-24",children:i.jsx("div",{className:"container-kanva px-5",children:i.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-6",children:i.jsx(wr,{className:"w-8 h-8 text-primary"})}),i.jsx("h1",{className:"text-4xl md:text-5xl font-heading mb-4","data-testid":"text-shipping-title",children:"Shipping & Delivery"}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Fast, reliable shipping to get your skincare essentials to your door."})]})})}),i.jsx("section",{className:"py-16",children:i.jsx("div",{className:"container-kanva px-5",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("h2",{className:"text-2xl font-heading mb-8 text-center",children:"Shipping Options"}),i.jsx("div",{className:"grid gap-4 md:grid-cols-3 mb-16",children:$le.map((t,e)=>i.jsxs(ae,{className:"relative",children:[t.badge&&i.jsx(wt,{className:"absolute -top-2 right-4",children:t.badge}),i.jsx(it,{className:"pb-2",children:i.jsx(Nt,{className:"text-lg",children:t.name})}),i.jsxs(le,{children:[i.jsx("p",{className:"text-2xl font-bold text-primary mb-1",children:t.price}),i.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mb-3",children:[i.jsx(Go,{className:"h-4 w-4"}),t.time]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]})]},e))}),i.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(jn,{className:"h-5 w-5 text-primary"})}),i.jsx("h2",{className:"text-xl font-heading",children:"Order Processing"})]}),i.jsx(ae,{children:i.jsxs(le,{className:"p-6 space-y-4",children:[i.jsx("p",{className:"text-muted-foreground",children:"All orders are processed within 5-7 business days. Orders placed on weekends or holidays will be processed on the next business day."}),i.jsxs("div",{className:"flex items-start gap-2 p-4 bg-muted/50 rounded-lg",children:[i.jsx(yn,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsx("p",{className:"text-sm",children:"You will receive a confirmation email once your order has been shipped, including tracking information, if applicable."})]})]})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(b9,{className:"h-5 w-5 text-primary"})}),i.jsx("h2",{className:"text-xl font-heading",children:"International Shipping"})]}),i.jsx(ae,{children:i.jsxs(le,{className:"p-6 space-y-4",children:[i.jsx("p",{className:"text-muted-foreground",children:"We ship to selected international destinations. Shipping costs are calculated at checkout based on your location and the weight of your order."}),i.jsx("p",{className:"text-muted-foreground",children:"Please note that customs fees, taxes, or import duties may apply to international orders and are the responsibility of the customer."}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Estimated delivery times:"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{children:"Domestic Shipping"}),i.jsx("span",{children:"5-7 business days"})]}),i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{children:"International Shipping"}),i.jsx("span",{children:"10-15 business days"})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Delivery times are estimates and may vary depending on location and carrier delays."})]})]})})]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(lh,{className:"h-5 w-5 text-primary"})}),i.jsx("h2",{className:"text-xl font-heading",children:"Delivery Information"})]}),i.jsx(ae,{children:i.jsx(le,{className:"p-6",children:i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-2",children:"Order Tracking"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Once your order has been shipped, you will receive a tracking number via email. You can use this number to track your package's progress through the carrier's website."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-2",children:"Shipping Delays"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"While we strive to ensure timely deliveries, there may be delays due to unforeseen circumstances such as weather, carrier issues, or customs processing. Skyntales is not responsible for delays caused by third-party carriers."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-2",children:"Damaged, Lost, or Stolen Packages"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"If your order arrives damaged, please contact us within 3 days of receiving the product, along with photos of the damage. For lost or stolen packages, we will assist in filing a claim with the carrier."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-2",children:"Incorrect Shipping Information"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Please ensure that your shipping details are accurate when placing an order. Skyntales is not responsible for delayed or failed deliveries due to incorrect or incomplete shipping addresses."})]})]})})})]})]})})})]}),i.jsx(ct,{})]}),WA=[{step:1,title:"Initiate Return",description:"Log into your account, go to 'Orders', and select the items you wish to return."},{step:2,title:"Print Label",description:"We'll email you a prepaid shipping label. Print it and attach it to your package."},{step:3,title:"Ship It Back",description:"Drop off your package at any authorized carrier location."},{step:4,title:"Get Refunded",description:"Once received, your refund will be processed within 3-5 business days."}],Ble=()=>i.jsxs("div",{className:"min-h-screen flex flex-col",children:[i.jsx(lt,{}),i.jsxs("main",{className:"flex-1",children:[i.jsx("section",{className:"bg-muted/30 py-16 md:py-24",children:i.jsx("div",{className:"container-kanva px-5",children:i.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-6",children:i.jsx(s2,{className:"w-8 h-8 text-primary"})}),i.jsx("h1",{className:"text-4xl md:text-5xl font-heading mb-4","data-testid":"text-returns-title",children:"Orders & Returns"}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Easy returns and hassle-free exchanges. Your satisfaction is our priority."})]})})}),i.jsx("section",{className:"py-16",children:i.jsx("div",{className:"container-kanva px-5",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx(ae,{className:"mb-12 border-primary/20 bg-primary/5",children:i.jsxs(le,{className:"p-8 text-center",children:[i.jsx("h2",{className:"text-3xl font-heading mb-2",children:"30-Day Satisfaction Guarantee"}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Not happy with your purchase? Return it within 30 days for a full refund, no questions asked."})]})}),i.jsx("h2",{className:"text-2xl font-heading mb-8 text-center",children:"How Returns Work"}),i.jsx("div",{className:"grid gap-4 md:grid-cols-4 mb-16",children:WA.map((t,e)=>i.jsxs("div",{className:"relative",children:[i.jsx(ae,{className:"h-full",children:i.jsxs(le,{className:"p-6 text-center",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xl font-bold mx-auto mb-4",children:t.step}),i.jsx("h3",{className:"font-semibold mb-2",children:t.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]})}),e<WA.length-1&&i.jsx(zg,{className:"hidden md:block absolute top-1/2 -right-4 transform -translate-y-1/2 text-muted-foreground"})]},e))}),i.jsxs("div",{className:"grid gap-8 md:grid-cols-2 mb-12",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"h-10 w-10 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:i.jsx(yn,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),i.jsx("h2",{className:"text-xl font-heading",children:"Eligible for Return"})]}),i.jsx(ae,{children:i.jsx(le,{className:"p-6",children:i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(yn,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-muted-foreground",children:"Unopened products in original packaging"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(yn,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-muted-foreground",children:"Items purchased within the last 30 days"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(yn,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-muted-foreground",children:"Defective or damaged products (within 90 days)"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(yn,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-muted-foreground",children:"Wrong items received"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(yn,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-muted-foreground",children:"Gift sets (if sealed)"})]})]})})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"h-10 w-10 rounded-lg bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:i.jsx(ur,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),i.jsx("h2",{className:"text-xl font-heading",children:"Not Eligible for Return"})]}),i.jsx(ae,{children:i.jsx(le,{className:"p-6",children:i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(ur,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-muted-foreground",children:"Opened or used products"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(ur,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-muted-foreground",children:"Items purchased more than 30 days ago"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(ur,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-muted-foreground",children:"Sale items marked as final sale"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(ur,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-muted-foreground",children:"Free samples or promotional items"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(ur,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-muted-foreground",children:"Gift cards"})]})]})})})]})]}),i.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(jn,{className:"h-5 w-5 text-primary"})}),i.jsx("h2",{className:"text-xl font-heading",children:"Exchanges"})]}),i.jsx(ae,{children:i.jsxs(le,{className:"p-6 space-y-4",children:[i.jsx("p",{className:"text-muted-foreground",children:'Want to exchange for a different product? During the return process, simply select "Exchange" instead of "Refund" and choose your new item.'}),i.jsx("p",{className:"text-muted-foreground",children:"If the new item costs more, you'll be charged the difference. If it costs less, we'll refund the balance to your original payment method."}),i.jsx("p",{className:"text-muted-foreground",children:"Your new item will ship as soon as we receive and process your return."})]})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(Go,{className:"h-5 w-5 text-primary"})}),i.jsx("h2",{className:"text-xl font-heading",children:"Refund Timeline"})]}),i.jsx(ae,{children:i.jsx(le,{className:"p-6",children:i.jsxs("ul",{className:"space-y-4",children:[i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"h-6 w-6 rounded-full bg-muted flex items-center justify-center text-xs font-bold flex-shrink-0",children:"1"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Return received"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"1-2 days after carrier drop-off"})]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"h-6 w-6 rounded-full bg-muted flex items-center justify-center text-xs font-bold flex-shrink-0",children:"2"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Inspection & processing"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"3-5 business days"})]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"h-6 w-6 rounded-full bg-muted flex items-center justify-center text-xs font-bold flex-shrink-0",children:"3"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Refund issued"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"5-10 business days to appear on statement"})]})]})]})})})]})]}),i.jsx(ae,{className:"mt-12",children:i.jsx(le,{className:"p-8",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx(oh,{className:"h-6 w-6 text-yellow-600 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Important Note"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Original shipping charges are non-refundable unless the return is due to our error (wrong item, defective product, etc.). We provide free return shipping for all eligible returns within the United States."}),i.jsx(ie,{asChild:!0,children:i.jsx(xe,{to:"/account","data-testid":"link-manage-orders",children:"Manage Your Orders"})})]})]})})})]})})})]}),i.jsx(ct,{})]}),Wle=()=>i.jsxs("div",{className:"min-h-screen flex flex-col",children:[i.jsx(lt,{}),i.jsxs("main",{className:"flex-1",children:[i.jsx("section",{className:"bg-muted/30 py-16 md:py-24",children:i.jsx("div",{className:"container-kanva px-5",children:i.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-6",children:i.jsx(r2,{className:"w-8 h-8 text-primary"})}),i.jsx("h1",{className:"text-4xl md:text-5xl font-heading mb-4","data-testid":"text-terms-title",children:"Terms & Conditions"}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Please read these terms carefully before using our website and services."}),i.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Last updated: December 10, 2024"})]})})}),i.jsx("section",{className:"py-16",children:i.jsx("div",{className:"container-kanva px-5",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsx(ae,{children:i.jsxs(le,{className:"p-8 md:p-12 prose prose-neutral dark:prose-invert max-w-none",children:[i.jsx("p",{children:"These Terms and Conditions govern the use of Skyntales and any related services. By purchasing or using our product, you agree to the following terms and conditions."}),i.jsx("h2",{className:"font-bold mt-8",children:"1. Product Information"}),i.jsx("p",{children:"We strive to provide accurate descriptions and representations of our products. However, we do not guarantee that the product images, descriptions, or other content are entirely error-free or completely accurate. Product availability and pricing are subject to change without notice."}),i.jsx("h2",{className:"font-bold mt-8",children:"2. Orders and Payment"}),i.jsx("h3",{children:"Order Acceptance"}),i.jsx("p",{children:"Once an order is placed, we reserve the right to accept or reject it at our discretion. You will receive a confirmation email once your order is accepted and processed."}),i.jsx("h3",{children:"Payment"}),i.jsx("p",{children:"Payment for the product must be made at the time of purchase. We accept major credit cards, debit cards, and other payment methods as indicated at checkout. All payments are processed securely."}),i.jsx("h3",{children:"Cancellations"}),i.jsx("p",{children:"Orders may be canceled before they are shipped. Once the order is shipped, cancellations are not permitted."}),i.jsx("h2",{className:"font-bold mt-8",children:"3. Shipping and Delivery"}),i.jsx("h3",{children:"Shipping"}),i.jsx("p",{children:"We will ship your order to the address you provide at checkout. Delivery times vary based on your location and shipping method selected. Any delivery dates provided are estimates only."}),i.jsx("h3",{children:"Delays"}),i.jsx("p",{children:"We are not responsible for delays caused by shipping carriers or factors beyond our control."}),i.jsx("h3",{children:"International Shipping"}),i.jsx("p",{children:"If applicable, customers are responsible for any customs duties or taxes associated with international shipments."}),i.jsx("h2",{className:"font-bold mt-8",children:"4. Returns and Refunds"}),i.jsx("h3",{children:"Return Policy"}),i.jsx("p",{children:"If you are not satisfied with your product, you may return it within 7 working days of delivery for a refund or exchange. Items must be unused, in their original packaging, and accompanied by proof of purchase."}),i.jsx("h3",{children:"Refunds"}),i.jsx("p",{children:"Refunds will be processed to the original payment method once the returned item is received and inspected. Shipping costs are non-refundable."}),i.jsx("h3",{children:"Exclusions"}),i.jsx("p",{children:"Certain products (e.g., personalized, perishable, or clearance items) may not be eligible for returns. Please check our return policy for full details."}),i.jsx("h2",{className:"font-bold mt-8",children:"5. Use of Product"}),i.jsx("p",{children:"The product is intended for specific use. You agree to use the product only as instructed and in accordance with all applicable laws and regulations."}),i.jsx("p",{children:"We are not responsible for any injuries, damages, or losses resulting from the misuse of the product."}),i.jsx("h2",{className:"font-bold mt-8",children:"6. Limitation of Liability"}),i.jsx("p",{children:"To the fullest extent permitted by law, Skyntales is not liable for any indirect, incidental, or consequential damages arising from the use of or inability to use the product, even if we have been advised of the possibility of such damages."}),i.jsx("p",{children:"Our liability for any claim related to the product is limited to the amount you paid for the product."}),i.jsx("h2",{className:"font-bold mt-8",children:"7. Intellectual Property"}),i.jsx("p",{children:"All intellectual property rights, including trademarks, logos, designs, and content, related to the product are owned by Skyntales and are protected by applicable copyright and intellectual property laws. You may not use, reproduce, or distribute our intellectual property without our express written permission."}),i.jsx("h2",{className:"font-bold mt-8",children:"8. Changes to Terms"}),i.jsx("p",{children:"We reserve the right to update or modify these Terms and Conditions at any time. Any changes will be effective immediately upon posting on our website. Your continued use of the product after such changes constitutes your acceptance of the new terms."}),i.jsx("h2",{className:"font-bold mt-8",children:"9. Contact Us"}),i.jsx("p",{children:"If you have any questions or concerns about these Terms and Conditions, please contact us at:"}),i.jsx("ul",{children:i.jsx("li",{children:"By email: info@skyntales.com"})})]})})})})})]}),i.jsx(ct,{})]}),Hle=()=>i.jsxs("div",{children:[i.jsx(lt,{}),i.jsx("main",{className:"container-kanva py-24",children:i.jsx("h1",{className:"text-4xl font-heading",children:"Favorites"})}),i.jsx(ct,{})]});var t5="AlertDialog",[qle]=mn(t5,[K4]),Ki=K4(),n5=t=>{const{__scopeAlertDialog:e,...n}=t,s=Ki(e);return i.jsx(Rj,{...s,...n,modal:!0})};n5.displayName=t5;var Gle="AlertDialogTrigger",s5=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,r=Ki(n);return i.jsx(Dj,{...r,...s,ref:e})});s5.displayName=Gle;var Kle="AlertDialogPortal",r5=t=>{const{__scopeAlertDialog:e,...n}=t,s=Ki(e);return i.jsx(Mj,{...s,...n})};r5.displayName=Kle;var Yle="AlertDialogOverlay",i5=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,r=Ki(n);return i.jsx(xf,{...r,...s,ref:e})});i5.displayName=Yle;var Rc="AlertDialogContent",[Qle,Xle]=qle(Rc),Jle=Sk("AlertDialogContent"),o5=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:s,...r}=t,o=Ki(n),a=p.useRef(null),l=Ie(e,a),c=p.useRef(null);return i.jsx(VZ,{contentName:Rc,titleName:a5,docsSlug:"alert-dialog",children:i.jsx(Qle,{scope:n,cancelRef:c,children:i.jsxs(yf,{role:"alertdialog",...o,...r,ref:l,onOpenAutoFocus:se(r.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(Jle,{children:s}),i.jsx(ece,{contentRef:a})]})})})});o5.displayName=Rc;var a5="AlertDialogTitle",l5=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,r=Ki(n);return i.jsx(vf,{...r,...s,ref:e})});l5.displayName=a5;var c5="AlertDialogDescription",u5=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,r=Ki(n);return i.jsx(wf,{...r,...s,ref:e})});u5.displayName=c5;var Zle="AlertDialogAction",d5=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,r=Ki(n);return i.jsx(Oj,{...r,...s,ref:e})});d5.displayName=Zle;var h5="AlertDialogCancel",f5=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,{cancelRef:r}=Xle(h5,n),o=Ki(n),a=Ie(e,r);return i.jsx(Oj,{...o,...s,ref:a})});f5.displayName=h5;var ece=({contentRef:t})=>{const e=`\`${Rc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Rc}\` by passing a \`${c5}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Rc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var s;document.getElementById((s=t.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},tce=n5,nce=s5,sce=r5,m5=i5,p5=o5,g5=d5,x5=f5,y5=l5,v5=u5;const rce=tce,ice=nce,oce=sce,w5=p.forwardRef(({className:t,...e},n)=>i.jsx(m5,{className:ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));w5.displayName=m5.displayName;const b5=p.forwardRef(({className:t,...e},n)=>i.jsxs(oce,{children:[i.jsx(w5,{}),i.jsx(p5,{ref:n,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));b5.displayName=p5.displayName;const j5=({className:t,...e})=>i.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",t),...e});j5.displayName="AlertDialogHeader";const N5=({className:t,...e})=>i.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});N5.displayName="AlertDialogFooter";const _5=p.forwardRef(({className:t,...e},n)=>i.jsx(y5,{ref:n,className:ce("text-lg font-semibold",t),...e}));_5.displayName=y5.displayName;const S5=p.forwardRef(({className:t,...e},n)=>i.jsx(v5,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));S5.displayName=v5.displayName;const E5=p.forwardRef(({className:t,...e},n)=>i.jsx(g5,{ref:n,className:ce(Lj(),t),...e}));E5.displayName=g5.displayName;const T5=p.forwardRef(({className:t,...e},n)=>i.jsx(x5,{ref:n,className:ce(Lj({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));T5.displayName=x5.displayName;const HA=t=>{switch(t.toLowerCase()){case"delivered":return i.jsx(Rp,{className:"h-5 w-5 text-green-600"});case"shipped":case"in transit":return i.jsx(wr,{className:"h-5 w-5 text-blue-600"});case"processing":return i.jsx(Go,{className:"h-5 w-5 text-yellow-600"});case"cancelled":return i.jsx(ur,{className:"h-5 w-5 text-red-600"});default:return i.jsx(jn,{className:"h-5 w-5 text-gray-600"})}},ace=t=>{switch(t.toLowerCase()){case"delivered":return"bg-green-100 text-green-800 border-green-200";case"shipped":case"in transit":return"bg-blue-100 text-blue-800 border-blue-200";case"processing":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},lce=({order:t,isOpen:e,onClose:n})=>{var j;const{toast:s}=Bi(),[r,o]=p.useState(null),[a,l]=p.useState(!1),[c,u]=p.useState(null),[d,h]=p.useState(!1),m=b=>{var _,S,T;if(!b)return!1;const C=(_=b.status)==null?void 0:_.toLowerCase();if(C==="cancelled"||C==="delivered"||C==="shipped"||!b.createdAt)return!1;const k=((T=(S=b.createdAt)==null?void 0:S.toDate)==null?void 0:T.call(S))||new Date(b.createdAt);return(Date.now()-k.getTime())/(1e3*60*60)<=12},g=b=>{var S,T;if(!(b!=null&&b.createdAt))return"";const C=((T=(S=b.createdAt)==null?void 0:S.toDate)==null?void 0:T.call(S))||new Date(b.createdAt),k=12-(Date.now()-C.getTime())/(1e3*60*60);if(k<=0)return"";const I=Math.floor(k),_=Math.floor((k-I)*60);return`${I}h ${_}m remaining to cancel`},y=async()=>{if(t){h(!0);try{const b=Ue(ue,"orders",t.id);await $n(b,{status:"cancelled",cancelledAt:Xe()}),s({title:"Order cancelled successfully"}),n()}catch(b){console.error("Error cancelling order:",b),s({title:"Failed to cancel order",variant:"destructive"})}finally{h(!1)}}};p.useEffect(()=>{e&&(t!=null&&t.awbCode)?x(t.awbCode):(o(null),u(null))},[e,t==null?void 0:t.awbCode]);const x=async b=>{l(!0),u(null);try{const C=await fetch(`/api/track-shipment/${b}`);if(C.ok){const k=await C.json();o(k)}else{const k=await C.json();u(k.error||"Unable to fetch tracking information")}}catch{u("Unable to connect to tracking service")}finally{l(!1)}};if(!t)return null;const w=b=>{var k;return b?(((k=b==null?void 0:b.toDate)==null?void 0:k.call(b))||new Date(b)).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Recently"},v=b=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(b);return i.jsx(Ln,{open:e,onOpenChange:b=>!b&&n(),children:i.jsxs(Nn,{className:"max-w-2xl max-h-[90vh] p-0",children:[i.jsxs(Vn,{className:"p-6 pb-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(_n,{className:"text-xl font-heading",children:["Order #",t.orderNumber]}),i.jsx(wt,{className:ace(t.status),children:i.jsxs("span",{className:"flex items-center gap-1.5",children:[HA(t.status),t.status]})})]}),i.jsxs(Eu,{className:"text-sm text-muted-foreground",children:["Placed on ",w(t.createdAt)]}),m(t)&&i.jsx("div",{className:"mt-3 p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsx("div",{children:i.jsx("p",{className:"text-sm font-medium text-orange-800 dark:text-orange-200",children:g(t)})}),i.jsxs(rce,{children:[i.jsx(ice,{asChild:!0,children:i.jsxs(ie,{variant:"destructive",size:"sm",disabled:d,children:[d?i.jsx(De,{className:"h-4 w-4 animate-spin mr-1"}):i.jsx(ur,{className:"h-4 w-4 mr-1"}),"Cancel Order"]})}),i.jsxs(b5,{children:[i.jsxs(j5,{children:[i.jsxs(_5,{children:["Cancel Order #",t.orderNumber,"?"]}),i.jsx(S5,{children:"This action cannot be undone. Your order will be cancelled and you will need to place a new order if you change your mind."})]}),i.jsxs(N5,{children:[i.jsx(T5,{children:"Keep Order"}),i.jsx(E5,{onClick:y,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Yes, Cancel Order"})]})]})]})]})})]}),i.jsx(Ei,{className:"max-h-[calc(90vh-100px)]",children:i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Order Items"}),i.jsx("div",{className:"space-y-3",children:(j=t.items)==null?void 0:j.map((b,C)=>i.jsxs("div",{className:"flex gap-4 p-3 bg-secondary/30 rounded-lg",children:[i.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-secondary flex-shrink-0",children:i.jsx("img",{src:b.image,alt:b.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:b.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Qty: ",b.quantity]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-semibold",children:v(b.price*b.quantity)}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[v(b.price)," each"]})]})]},C))})]}),i.jsx(wn,{}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[i.jsx(lh,{className:"h-4 w-4"}),"Shipping Address"]}),t.shipping?i.jsxs("div",{className:"text-sm space-y-1 text-muted-foreground",children:[i.jsxs("p",{className:"font-medium text-foreground",children:[t.shipping.firstName," ",t.shipping.lastName]}),i.jsx("p",{children:t.shipping.address}),i.jsxs("p",{children:[t.shipping.city,", ",t.shipping.state," ",t.shipping.zipCode]}),i.jsx("p",{children:t.shipping.country}),i.jsxs("div",{className:"pt-2 flex items-center gap-2",children:[i.jsx(t2,{className:"h-3 w-3"}),t.shipping.phone]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ko,{className:"h-3 w-3"}),t.shipping.email]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No shipping info available"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Order Summary"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),i.jsx("span",{children:v(t.subtotal||0)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),i.jsx("span",{children:v(t.shippingCost||0)})]}),i.jsx(wn,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between font-semibold text-base",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:v(t.total)})]})]})]})]}),i.jsx(wn,{}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[i.jsx(wr,{className:"h-4 w-4"}),"Shipment Tracking"]}),(()=>{var S;const b=((S=t.status)==null?void 0:S.toLowerCase().trim())||"pending",C=["pending","processing","shipped","delivered"],k=C.indexOf(b),I=k!==-1,_=b==="cancelled";return i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"bg-secondary/30 rounded-lg p-4",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Status"}),i.jsxs("p",{className:"font-semibold text-lg flex items-center gap-2",children:[HA(t.status),t.status.charAt(0).toUpperCase()+t.status.slice(1)]})]})}),_?i.jsxs("div",{className:"flex items-center gap-2 text-red-600 bg-red-50 dark:bg-red-900/20 rounded-lg p-3",children:[i.jsx(ur,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"This order has been cancelled"})]}):i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"flex justify-between mb-2",children:C.map((T,E)=>{const P=I&&E<=k,R=I&&E===k;return i.jsxs("div",{className:"flex flex-col items-center flex-1",children:[i.jsxs("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mb-1 transition-colors ${P?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"} ${R?"ring-2 ring-primary ring-offset-2":""}`,children:[T==="pending"&&i.jsx(Go,{className:"h-4 w-4"}),T==="processing"&&i.jsx(jn,{className:"h-4 w-4"}),T==="shipped"&&i.jsx(wr,{className:"h-4 w-4"}),T==="delivered"&&i.jsx(Rp,{className:"h-4 w-4"})]}),i.jsx("span",{className:`text-xs text-center ${P?"font-medium":"text-muted-foreground"}`,children:T.charAt(0).toUpperCase()+T.slice(1)})]},T)})}),i.jsx("div",{className:"absolute top-4 left-[calc(12.5%)] right-[calc(12.5%)] h-0.5 bg-muted -z-10",children:i.jsx("div",{className:"h-full bg-primary transition-all",style:{width:I&&k>0?`${k/(C.length-1)*100}%`:"0%"}})})]})]})})})(),t.awbCode?a?i.jsx("div",{className:"flex justify-center py-6",children:i.jsx(De,{className:"h-6 w-6 animate-spin"})}):c?i.jsx("div",{className:"bg-secondary/30 rounded-lg p-4 text-center",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:c})}):r?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between bg-secondary/30 rounded-lg p-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"AWB Number"}),i.jsx("p",{className:"font-mono font-medium",children:r.awb_code})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Courier"}),i.jsx("p",{className:"font-medium",children:r.courier_name})]})]}),r.activities&&r.activities.length>0&&i.jsxs("div",{className:"relative pl-6",children:[i.jsx("div",{className:"absolute left-2 top-2 bottom-2 w-0.5 bg-border"}),r.activities.map((b,C)=>i.jsxs("div",{className:"relative pb-4 last:pb-0",children:[i.jsx("div",{className:`absolute left-[-18px] w-3 h-3 rounded-full border-2 ${C===0?"bg-primary border-primary":"bg-background border-muted-foreground"}`}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:b.activity}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.location,"  ",b.date]})]})]},C))]})]}):null:i.jsxs("div",{className:"bg-secondary/30 rounded-lg p-4 text-center",children:[i.jsx(jn,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.status==="shipped"||t.status==="delivered"?"Detailed courier tracking will be updated soon.":"Courier tracking details will be available once your order is shipped."})]})]}),t.paymentDetails&&i.jsxs(i.Fragment,{children:[i.jsx(wn,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Payment Information"}),i.jsxs("div",{className:"bg-secondary/30 rounded-lg p-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{className:"text-muted-foreground",children:"Payment ID"}),i.jsx("span",{className:"font-mono text-xs",children:t.paymentDetails.paymentId})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Status"}),i.jsx(wt,{variant:"outline",className:"text-green-600 border-green-600",children:t.paymentDetails.status})]})]})]})]})]})})]})})},cce=()=>{var Jt,qe,tt,Zt;const{user:t,userProfile:e,loading:n,signIn:s,signUp:r,signInWithGoogle:o,resetPassword:a,isAdmin:l,updateProfile:c,updateUserPassword:u,googleAuthEnabled:d,logout:h}=Gi(),{items:m,removeFromWishlist:g}=_u(),{addToCart:y}=Ol(),{toast:x}=Bi(),w=Pl(),[v,j]=UW(),[b,C]=p.useState(!1),[k,I]=p.useState(""),[_,S]=p.useState(""),[T,E]=p.useState(""),[P,R]=p.useState(!1),[D,L]=p.useState([]),[F,W]=p.useState(!1),[B,V]=p.useState({displayName:"",phone:"",street:"",city:"",state:"",zipCode:"",country:""}),[M,$]=p.useState(""),[G,Z]=p.useState(!1),[U,q]=p.useState(null),[te,ve]=p.useState(!1),Y=v.get("view")||"overview",ye=X=>{j({view:X})};p.useEffect(()=>{var X,Ge,Rt,Et,dt;e&&V({displayName:e.displayName||"",phone:e.phone||"",street:((X=e.address)==null?void 0:X.street)||"",city:((Ge=e.address)==null?void 0:Ge.city)||"",state:((Rt=e.address)==null?void 0:Rt.state)||"",zipCode:((Et=e.address)==null?void 0:Et.zipCode)||"",country:((dt=e.address)==null?void 0:dt.country)||""})},[e]),p.useEffect(()=>{if(t){W(!0);try{const X=Ve(ue,"orders"),Ge=bt(X,Fi("userId","==",t.uid)),Rt=vt(Ge,Et=>{const dt=Et.docs.map(Ht=>({id:Ht.id,...Ht.data()}));dt.sort((Ht,Xs)=>{var fs,Is,en,zn;const ui=((Is=(fs=Ht.createdAt)==null?void 0:fs.toDate)==null?void 0:Is.call(fs))||new Date(0);return(((zn=(en=Xs.createdAt)==null?void 0:en.toDate)==null?void 0:zn.call(en))||new Date(0)).getTime()-ui.getTime()}),L(dt),W(!1)},Et=>{console.error("Error fetching orders:",Et),W(!1)});return()=>Rt()}catch(X){console.error("Error setting up orders listener:",X),W(!1)}}},[t]);const we=async X=>{X.preventDefault(),R(!0);try{b?(await r(k,_,T),x({title:"Account created successfully!"})):(await s(k,_),x({title:"Signed in successfully!"}))}catch(Ge){let Rt=Ge.message||"Something went wrong";Ge.code==="auth/email-already-in-use"?Rt="This email is already registered. Please sign in instead.":Ge.code==="auth/weak-password"?Rt="Password should be at least 6 characters.":Ge.code==="auth/invalid-credential"&&(Rt="Invalid email or password."),x({title:"Error",description:Rt,variant:"destructive"})}finally{R(!1)}},Se=async()=>{if(!d){x({title:"Google Sign-In Not Available",description:"Please use email/password to sign in. Google Sign-In needs to be enabled in Firebase Console.",variant:"destructive"});return}try{await o(),x({title:"Signed in successfully!"})}catch(X){x({title:"Google Sign-In Error",description:X.message||"Could not sign in with Google. Please use email/password instead.",variant:"destructive"})}},be=async()=>{if(!k){x({title:"Please enter your email address",variant:"destructive"});return}try{await a(k),x({title:"Password reset email sent!"})}catch(X){x({title:"Error",description:X.message,variant:"destructive"})}},ne=async()=>{Z(!0);try{await c({displayName:B.displayName,phone:B.phone,address:{street:B.street,city:B.city,state:B.state,zipCode:B.zipCode,country:B.country}}),x({title:"Profile updated successfully!"})}catch(X){x({title:"Error",description:X.message,variant:"destructive"})}finally{Z(!1)}},Te=async()=>{if(M.length<6){x({title:"Password must be at least 6 characters",variant:"destructive"});return}try{await u(M),$(""),x({title:"Password changed successfully!"})}catch(X){x({title:"Error",description:X.message,variant:"destructive"})}},$e=async()=>{try{await h(),x({title:"Signed out successfully!"}),w("/")}catch(X){x({title:"Error",description:X.message,variant:"destructive"})}},ot=async X=>{try{await y({productId:X.productId,name:X.name,price:X.price,image:X.image,discount:X.discount}),x({title:"Added to cart!"})}catch{x({title:"Failed to add to cart",variant:"destructive"})}},ut=X=>{switch(X.toLowerCase()){case"delivered":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"shipped":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"processing":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"cancelled":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-secondary text-secondary-foreground"}};if(n)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx(De,{className:"h-8 w-8 animate-spin"})});if(!t)return i.jsxs("div",{children:[i.jsx(lt,{}),i.jsx("main",{className:"container-kanva py-24",children:i.jsx("div",{className:"max-w-md mx-auto",children:i.jsxs(ae,{className:"border-0 shadow-xl",children:[i.jsxs(it,{className:"text-center pb-2",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-secondary flex items-center justify-center",children:i.jsx(Wr,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx(Nt,{className:"text-2xl font-heading","data-testid":"text-auth-title",children:b?"Create Account":"Welcome Back"}),i.jsx(Ra,{className:"text-base",children:b?"Join Skyntales for exclusive offers and easy checkout":"Sign in to access your account"})]}),i.jsxs(le,{className:"pt-4",children:[i.jsxs("form",{onSubmit:we,className:"space-y-4",children:[b&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"displayName",children:"Full Name"}),i.jsx(Ne,{id:"displayName",type:"text",placeholder:"Jane Doe",value:T,onChange:X=>E(X.target.value),required:b,className:"h-11","data-testid":"input-name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"email",children:"Email"}),i.jsx(Ne,{id:"email",type:"email",placeholder:"you@example.com",value:k,onChange:X=>I(X.target.value),required:!0,className:"h-11","data-testid":"input-email"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"password",children:"Password"}),i.jsx(Ne,{id:"password",type:"password",placeholder:"Enter your password",value:_,onChange:X=>S(X.target.value),required:!0,className:"h-11","data-testid":"input-password"})]}),!b&&i.jsx("button",{type:"button",onClick:be,className:"text-sm text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-forgot-password",children:"Forgot password?"}),i.jsx(ie,{type:"submit",className:"w-full h-11",disabled:P,"data-testid":"button-submit",children:P?i.jsx(De,{className:"h-4 w-4 animate-spin"}):b?"Create Account":"Sign In"})]}),i.jsxs("div",{className:"relative my-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),i.jsxs(ie,{variant:"outline",className:"w-full h-11",onClick:Se,disabled:!d,"data-testid":"button-google",children:[i.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[i.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),i.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),i.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),i.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),d?"Google":"Google (Not Configured)"]}),!d&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Enable Google Sign-In in Firebase Console to use this option"}),i.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:[b?"Already have an account?":"Don't have an account?"," ",i.jsx("button",{type:"button",onClick:()=>C(!b),className:"text-foreground hover:underline font-medium","data-testid":"button-toggle-auth",children:b?"Sign In":"Create Account"})]})]})]})})}),i.jsx(ct,{})]});const St=[{id:"overview",label:"Overview",icon:Wr},{id:"orders",label:"My Orders",icon:jn},{id:"wishlist",label:"Wishlist",icon:bs,count:m.length},{id:"addresses",label:"Addresses",icon:lh},{id:"settings",label:"Settings",icon:d1}];return i.jsxs("div",{children:[i.jsx(lt,{}),i.jsx("main",{className:"container-kanva py-20 sm:py-24 px-4 lg:px-8",children:i.jsx("div",{className:"max-w-6xl mx-auto",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:[i.jsx("aside",{className:"lg:w-72 flex-shrink-0",children:i.jsx(ae,{className:"sticky top-28",children:i.jsxs(le,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6 pb-6 border-b",children:[i.jsxs(Za,{className:"h-16 w-16",children:[i.jsx(Fj,{src:t.photoURL||"",alt:(e==null?void 0:e.displayName)||""}),i.jsx(el,{className:"bg-secondary text-xl",children:((Jt=e==null?void 0:e.displayName)==null?void 0:Jt.split(" ").map(X=>X[0]).join(""))||((tt=(qe=t.email)==null?void 0:qe[0])==null?void 0:tt.toUpperCase())})]}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h2",{className:"font-semibold text-lg truncate","data-testid":"text-user-name",children:(e==null?void 0:e.displayName)||"User"}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:t.email})]})]}),l&&i.jsxs(xe,{to:"/admin/dashboard",className:"flex items-center gap-3 p-3 mb-4 rounded-xl bg-primary/10 text-primary hover:bg-primary/20 transition-colors","data-testid":"link-admin-dashboard",children:[i.jsx(uh,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Admin Dashboard"}),i.jsx(La,{className:"h-4 w-4 ml-auto"})]}),i.jsx("nav",{className:"space-y-1",children:St.map(X=>i.jsxs("button",{onClick:()=>ye(X.id),className:`w-full flex items-center gap-3 p-3 rounded-xl transition-colors text-left ${Y===X.id?"bg-secondary text-foreground":"text-muted-foreground hover:bg-secondary/50 hover:text-foreground"}`,"data-testid":`nav-${X.id}`,children:[i.jsx(X.icon,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:X.label}),X.count!==void 0&&X.count>0&&i.jsx("span",{className:"ml-auto bg-primary text-primary-foreground text-xs px-2 py-0.5 rounded-full",children:X.count})]},X.id))}),i.jsx("div",{className:"mt-6 pt-6 border-t",children:i.jsxs(ie,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-foreground",onClick:$e,"data-testid":"button-logout",children:[i.jsx(c1,{className:"h-5 w-5 mr-3"}),"Sign Out"]})})]})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[Y==="overview"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-heading mb-2","data-testid":"text-page-title",children:["Welcome back, ",((Zt=e==null?void 0:e.displayName)==null?void 0:Zt.split(" ")[0])||"there","!"]}),i.jsx("p",{className:"text-muted-foreground",children:"Here's an overview of your account activity."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(ae,{className:"hover-elevate cursor-pointer",onClick:()=>ye("orders"),children:i.jsx(le,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"h-12 w-12 rounded-xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:i.jsx(jn,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:D.length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"})]})]})})}),i.jsx(ae,{className:"hover-elevate cursor-pointer",onClick:()=>ye("wishlist"),children:i.jsx(le,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"h-12 w-12 rounded-xl bg-pink-100 dark:bg-pink-900/30 flex items-center justify-center",children:i.jsx(bs,{className:"h-6 w-6 text-pink-600 dark:text-pink-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:m.length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Wishlist Items"})]})]})})}),i.jsx(ae,{className:"hover-elevate cursor-pointer",onClick:()=>ye("addresses"),children:i.jsx(le,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"h-12 w-12 rounded-xl bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:i.jsx(lh,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:B.street?"1":"0"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Saved Addresses"})]})]})})})]}),D.length>0&&i.jsxs(ae,{children:[i.jsxs(it,{className:"flex flex-row items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(Nt,{className:"text-lg",children:"Recent Orders"}),i.jsx(Ra,{children:"Your latest purchases"})]}),i.jsxs(ie,{variant:"ghost",size:"sm",onClick:()=>ye("orders"),children:["View All",i.jsx(La,{className:"h-4 w-4 ml-1"})]})]}),i.jsx(le,{children:i.jsx("div",{className:"space-y-3",children:D.slice(0,3).map(X=>{var Ge,Rt,Et;return i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-secondary/30",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:["Order #",X.orderNumber]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:((Et=(Rt=(Ge=X.createdAt)==null?void 0:Ge.toDate)==null?void 0:Rt.call(Ge))==null?void 0:Et.toLocaleDateString())||"Recent"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-medium",children:["",X.total.toFixed(2)]}),i.jsx("span",{className:`inline-block px-2 py-0.5 text-xs rounded-full ${ut(X.status)}`,children:X.status})]})]},X.id)})})})]}),m.length>0&&i.jsxs(ae,{children:[i.jsxs(it,{className:"flex flex-row items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(Nt,{className:"text-lg",children:"Wishlist"}),i.jsx(Ra,{children:"Products you've saved"})]}),i.jsxs(ie,{variant:"ghost",size:"sm",onClick:()=>ye("wishlist"),children:["View All",i.jsx(La,{className:"h-4 w-4 ml-1"})]})]}),i.jsx(le,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:m.slice(0,4).map(X=>i.jsxs(xe,{to:`/shop/product/${X.productId}`,className:"group",children:[i.jsx("div",{className:"aspect-square rounded-xl overflow-hidden bg-secondary mb-2",children:i.jsx("img",{src:X.image,alt:X.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),i.jsx("p",{className:"text-sm font-medium truncate",children:X.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["",X.price.toFixed(2)]})]},X.id))})})]})]}),Y==="orders"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-heading mb-2","data-testid":"text-orders-title",children:"My Orders"}),i.jsx("p",{className:"text-muted-foreground",children:"View and track all your orders."})]}),F?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(De,{className:"h-8 w-8 animate-spin"})}):D.length===0?i.jsx(ae,{children:i.jsxs(le,{className:"py-16 text-center",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-secondary flex items-center justify-center",children:i.jsx(jn,{className:"h-10 w-10 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No orders yet"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Start shopping to see your orders here."}),i.jsx(ie,{asChild:!0,"data-testid":"button-start-shopping",children:i.jsx(xe,{to:"/shop",children:"Start Shopping"})})]})}):i.jsx("div",{className:"space-y-4",children:D.map(X=>{var Ge,Rt,Et,dt;return i.jsx(ae,{"data-testid":`order-${X.id}`,className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{q(X),ve(!0)},children:i.jsxs(le,{className:"p-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[i.jsxs("h3",{className:"font-semibold text-lg",children:["Order #",X.orderNumber]}),i.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${ut(X.status)}`,children:X.status})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Placed on ",((Et=(Rt=(Ge=X.createdAt)==null?void 0:Ge.toDate)==null?void 0:Rt.call(Ge))==null?void 0:Et.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))||"Recently"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-2xl font-bold",children:["",X.total.toFixed(2)]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[((dt=X.items)==null?void 0:dt.length)||0," items"]})]})]}),X.items&&X.items.length>0&&i.jsxs("div",{className:"flex gap-2 overflow-x-auto py-2",children:[X.items.slice(0,4).map((Ht,Xs)=>i.jsx("div",{className:"w-16 h-16 flex-shrink-0 rounded-lg overflow-hidden bg-secondary",children:i.jsx("img",{src:Ht.image,alt:Ht.name,className:"w-full h-full object-cover"})},Xs)),X.items.length>4&&i.jsxs("div",{className:"w-16 h-16 flex-shrink-0 rounded-lg bg-secondary flex items-center justify-center text-sm text-muted-foreground",children:["+",X.items.length-4]})]}),i.jsxs("div",{className:"mt-3 text-sm text-primary flex items-center gap-1",children:["View Details ",i.jsx(La,{className:"h-4 w-4"})]})]})},X.id)})})]}),Y==="wishlist"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-heading mb-2","data-testid":"text-wishlist-title",children:"My Wishlist"}),i.jsx("p",{className:"text-muted-foreground",children:"Products you've saved for later."})]}),m.length===0?i.jsx(ae,{children:i.jsxs(le,{className:"py-16 text-center",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-secondary flex items-center justify-center",children:i.jsx(bs,{className:"h-10 w-10 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Your wishlist is empty"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Start adding your favorite products!"}),i.jsx(ie,{asChild:!0,"data-testid":"button-browse-products",children:i.jsx(xe,{to:"/shop",children:"Browse Products"})})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(X=>i.jsx(ae,{className:"overflow-hidden","data-testid":`wishlist-item-${X.productId}`,children:i.jsx(le,{className:"p-0",children:i.jsxs("div",{className:"flex",children:[i.jsx(xe,{to:`/shop/product/${X.productId}`,className:"w-32 h-32 flex-shrink-0",children:i.jsx("img",{src:X.image,alt:X.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1 p-4 flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{children:[i.jsx(xe,{to:`/shop/product/${X.productId}`,className:"font-medium hover:underline",children:X.name}),i.jsxs("p",{className:"text-lg font-semibold mt-1",children:["",X.price.toFixed(2)]})]}),i.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>g(X.id),"data-testid":`button-remove-wishlist-${X.productId}`,children:i.jsx(Ii,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"mt-auto",children:i.jsxs(ie,{size:"sm",className:"gap-2",onClick:()=>ot(X),"data-testid":`button-add-to-cart-${X.productId}`,children:[i.jsx(Yo,{className:"h-4 w-4"}),"Add to Cart"]})})]})]})})},X.id))})]}),Y==="addresses"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-heading mb-2","data-testid":"text-addresses-title",children:"Shipping Address"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage your shipping address for faster checkout."})]}),i.jsx(ae,{children:i.jsxs(le,{className:"p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"street",children:"Street Address"}),i.jsx(Ne,{id:"street",value:B.street,onChange:X=>V({...B,street:X.target.value}),placeholder:"123 Main Street",className:"h-11","data-testid":"input-street"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"city",children:"City"}),i.jsx(Ne,{id:"city",value:B.city,onChange:X=>V({...B,city:X.target.value}),placeholder:"City",className:"h-11","data-testid":"input-city"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"state",children:"State/Province"}),i.jsx(Ne,{id:"state",value:B.state,onChange:X=>V({...B,state:X.target.value}),placeholder:"State",className:"h-11","data-testid":"input-state"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"zipCode",children:"ZIP/Postal Code"}),i.jsx(Ne,{id:"zipCode",value:B.zipCode,onChange:X=>V({...B,zipCode:X.target.value}),placeholder:"12345",className:"h-11","data-testid":"input-zip"})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx(me,{htmlFor:"country",children:"Country"}),i.jsx(Ne,{id:"country",value:B.country,onChange:X=>V({...B,country:X.target.value}),placeholder:"Country",className:"h-11","data-testid":"input-country"})]})]}),i.jsx("div",{className:"mt-6",children:i.jsxs(ie,{onClick:ne,disabled:G,"data-testid":"button-save-address",children:[G?i.jsx(De,{className:"h-4 w-4 animate-spin mr-2"}):null,"Save Address"]})})]})})]}),Y==="settings"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-heading mb-2","data-testid":"text-settings-title",children:"Account Settings"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage your profile and security settings."})]}),i.jsxs(ae,{children:[i.jsxs(it,{children:[i.jsxs(Nt,{className:"flex items-center gap-2",children:[i.jsx(Wr,{className:"h-5 w-5"}),"Profile Information"]}),i.jsx(Ra,{children:"Update your personal details"})]}),i.jsxs(le,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"displayName",children:"Display Name"}),i.jsx(Ne,{id:"displayName",value:B.displayName,onChange:X=>V({...B,displayName:X.target.value}),placeholder:"Your name",className:"h-11","data-testid":"input-display-name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"phone",children:"Phone Number"}),i.jsx(Ne,{id:"phone",value:B.phone,onChange:X=>V({...B,phone:X.target.value}),placeholder:"+1 (555) 000-0000",className:"h-11","data-testid":"input-phone"})]})]}),i.jsxs(ie,{onClick:ne,disabled:G,"data-testid":"button-save-profile",children:[G?i.jsx(De,{className:"h-4 w-4 animate-spin mr-2"}):null,"Save Changes"]})]})]}),i.jsxs(ae,{children:[i.jsxs(it,{children:[i.jsxs(Nt,{className:"flex items-center gap-2",children:[i.jsx(Zk,{className:"h-5 w-5"}),"Security"]}),i.jsx(Ra,{children:"Change your password"})]}),i.jsxs(le,{className:"space-y-4",children:[i.jsxs("div",{className:"max-w-md space-y-2",children:[i.jsx(me,{htmlFor:"newPassword",children:"New Password"}),i.jsx(Ne,{id:"newPassword",type:"password",value:M,onChange:X=>$(X.target.value),placeholder:"Enter new password",className:"h-11","data-testid":"input-new-password"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 6 characters"})]}),i.jsx(ie,{onClick:Te,disabled:!M,"data-testid":"button-change-password",children:"Change Password"})]})]})]})]})]})})}),i.jsx(ct,{}),i.jsx(lce,{order:U,isOpen:te,onClose:()=>{ve(!1),q(null)}})]})},uce=t=>t?["tamil nadu","tamil nadoo","tamilnadu","tn"].some(s=>t.toLowerCase().includes(s))?70:100:0,Lv=(t,e,n,s)=>t.trim()!==""&&e.trim()!==""&&n.trim()!==""&&s.trim()!=="",dce=()=>new Promise(t=>{if(window.Razorpay){t(!0);return}const e=document.createElement("script");e.src="https://checkout.razorpay.com/v1/checkout.js",e.onload=()=>t(!0),e.onerror=()=>t(!1),document.body.appendChild(e)}),qA=t=>`/api/${t}.php`,hce=()=>{var R,D,L,F,W,B,V;const{user:t,userProfile:e}=Gi(),{items:n,clearCart:s}=Ol(),{toast:r}=Bi(),o=Pl(),[a,l]=p.useState(1),[c,u]=p.useState(!1),[d,h]=p.useState(!1),[m,g]=p.useState(""),[y,x]=p.useState(""),[w,v]=p.useState({firstName:((R=e==null?void 0:e.displayName)==null?void 0:R.split(" ")[0])||"",lastName:((D=e==null?void 0:e.displayName)==null?void 0:D.split(" ").slice(1).join(" "))||"",email:(t==null?void 0:t.email)||"",phone:(e==null?void 0:e.phone)||"",address:((L=e==null?void 0:e.address)==null?void 0:L.street)||"",city:((F=e==null?void 0:e.address)==null?void 0:F.city)||"",state:((W=e==null?void 0:e.address)==null?void 0:W.state)||"",zipCode:((B=e==null?void 0:e.address)==null?void 0:B.zipCode)||"",country:((V=e==null?void 0:e.address)==null?void 0:V.country)||""}),j=n,b=j.reduce((M,$)=>M+$.price*$.quantity,0),C=Lv(w.city,w.state,w.zipCode,w.country),I=C?uce(w.state):0,_=b+I,S=(M,$)=>{const G={...w,[M]:$};v(G),(M==="state"||M==="city"||M==="zipCode"||M==="country")&&(Lv(G.city,G.state,G.zipCode,G.country)?x(""):x("Please fill in all location fields (City, State, ZIP/Postal Code, Country)"))},T=M=>{if(M.preventDefault(),!w.firstName||!w.lastName||!w.email||!w.address||!w.city||!w.zipCode){r({title:"Please fill in all required fields",variant:"destructive"});return}if(!Lv(w.city,w.state,w.zipCode,w.country)){x("Please fill in all location fields (City, State, ZIP/Postal Code, Country)"),r({title:"Location validation failed",description:"Please complete all location details",variant:"destructive"});return}x(""),l(2)},E=async M=>{const $=`ORD-${Date.now().toString(36).toUpperCase()}`,G=w.state.toLowerCase().includes("tamil")?"Tamil Nadu":"Outside Tamil Nadu",Z={orderNumber:$,userId:(t==null?void 0:t.uid)||"guest",userEmail:w.email,status:"processing",items:j.map(U=>({productId:U.productId,name:U.name,price:U.price,quantity:U.quantity,image:U.image})),shipping:{firstName:w.firstName,lastName:w.lastName,email:w.email,phone:w.phone,address:w.address,city:w.city,state:w.state,zipCode:w.zipCode,country:w.country,location:G},paymentMethod:"razorpay",paymentDetails:{paymentId:M.razorpay_payment_id,orderId:M.razorpay_order_id,signature:M.razorpay_signature,status:"paid"},subtotal:b,shippingCost:I,total:_,createdAt:Xe()};return await ai(Ve(ue,"orders"),Z),$},P=p.useCallback(async()=>{if(!C){r({title:"Please complete shipping details first",variant:"destructive"});return}u(!0);try{if(!await dce())throw new Error("Failed to load payment gateway");const $=await fetch(qA("create-order"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cartItems:j.map(q=>({productId:q.productId,name:q.name,price:q.price,quantity:q.quantity})),shippingState:w.state,currency:"INR"})});if(!$.ok){const q=await $.json();throw new Error(q.error||"Failed to create order")}const G=await $.json(),Z={key:"rzp_live_IaTsJsviHehuIP",amount:G.amount,currency:G.currency,order_id:G.order_id||G.id,name:"Skyntales",description:`Order for ${j.length} item(s)`,image:"/logo.png",handler:async q=>{try{if((await(await fetch(qA("verify-payment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)})).json()).status==="success"){const Y=await E(q);await s(),g(Y),h(!0),r({title:"Payment successful!",description:`Order ${Y} has been placed.`})}else r({title:"Payment verification failed",description:"Please contact support with your payment ID: "+q.razorpay_payment_id,variant:"destructive"})}catch(te){console.error("Order creation error:",te),r({title:"Payment received but order creation failed",description:"Please contact support with your payment ID: "+q.razorpay_payment_id,variant:"destructive"})}finally{u(!1)}},prefill:{name:`${w.firstName} ${w.lastName}`,email:w.email,contact:w.phone||""},notes:{address:`${w.address}, ${w.city}, ${w.state} ${w.zipCode}`},theme:{color:"#1a1a1a"},modal:{ondismiss:()=>{u(!1),r({title:"Payment cancelled",description:"You can try again when ready.",variant:"destructive"})}}},U=new window.Razorpay(Z);U.on("payment.failed",q=>{var te;u(!1),r({title:"Payment failed",description:((te=q.error)==null?void 0:te.description)||"Please try again.",variant:"destructive"})}),U.open()}catch(M){u(!1),console.error("Payment error:",M),r({title:"Could not initiate payment",description:M.message||"Please try again.",variant:"destructive"})}},[_,w,j,C,s,r]);return n.length===0&&!d?i.jsxs("div",{children:[i.jsx(lt,{}),i.jsx("main",{className:"container-kanva py-24",children:i.jsxs("div",{className:"max-w-lg mx-auto text-center",children:[i.jsx(Yo,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),i.jsx("h1",{className:"text-2xl font-heading mb-4","data-testid":"text-empty-cart",children:"Your cart is empty"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Add some products to your cart before checking out."}),i.jsx(ie,{asChild:!0,"data-testid":"button-continue-shopping",children:i.jsx(xe,{to:"/shop",children:"Continue Shopping"})})]})}),i.jsx(ct,{})]}):d?i.jsxs("div",{children:[i.jsx(lt,{}),i.jsx("main",{className:"container-kanva py-24",children:i.jsxs("div",{className:"max-w-lg mx-auto text-center",children:[i.jsx(yn,{className:"h-20 w-20 mx-auto mb-6 text-green-500"}),i.jsx("h1",{className:"text-3xl font-heading mb-4","data-testid":"text-order-success",children:"Payment Successful!"}),i.jsx("p",{className:"text-muted-foreground mb-2",children:"Thank you for your order."}),i.jsxs("p",{className:"font-medium mb-6","data-testid":"text-order-number",children:["Order Number: ",m]}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-8",children:["We've sent a confirmation email to ",w.email]}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsx(ie,{asChild:!0,variant:"outline","data-testid":"button-view-orders",children:i.jsx(xe,{to:"/account?view=orders",children:"View Orders"})}),i.jsx(ie,{asChild:!0,"data-testid":"button-continue-shopping-success",children:i.jsx(xe,{to:"/shop",children:"Continue Shopping"})})]})]})}),i.jsx(ct,{})]}):i.jsxs("div",{children:[i.jsx(lt,{}),i.jsx("main",{className:"container-kanva py-20 sm:py-24 px-4 lg:px-8",children:i.jsxs("div",{className:"max-w-5xl mx-auto",children:[i.jsxs(ie,{variant:"ghost",className:"mb-6",onClick:()=>o(-1),"data-testid":"button-back",children:[i.jsx(Ip,{className:"h-4 w-4 mr-2"}),"Back"]}),i.jsx("h1",{className:"text-3xl font-heading mb-8","data-testid":"text-checkout-title",children:"Checkout"}),i.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[i.jsxs("div",{className:`flex items-center gap-2 ${a>=1?"text-foreground":"text-muted-foreground"}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${a>=1?"bg-primary text-primary-foreground":"bg-secondary"}`,children:"1"}),i.jsx("span",{className:"hidden sm:inline",children:"Shipping"})]}),i.jsx("div",{className:`w-12 h-0.5 ${a>=2?"bg-primary":"bg-secondary"}`}),i.jsxs("div",{className:`flex items-center gap-2 ${a>=2?"text-foreground":"text-muted-foreground"}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${a>=2?"bg-primary text-primary-foreground":"bg-secondary"}`,children:"2"}),i.jsx("span",{className:"hidden sm:inline",children:"Payment"})]})]}),i.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2",children:[a===1&&i.jsxs(ae,{children:[i.jsx(it,{children:i.jsxs(Nt,{className:"flex items-center gap-2",children:[i.jsx(wr,{className:"h-5 w-5"}),"Shipping Information"]})}),i.jsx(le,{children:i.jsxs("form",{onSubmit:T,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"First Name *"}),i.jsx(Ne,{value:w.firstName,onChange:M=>S("firstName",M.target.value),required:!0,"data-testid":"input-checkout-firstname"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Last Name *"}),i.jsx(Ne,{value:w.lastName,onChange:M=>S("lastName",M.target.value),required:!0,"data-testid":"input-checkout-lastname"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Email *"}),i.jsx(Ne,{type:"email",value:w.email,onChange:M=>S("email",M.target.value),required:!0,"data-testid":"input-checkout-email"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Phone"}),i.jsx(Ne,{type:"tel",value:w.phone,onChange:M=>S("phone",M.target.value),"data-testid":"input-checkout-phone"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Address *"}),i.jsx(Ne,{value:w.address,onChange:M=>S("address",M.target.value),required:!0,"data-testid":"input-checkout-address"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"City *"}),i.jsx(Ne,{value:w.city,onChange:M=>S("city",M.target.value),required:!0,"data-testid":"input-checkout-city"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"State/Province *"}),i.jsx(Ne,{value:w.state,onChange:M=>S("state",M.target.value),required:!0,"data-testid":"input-checkout-state",placeholder:"e.g., Tamil Nadu, Karnataka"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"ZIP/Postal Code *"}),i.jsx(Ne,{value:w.zipCode,onChange:M=>S("zipCode",M.target.value),required:!0,"data-testid":"input-checkout-zip",placeholder:"e.g., 600001"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Country *"}),i.jsx(Ne,{value:w.country,onChange:M=>S("country",M.target.value),required:!0,"data-testid":"input-checkout-country",placeholder:"e.g., India"})]})]}),y&&i.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md flex gap-2",children:[i.jsx(oh,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:y})]}),i.jsx(ie,{type:"submit",className:"w-full","data-testid":"button-continue-payment",children:"Continue to Payment"})]})})]}),a===2&&i.jsxs(ae,{children:[i.jsx(it,{children:i.jsxs(Nt,{className:"flex items-center gap-2",children:[i.jsx(O0,{className:"h-5 w-5"}),"Payment"]})}),i.jsxs(le,{className:"space-y-6",children:[i.jsxs("div",{className:"p-4 bg-secondary/50 rounded-lg",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Shipping to:"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[w.firstName," ",w.lastName,i.jsx("br",{}),w.address,i.jsx("br",{}),w.city,", ",w.state," ",w.zipCode,i.jsx("br",{}),w.country]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("img",{src:"https://razorpay.com/assets/razorpay-glyph.svg",alt:"Razorpay",className:"h-8 w-8"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"Pay with Razorpay"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Secure payment via UPI, Cards, Netbanking & more"})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"You will be redirected to Razorpay's secure payment gateway to complete your purchase."})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(ie,{type:"button",variant:"outline",onClick:()=>l(1),"data-testid":"button-back-shipping",children:"Back to Shipping"}),i.jsxs(ie,{type:"button",className:"flex-1",disabled:c,onClick:P,"data-testid":"button-pay-now",children:[c?i.jsx(De,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx(O0,{className:"h-4 w-4 mr-2"}),c?"Processing...":`Pay ${_.toFixed(2)}`]})]})]})]})]}),i.jsx("div",{children:i.jsxs(ae,{children:[i.jsx(it,{children:i.jsx(Nt,{children:"Order Summary"})}),i.jsxs(le,{className:"space-y-4",children:[j.map((M,$)=>i.jsxs("div",{className:"flex gap-3","data-testid":`checkout-item-${M.id}`,children:[i.jsx("img",{src:M.image,alt:M.name,className:"w-16 h-16 object-cover rounded"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-sm",children:M.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Qty: ",M.quantity]}),i.jsxs("p",{className:"text-sm",children:["",(M.price*M.quantity).toFixed(2)]})]})]},$)),i.jsx(wn,{}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),i.jsxs("span",{children:["",b.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{"data-testid":"text-shipping-cost",children:I===0?"Not calculated":`${I}`}),C&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:w.state.toLowerCase().includes("tamil")?"Tamil Nadu":"Outside Tamil Nadu"})]})]})]}),i.jsx(wn,{}),i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Total"}),i.jsxs("span",{"data-testid":"text-total",children:["",_.toFixed(2)]})]}),!C&&i.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 text-center bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded",children:"Complete location details to calculate shipping"})]})]})})]})]})}),i.jsx(ct,{})]})},fce=()=>i.jsxs("div",{children:[i.jsx(lt,{}),i.jsx("main",{className:"container-kanva py-24",children:i.jsx("h1",{className:"text-4xl font-heading",children:"Privacy Policy"})}),i.jsx(ct,{})]}),mce=()=>i.jsxs("div",{children:[i.jsx(lt,{}),i.jsx("main",{className:"container-kanva py-24",children:i.jsx("h1",{className:"text-4xl font-heading",children:"Cookies"})}),i.jsx(ct,{})]}),pce=()=>{const t=Al();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),i.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[i.jsx(lt,{}),i.jsx("main",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"container-kanva text-center py-24",children:[i.jsx("h1",{className:"text-display font-heading mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Oops! The page you're looking for doesn't exist."}),i.jsx(xe,{to:"/",className:"btn-kanva-primary",children:"Return to Home"})]})}),i.jsx(ct,{})]})},gce=()=>{const[t,e]=p.useState(""),[n,s]=p.useState(""),[r,o]=p.useState(!1),a=Pl(),{toast:l}=Bi(),{user:c,loading:u,signIn:d,isAdmin:h}=Gi();p.useEffect(()=>{!u&&c&&h&&a("/admin/dashboard")},[c,h,u,a]);const m=async g=>{g.preventDefault(),o(!0);try{await d(t,n),l({title:"Signed in",description:"Checking admin access..."})}catch(y){l({title:"Invalid credentials",description:y.message||"Please check your email and password.",variant:"destructive"})}o(!1)};return u?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx("div",{className:"h-12 w-12 rounded-xl bg-primary flex items-center justify-center animate-pulse",children:i.jsx("span",{className:"text-primary-foreground font-bold text-xl",children:"K"})}),i.jsx(De,{className:"h-6 w-6 animate-spin text-muted-foreground"})]})}):c&&!h?i.jsx("div",{className:"min-h-screen bg-muted/30 flex items-center justify-center px-4",children:i.jsx(ae,{className:"w-full max-w-md",children:i.jsx(le,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-destructive/10 flex items-center justify-center mb-4",children:i.jsx(e8,{className:"h-8 w-8 text-destructive"})}),i.jsx("h1",{className:"font-heading text-2xl font-semibold text-foreground mb-2",children:"Access Denied"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Your account does not have administrator privileges. Please contact the system administrator if you believe this is an error."}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(ie,{variant:"outline",onClick:()=>a("/"),"data-testid":"button-go-home",children:[i.jsx(Ip,{className:"h-4 w-4 mr-2"}),"Go Home"]}),i.jsx(ie,{onClick:()=>a("/account"),"data-testid":"button-my-account",children:"My Account"})]})]})})})}):i.jsx("div",{className:"min-h-screen bg-muted/30 flex items-center justify-center px-4 py-12",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs(xe,{to:"/",className:"inline-flex items-center gap-2 mb-6",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"S"})}),i.jsx("span",{className:"font-heading text-xl font-semibold",children:"Skyntales"})]}),i.jsx("h1",{className:"font-heading text-3xl font-semibold text-foreground mb-2","data-testid":"text-admin-title",children:"Admin Portal"}),i.jsx("p",{className:"text-muted-foreground",children:"Sign in to access the dashboard"})]}),i.jsxs(ae,{className:"shadow-lg",children:[i.jsxs(it,{className:"space-y-1 pb-4",children:[i.jsx(Nt,{className:"text-xl",children:"Sign in"}),i.jsx(Ra,{children:"Enter your admin credentials below"})]}),i.jsx(le,{children:i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"email",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ko,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ne,{id:"email",type:"email",placeholder:"admin@example.com",value:t,onChange:g=>e(g.target.value),required:!0,className:"pl-10",autoComplete:"email","data-testid":"input-admin-email"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"password",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Zk,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ne,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:g=>s(g.target.value),required:!0,className:"pl-10",autoComplete:"current-password","data-testid":"input-admin-password"})]})]}),i.jsx(ie,{type:"submit",className:"w-full",size:"lg",disabled:r,"data-testid":"button-admin-login",children:r?i.jsxs(i.Fragment,{children:[i.jsx(De,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})})]}),i.jsx("div",{className:"text-center mt-6",children:i.jsxs(xe,{to:"/",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:[i.jsx(Ip,{className:"inline h-4 w-4 mr-1"}),"Back to Store"]})})]})})},xce=[{icon:T9,label:"Dashboard",href:"/admin/dashboard"},{icon:jn,label:"Products",href:"/admin/products"},{icon:ld,label:"Collections",href:"/admin/collections"},{icon:Bg,label:"Featured",href:"/admin/featured"},{icon:U0,label:"Orders",href:"/admin/orders"},{icon:Qc,label:"Users",href:"/admin/users"},{icon:Ko,label:"Contact",href:"/admin/contact"},{icon:ch,label:"Newsletter",href:"/admin/newsletter"},{icon:F0,label:"Ads",href:"/admin/ads"},{icon:V0,label:"Blogs",href:"/admin/blogs"},{icon:l1,label:"Instagram",href:"/admin/instagram"}],yce=()=>{const t=Al(),e=Pl(),[n,s]=p.useState(!1),{logout:r,userProfile:o}=Gi(),a=async()=>{await r(),e("/admin")},l=(u,d)=>u?u.split(" ").map(h=>h[0]).join("").toUpperCase().slice(0,2):d?d[0].toUpperCase():"A",c=()=>i.jsxs("div",{className:"flex flex-col h-full bg-card",children:[i.jsxs("div",{className:"p-5 flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"S"})}),i.jsxs("div",{children:[i.jsx(xe,{to:"/",className:"font-heading text-xl font-semibold text-foreground","data-testid":"link-home",children:"Skyntales"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin Panel"})]})]}),i.jsx(wn,{}),i.jsxs(Ei,{className:"flex-1 px-3 py-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Menu"}),xce.map(u=>{const d=t.pathname===u.href;return i.jsxs(xe,{to:u.href,onClick:()=>s(!1),className:ce("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 group",d?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":`link-admin-${u.label.toLowerCase()}`,children:[i.jsx(u.icon,{size:20,className:ce("transition-transform duration-200",!d&&"group-hover:scale-110")}),i.jsx("span",{className:"font-medium",children:u.label}),d&&i.jsx(La,{size:16,className:"ml-auto"})]},u.href)})]}),i.jsx(wn,{className:"my-4"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Quick Links"}),i.jsxs(xe,{to:"/",onClick:()=>s(!1),className:"flex items-center gap-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-muted hover:text-foreground transition-all duration-200","data-testid":"link-view-store",children:[i.jsx(d1,{size:20}),i.jsx("span",{className:"font-medium",children:"View Store"})]})]})]}),i.jsx(wn,{}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50 mb-3",children:[i.jsx(Za,{className:"h-10 w-10",children:i.jsx(el,{className:"bg-primary/10 text-primary font-semibold",children:l(o==null?void 0:o.displayName,o==null?void 0:o.email)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:(o==null?void 0:o.displayName)||"Admin"}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:o==null?void 0:o.email})]})]}),i.jsxs(ie,{variant:"outline",className:"w-full justify-start gap-3",onClick:a,"data-testid":"button-admin-logout",children:[i.jsx(c1,{size:18}),i.jsx("span",{children:"Sign Out"})]})]})]});return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 h-16 bg-card border-b border-border z-50 flex items-center justify-between px-4 shadow-sm",children:[i.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>s(!0),"data-testid":"button-mobile-menu",children:i.jsx(e2,{size:24})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"S"})}),i.jsx("span",{className:"font-heading text-lg font-semibold",children:"Skyntales Admin"})]}),i.jsx("div",{className:"w-10"})]}),n&&i.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[i.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm transition-opacity",onClick:()=>s(!1)}),i.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-72 bg-card border-r border-border shadow-xl animate-in slide-in-from-left duration-300",children:[i.jsx(ie,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-10",onClick:()=>s(!1),"data-testid":"button-close-menu",children:i.jsx(Ks,{size:20})}),i.jsx(c,{})]})]}),i.jsx("div",{className:"hidden lg:flex fixed left-0 top-0 bottom-0 w-64 bg-card border-r border-border shadow-sm",children:i.jsx("div",{className:"w-full",children:i.jsx(c,{})})})]})},fn=({children:t})=>{const e=Pl(),{user:n,loading:s,isAdmin:r}=Gi();return p.useEffect(()=>{s||n&&r||e("/admin")},[n,r,s,e]),s?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx("div",{className:"h-12 w-12 rounded-xl bg-primary flex items-center justify-center animate-pulse",children:i.jsx("span",{className:"text-primary-foreground font-bold text-xl",children:"S"})}),i.jsx(De,{className:"h-6 w-6 animate-spin text-muted-foreground"})]})}):!n||!r?null:i.jsxs("div",{className:"min-h-screen bg-muted/30",children:[i.jsx(yce,{}),i.jsx("div",{className:"lg:ml-64 pt-16 lg:pt-0 min-h-screen",children:i.jsx("main",{className:"p-4 md:p-6 lg:p-8 max-w-7xl mx-auto",children:t})})]})};function Cr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function bl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const C5=6048e5,vce=864e5;let wce={};function Kx(){return wce}function Fh(t,e){var l,c,u,d;const n=Kx(),s=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,r=Cr(t),o=r.getDay(),a=(o<s?7:0)+o-s;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function bg(t){return Fh(t,{weekStartsOn:1})}function A5(t){const e=Cr(t),n=e.getFullYear(),s=bl(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const r=bg(s),o=bl(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=bg(o);return e.getTime()>=r.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function GA(t){const e=Cr(t);return e.setHours(0,0,0,0),e}function KA(t){const e=Cr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function bce(t,e){const n=GA(t),s=GA(e),r=+n-KA(n),o=+s-KA(s);return Math.round((r-o)/vce)}function jce(t){const e=A5(t),n=bl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),bg(n)}function Nce(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _ce(t){if(!Nce(t)&&typeof t!="number")return!1;const e=Cr(t);return!isNaN(Number(e))}function Sce(t){const e=Cr(t),n=bl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Ece={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Tce=(t,e,n)=>{let s;const r=Ece[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Vv(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Cce={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ace={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Pce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ice={date:Vv({formats:Cce,defaultWidth:"full"}),time:Vv({formats:Ace,defaultWidth:"full"}),dateTime:Vv({formats:Pce,defaultWidth:"full"})},kce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Rce=(t,e,n,s)=>kce[t];function nd(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;r=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[l]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return r[o]}}const Dce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Oce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Lce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Fce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Uce=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$ce={ordinalNumber:Uce,era:nd({values:Dce,defaultWidth:"wide"}),quarter:nd({values:Mce,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nd({values:Oce,defaultWidth:"wide"}),day:nd({values:Lce,defaultWidth:"wide"}),dayPeriod:nd({values:Vce,defaultWidth:"wide",formattingValues:Fce,defaultFormattingWidth:"wide"})};function sd(t){return(e,n={})=>{const s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],o=e.match(r);if(!o)return null;const a=o[0],l=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Bce(l,h=>h.test(a)):zce(l,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function zce(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Bce(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Wce(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const r=s[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(r.length);return{value:a,rest:l}}}const Hce=/^(\d+)(th|st|nd|rd)?/i,qce=/\d+/i,Gce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Kce={any:[/^b/i,/^(a|c)/i]},Yce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Qce={any:[/1/i,/2/i,/3/i,/4/i]},Xce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Zce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sue={ordinalNumber:Wce({matchPattern:Hce,parsePattern:qce,valueCallback:t=>parseInt(t,10)}),era:sd({matchPatterns:Gce,defaultMatchWidth:"wide",parsePatterns:Kce,defaultParseWidth:"any"}),quarter:sd({matchPatterns:Yce,defaultMatchWidth:"wide",parsePatterns:Qce,defaultParseWidth:"any",valueCallback:t=>t+1}),month:sd({matchPatterns:Xce,defaultMatchWidth:"wide",parsePatterns:Jce,defaultParseWidth:"any"}),day:sd({matchPatterns:Zce,defaultMatchWidth:"wide",parsePatterns:eue,defaultParseWidth:"any"}),dayPeriod:sd({matchPatterns:tue,defaultMatchWidth:"any",parsePatterns:nue,defaultParseWidth:"any"})},rue={code:"en-US",formatDistance:Tce,formatLong:Ice,formatRelative:Rce,localize:$ce,match:sue,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iue(t){const e=Cr(t);return bce(e,Sce(e))+1}function oue(t){const e=Cr(t),n=+bg(e)-+jce(e);return Math.round(n/C5)+1}function P5(t,e){var d,h,m,g;const n=Cr(t),s=n.getFullYear(),r=Kx(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,a=bl(t,0);a.setFullYear(s+1,0,o),a.setHours(0,0,0,0);const l=Fh(a,e),c=bl(t,0);c.setFullYear(s,0,o),c.setHours(0,0,0,0);const u=Fh(c,e);return n.getTime()>=l.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function aue(t,e){var l,c,u,d;const n=Kx(),s=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,r=P5(t,e),o=bl(t,0);return o.setFullYear(r,0,s),o.setHours(0,0,0,0),Fh(o,e)}function lue(t,e){const n=Cr(t),s=+Fh(n,e)-+aue(n,e);return Math.round(s/C5)+1}function nt(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const lo={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return nt(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):nt(n+1,2)},d(t,e){return nt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return nt(t.getHours()%12||12,e.length)},H(t,e){return nt(t.getHours(),e.length)},m(t,e){return nt(t.getMinutes(),e.length)},s(t,e){return nt(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return nt(r,e.length)}},Xl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},YA={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return lo.y(t,e)},Y:function(t,e,n,s){const r=P5(t,s),o=r>0?r:1-r;if(e==="YY"){const a=o%100;return nt(a,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):nt(o,e.length)},R:function(t,e){const n=A5(t);return nt(n,e.length)},u:function(t,e){const n=t.getFullYear();return nt(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return nt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return nt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return lo.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return nt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const r=lue(t,s);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):nt(r,e.length)},I:function(t,e,n){const s=oue(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):nt(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):lo.d(t,e)},D:function(t,e,n){const s=iue(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):nt(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const r=t.getDay(),o=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return nt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const r=t.getDay(),o=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return nt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return nt(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let r;switch(s===12?r=Xl.noon:s===0?r=Xl.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let r;switch(s>=17?r=Xl.evening:s>=12?r=Xl.afternoon:s>=4?r=Xl.morning:r=Xl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return lo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):lo.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):nt(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):nt(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):lo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):lo.s(t,e)},S:function(t,e){return lo.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return XA(s);case"XXXX":case"XX":return Aa(s);case"XXXXX":case"XXX":default:return Aa(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return XA(s);case"xxxx":case"xx":return Aa(s);case"xxxxx":case"xxx":default:return Aa(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+QA(s,":");case"OOOO":default:return"GMT"+Aa(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+QA(s,":");case"zzzz":default:return"GMT"+Aa(s,":")}},t:function(t,e,n){const s=Math.trunc(t.getTime()/1e3);return nt(s,e.length)},T:function(t,e,n){const s=t.getTime();return nt(s,e.length)}};function QA(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.trunc(s/60),o=s%60;return o===0?n+String(r):n+String(r)+e+nt(o,2)}function XA(t,e){return t%60===0?(t>0?"-":"+")+nt(Math.abs(t)/60,2):Aa(t,e)}function Aa(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=nt(Math.trunc(s/60),2),o=nt(s%60,2);return n+r+e+o}const JA=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},I5=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cue=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return JA(t,e);let o;switch(s){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",JA(s,e)).replace("{{time}}",I5(r,e))},uue={p:I5,P:cue},due=/^D+$/,hue=/^Y+$/,fue=["D","DD","YY","YYYY"];function mue(t){return due.test(t)}function pue(t){return hue.test(t)}function gue(t,e,n){const s=xue(t,e,n);if(console.warn(s),fue.includes(t))throw new RangeError(s)}function xue(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wue=/^'([^]*?)'?$/,bue=/''/g,jue=/[a-zA-Z]/;function k5(t,e,n){var d,h,m,g;const s=Kx(),r=s.locale??rue,o=s.firstWeekContainsDate??((h=(d=s.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=s.weekStartsOn??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,l=Cr(t);if(!_ce(l))throw new RangeError("Invalid time value");let c=e.match(vue).map(y=>{const x=y[0];if(x==="p"||x==="P"){const w=uue[x];return w(y,r.formatLong)}return y}).join("").match(yue).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:Nue(y)};if(YA[x])return{isToken:!0,value:y};if(x.match(jue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});r.localize.preprocessor&&(c=r.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:a,locale:r};return c.map(y=>{if(!y.isToken)return y.value;const x=y.value;(pue(x)||mue(x))&&gue(x,e,String(t));const w=YA[x[0]];return w(l,x,r.localize,u)}).join("")}function Nue(t){const e=t.match(wue);return e?e[1].replace(bue,"'"):t}const _ue=t=>{switch(t){case"Delivered":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"Shipped":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"Processing":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"Pending":return"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400";case"Cancelled":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}},Fv=t=>`${t.toLocaleString("en-IN")}`,Sue=()=>{const[t,e]=p.useState(!0),[n,s]=p.useState({totalRevenue:0,orderCount:0,productCount:0,customerCount:0}),[r,o]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState(0),[d,h]=p.useState(0);p.useEffect(()=>{const y=Ve(ue,"orders"),x=vt(y,_=>{const S=[];let T=0;const E=new Set;_.forEach(P=>{var D;const R=P.data();S.push({id:P.id,customerName:R.customerName||((D=R.shippingAddress)==null?void 0:D.fullName)||"Unknown",customerEmail:R.customerEmail||R.email||"",total:R.total||0,status:R.status||"Pending",createdAt:R.createdAt}),T+=R.total||0,(R.customerEmail||R.email)&&E.add(R.customerEmail||R.email)}),S.sort((P,R)=>{var F,W,B,V;const D=((W=(F=P.createdAt)==null?void 0:F.toDate)==null?void 0:W.call(F))||new Date(0);return(((V=(B=R.createdAt)==null?void 0:B.toDate)==null?void 0:V.call(B))||new Date(0)).getTime()-D.getTime()}),o(S.slice(0,5)),s(P=>({...P,totalRevenue:T,orderCount:_.size,customerCount:E.size}))},_=>{console.error("Error fetching orders:",_),e(!1)}),w=Ve(ue,"products"),v=bt(w,Fi("status","==","Active")),j=vt(v,_=>{const S=[];_.forEach(T=>{const E=T.data();S.push({id:T.id,name:E.name||"",price:E.price||0,stock:E.stock||0,status:E.status||"Active"})}),S.sort((T,E)=>E.stock-T.stock),l(S.slice(0,4))},_=>{console.error("Error fetching products:",_)}),b=bt(Ve(ue,"products")),C=vt(b,_=>{s(S=>({...S,productCount:_.size}))}),k=Ve(ue,"reviews"),I=vt(k,_=>{let S=0,T=0;_.forEach(E=>{const P=E.data();P.rating&&(S+=P.rating,T++)}),h(T),u(T>0?S/T:0),e(!1)});return()=>{x(),j(),C(),I()}},[]);const m=y=>{if(!y)return"N/A";try{const x=y.toDate?y.toDate():new Date(y);return k5(x,"MMM d, yyyy")}catch{return"N/A"}},g=[{title:"Total Revenue",value:Fv(n.totalRevenue),icon:L0,color:"bg-green-500"},{title:"Orders",value:n.orderCount.toString(),icon:U0,color:"bg-blue-500"},{title:"Products",value:n.productCount.toString(),icon:jn,color:"bg-purple-500"},{title:"Customers",value:n.customerCount.toString(),icon:Qc,color:"bg-orange-500"}];return t?i.jsx(fn,{children:i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):i.jsx(fn,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-heading text-2xl md:text-3xl font-semibold text-foreground",children:"Dashboard"}),i.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:"Welcome back! Here's what's happening with your store."})]}),i.jsxs(wt,{variant:"outline",className:"w-fit",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500 mr-2"}),"Store Online"]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:g.map(y=>i.jsx(ae,{className:"relative overflow-hidden",children:i.jsx(le,{className:"p-5",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:y.title}),i.jsx("p",{className:"text-2xl md:text-3xl font-bold text-foreground",children:y.value}),i.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[i.jsx(kp,{size:16}),i.jsx("span",{className:"text-muted-foreground",children:"Live data"})]})]}),i.jsx("div",{className:`h-12 w-12 rounded-xl ${y.color} flex items-center justify-center shadow-lg`,children:i.jsx(y.icon,{className:"text-white",size:24})})]})})},y.title))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsxs(it,{className:"flex flex-row items-center justify-between gap-4 pb-2",children:[i.jsx(Nt,{className:"font-heading text-lg",children:"Recent Orders"}),i.jsxs(wt,{variant:"secondary",className:"font-normal",children:[r.length," recent"]})]}),i.jsx(le,{children:r.length>0?i.jsx("div",{className:"space-y-1",children:r.map(y=>i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border last:border-0 hover:bg-muted/50 -mx-2 px-2 rounded-lg transition-colors",children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-medium text-foreground truncate",children:y.customerName}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.id.substring(0,8),"... ",i.jsxs("span",{className:"hidden sm:inline",children:["- ",m(y.createdAt)]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[i.jsx("p",{className:"font-semibold text-foreground whitespace-nowrap",children:Fv(y.total)}),i.jsx(wt,{variant:"secondary",className:`${_ue(y.status)} hidden sm:flex`,children:y.status})]})]},y.id))}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(U0,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No orders yet"}),i.jsx("p",{className:"text-sm",children:"Orders will appear here when customers make purchases"})]})})]}),i.jsxs(ae,{children:[i.jsxs(it,{className:"flex flex-row items-center justify-between gap-4 pb-2",children:[i.jsx(Nt,{className:"font-heading text-lg",children:"Top Products"}),i.jsx(wt,{variant:"secondary",className:"font-normal",children:"By stock level"})]}),i.jsx(le,{children:a.length>0?i.jsx("div",{className:"space-y-1",children:a.map((y,x)=>i.jsxs("div",{className:"flex items-center gap-4 py-3 border-b border-border last:border-0 hover:bg-muted/50 -mx-2 px-2 rounded-lg transition-colors",children:[i.jsx("div",{className:`h-10 w-10 rounded-xl flex items-center justify-center text-white font-bold shadow-sm ${x===0?"bg-yellow-500":x===1?"bg-gray-400":x===2?"bg-amber-600":"bg-primary/70"}`,children:x+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-foreground truncate",children:y.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.stock," in stock"]})]}),i.jsx("p",{className:"font-semibold text-foreground whitespace-nowrap",children:Fv(y.price)})]},y.id))}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(jn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No products yet"}),i.jsx("p",{className:"text-sm",children:"Add products in the Products section"})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsx(ae,{children:i.jsx(le,{className:"p-5",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"h-12 w-12 rounded-xl bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center",children:i.jsx(Wg,{className:"text-yellow-600 dark:text-yellow-400",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:c>0?c.toFixed(1):"N/A"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d>0?`${d} reviews`:"No reviews yet"})]})]})})}),i.jsx(ae,{children:i.jsx(le,{className:"p-5",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"h-12 w-12 rounded-xl bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:i.jsx(c8,{className:"text-green-600 dark:text-green-400",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.orderCount>0?"Active":"Getting Started"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Status"})]})]})})}),i.jsx(ae,{children:i.jsx(le,{className:"p-5",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"h-12 w-12 rounded-xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:i.jsx(Qc,{className:"text-blue-600 dark:text-blue-400",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.customerCount}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Unique Customers"})]})]})})})]})]})})};function WN(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Eue=[" ","Enter","ArrowUp","ArrowDown"],Tue=[" ","Enter"],jl="Select",[Yx,Qx,Cue]=Gh(jl),[ku]=mn(jl,[Cue,ua]),Xx=ua(),[Aue,ga]=ku(jl),[Pue,Iue]=ku(jl),R5=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:r,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:m,required:g,form:y}=t,x=Xx(e),[w,v]=p.useState(null),[j,b]=p.useState(null),[C,k]=p.useState(!1),I=Tu(u),[_,S]=Cs({prop:s,defaultProp:r??!1,onChange:o,caller:jl}),[T,E]=Cs({prop:a,defaultProp:l,onChange:c,caller:jl}),P=p.useRef(null),R=w?y||!!w.closest("form"):!0,[D,L]=p.useState(new Set),F=Array.from(D).map(W=>W.props.value).join(";");return i.jsx(N1,{...x,children:i.jsxs(Aue,{required:g,scope:e,trigger:w,onTriggerChange:v,valueNode:j,onValueNodeChange:b,valueNodeHasChildren:C,onValueNodeHasChildrenChange:k,contentId:Ns(),value:T,onValueChange:E,open:_,onOpenChange:S,dir:I,triggerPointerDownPosRef:P,disabled:m,children:[i.jsx(Yx.Provider,{scope:e,children:i.jsx(Pue,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(W=>{L(B=>new Set(B).add(W))},[]),onNativeOptionRemove:p.useCallback(W=>{L(B=>{const V=new Set(B);return V.delete(W),V})},[]),children:n})}),R?i.jsxs(sV,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:h,value:T,onChange:W=>E(W.target.value),disabled:m,form:y,children:[T===void 0?i.jsx("option",{value:""}):null,Array.from(D)]},F):null]})})};R5.displayName=jl;var D5="SelectTrigger",M5=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...r}=t,o=Xx(n),a=ga(D5,n),l=a.disabled||s,c=Ie(e,a.onTriggerChange),u=Qx(n),d=p.useRef("touch"),[h,m,g]=iV(x=>{const w=u().filter(b=>!b.disabled),v=w.find(b=>b.value===a.value),j=oV(w,x,v);j!==void 0&&a.onValueChange(j.value)}),y=x=>{l||(a.onOpenChange(!0),g()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return i.jsx(Jh,{asChild:!0,...o,children:i.jsx(pe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":rV(a.value)?"":void 0,...r,ref:c,onClick:se(r.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&y(x)}),onPointerDown:se(r.onPointerDown,x=>{d.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:se(r.onKeyDown,x=>{const w=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(w&&x.key===" ")&&Eue.includes(x.key)&&(y(),x.preventDefault())})})})});M5.displayName=D5;var O5="SelectValue",L5=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,children:o,placeholder:a="",...l}=t,c=ga(O5,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,h=Ie(e,c.onValueNodeChange);return $t(()=>{u(d)},[u,d]),i.jsx(pe.span,{...l,ref:h,style:{pointerEvents:"none"},children:rV(c.value)?i.jsx(i.Fragment,{children:a}):o})});L5.displayName=O5;var kue="SelectIcon",V5=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...r}=t;return i.jsx(pe.span,{"aria-hidden":!0,...r,ref:e,children:s||""})});V5.displayName=kue;var Rue="SelectPortal",F5=t=>i.jsx(fu,{asChild:!0,...t});F5.displayName=Rue;var Nl="SelectContent",U5=p.forwardRef((t,e)=>{const n=ga(Nl,t.__scopeSelect),[s,r]=p.useState();if($t(()=>{r(new DocumentFragment)},[]),!n.open){const o=s;return o?El.createPortal(i.jsx($5,{scope:t.__scopeSelect,children:i.jsx(Yx.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),o):null}return i.jsx(z5,{...t,ref:e})});U5.displayName=Nl;var sr=10,[$5,xa]=ku(Nl),Due="SelectContentImpl",Mue=qo("SelectContent.RemoveScroll"),z5=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:y,hideWhenDetached:x,avoidCollisions:w,...v}=t,j=ga(Nl,n),[b,C]=p.useState(null),[k,I]=p.useState(null),_=Ie(e,Y=>C(Y)),[S,T]=p.useState(null),[E,P]=p.useState(null),R=Qx(n),[D,L]=p.useState(!1),F=p.useRef(!1);p.useEffect(()=>{if(b)return Ix(b)},[b]),Ax();const W=p.useCallback(Y=>{const[ye,...we]=R().map(ne=>ne.ref.current),[Se]=we.slice(-1),be=document.activeElement;for(const ne of Y)if(ne===be||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===ye&&k&&(k.scrollTop=0),ne===Se&&k&&(k.scrollTop=k.scrollHeight),ne==null||ne.focus(),document.activeElement!==be))return},[R,k]),B=p.useCallback(()=>W([S,b]),[W,S,b]);p.useEffect(()=>{D&&B()},[D,B]);const{onOpenChange:V,triggerPointerDownPosRef:M}=j;p.useEffect(()=>{if(b){let Y={x:0,y:0};const ye=Se=>{var be,ne;Y={x:Math.abs(Math.round(Se.pageX)-(((be=M.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(Se.pageY)-(((ne=M.current)==null?void 0:ne.y)??0))}},we=Se=>{Y.x<=10&&Y.y<=10?Se.preventDefault():b.contains(Se.target)||V(!1),document.removeEventListener("pointermove",ye),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",we,{capture:!0})}}},[b,V,M]),p.useEffect(()=>{const Y=()=>V(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[V]);const[$,G]=iV(Y=>{const ye=R().filter(be=>!be.disabled),we=ye.find(be=>be.ref.current===document.activeElement),Se=oV(ye,Y,we);Se&&setTimeout(()=>Se.ref.current.focus())}),Z=p.useCallback((Y,ye,we)=>{const Se=!F.current&&!we;(j.value!==void 0&&j.value===ye||Se)&&(T(Y),Se&&(F.current=!0))},[j.value]),U=p.useCallback(()=>b==null?void 0:b.focus(),[b]),q=p.useCallback((Y,ye,we)=>{const Se=!F.current&&!we;(j.value!==void 0&&j.value===ye||Se)&&P(Y)},[j.value]),te=s==="popper"?eb:B5,ve=te===eb?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:y,hideWhenDetached:x,avoidCollisions:w}:{};return i.jsx($5,{scope:n,content:b,viewport:k,onViewportChange:I,itemRefCallback:Z,selectedItem:S,onItemLeave:U,itemTextRefCallback:q,focusSelectedItem:B,selectedItemText:E,position:s,isPositioned:D,searchRef:$,children:i.jsx(gf,{as:Mue,allowPinchZoom:!0,children:i.jsx(pf,{asChild:!0,trapped:j.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:se(r,Y=>{var ye;(ye=j.trigger)==null||ye.focus({preventScroll:!0}),Y.preventDefault()}),children:i.jsx(Tl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:i.jsx(te,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:Y=>Y.preventDefault(),...v,...ve,onPlaced:()=>L(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:se(v.onKeyDown,Y=>{const ye=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!ye&&Y.key.length===1&&G(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let Se=R().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const be=Y.target,ne=Se.indexOf(be);Se=Se.slice(ne+1)}setTimeout(()=>W(Se)),Y.preventDefault()}})})})})})})});z5.displayName=Due;var Oue="SelectItemAlignedPosition",B5=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...r}=t,o=ga(Nl,n),a=xa(Nl,n),[l,c]=p.useState(null),[u,d]=p.useState(null),h=Ie(e,_=>d(_)),m=Qx(n),g=p.useRef(!1),y=p.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:v,focusSelectedItem:j}=a,b=p.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&x&&w&&v){const _=o.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),T=o.valueNode.getBoundingClientRect(),E=v.getBoundingClientRect();if(o.dir!=="rtl"){const be=E.left-S.left,ne=T.left-be,Te=_.left-ne,$e=_.width+Te,ot=Math.max($e,S.width),ut=window.innerWidth-sr,St=Sw(ne,[sr,Math.max(sr,ut-ot)]);l.style.minWidth=$e+"px",l.style.left=St+"px"}else{const be=S.right-E.right,ne=window.innerWidth-T.right-be,Te=window.innerWidth-_.right-ne,$e=_.width+Te,ot=Math.max($e,S.width),ut=window.innerWidth-sr,St=Sw(ne,[sr,Math.max(sr,ut-ot)]);l.style.minWidth=$e+"px",l.style.right=St+"px"}const P=m(),R=window.innerHeight-sr*2,D=x.scrollHeight,L=window.getComputedStyle(u),F=parseInt(L.borderTopWidth,10),W=parseInt(L.paddingTop,10),B=parseInt(L.borderBottomWidth,10),V=parseInt(L.paddingBottom,10),M=F+W+D+V+B,$=Math.min(w.offsetHeight*5,M),G=window.getComputedStyle(x),Z=parseInt(G.paddingTop,10),U=parseInt(G.paddingBottom,10),q=_.top+_.height/2-sr,te=R-q,ve=w.offsetHeight/2,Y=w.offsetTop+ve,ye=F+W+Y,we=M-ye;if(ye<=q){const be=P.length>0&&w===P[P.length-1].ref.current;l.style.bottom="0px";const ne=u.clientHeight-x.offsetTop-x.offsetHeight,Te=Math.max(te,ve+(be?U:0)+ne+B),$e=ye+Te;l.style.height=$e+"px"}else{const be=P.length>0&&w===P[0].ref.current;l.style.top="0px";const Te=Math.max(q,F+x.offsetTop+(be?Z:0)+ve)+we;l.style.height=Te+"px",x.scrollTop=ye-q+x.offsetTop}l.style.margin=`${sr}px 0`,l.style.minHeight=$+"px",l.style.maxHeight=R+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[m,o.trigger,o.valueNode,l,u,x,w,v,o.dir,s]);$t(()=>b(),[b]);const[C,k]=p.useState();$t(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const I=p.useCallback(_=>{_&&y.current===!0&&(b(),j==null||j(),y.current=!1)},[b,j]);return i.jsx(Vue,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:I,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:i.jsx(pe.div,{...r,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});B5.displayName=Oue;var Lue="SelectPopperPosition",eb=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:r=sr,...o}=t,a=Xx(n);return i.jsx(Kg,{...a,...o,ref:e,align:s,collisionPadding:r,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});eb.displayName=Lue;var[Vue,HN]=ku(Nl,{}),tb="SelectViewport",W5=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...r}=t,o=xa(tb,n),a=HN(tb,n),l=Ie(e,o.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(Yx.Slot,{scope:n,children:i.jsx(pe.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:se(r.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&h){const g=Math.abs(c.current-d.scrollTop);if(g>0){const y=window.innerHeight-sr*2,x=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),v=Math.max(x,w);if(v<y){const j=v+g,b=Math.min(y,j),C=j-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});W5.displayName=tb;var H5="SelectGroup",[Fue,Uue]=ku(H5),$ue=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Ns();return i.jsx(Fue,{scope:n,id:r,children:i.jsx(pe.div,{role:"group","aria-labelledby":r,...s,ref:e})})});$ue.displayName=H5;var q5="SelectLabel",G5=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Uue(q5,n);return i.jsx(pe.div,{id:r.id,...s,ref:e})});G5.displayName=q5;var jg="SelectItem",[zue,K5]=ku(jg),Y5=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:r=!1,textValue:o,...a}=t,l=ga(jg,n),c=xa(jg,n),u=l.value===s,[d,h]=p.useState(o??""),[m,g]=p.useState(!1),y=Ie(e,j=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,j,s,r)}),x=Ns(),w=p.useRef("touch"),v=()=>{r||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(zue,{scope:n,value:s,disabled:r,textId:x,isSelected:u,onItemTextChange:p.useCallback(j=>{h(b=>b||((j==null?void 0:j.textContent)??"").trim())},[]),children:i.jsx(Yx.ItemSlot,{scope:n,value:s,disabled:r,textValue:d,children:i.jsx(pe.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...a,ref:y,onFocus:se(a.onFocus,()=>g(!0)),onBlur:se(a.onBlur,()=>g(!1)),onClick:se(a.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:se(a.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:se(a.onPointerDown,j=>{w.current=j.pointerType}),onPointerMove:se(a.onPointerMove,j=>{var b;w.current=j.pointerType,r?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(a.onPointerLeave,j=>{var b;j.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:se(a.onKeyDown,j=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&j.key===" "||(Tue.includes(j.key)&&v(),j.key===" "&&j.preventDefault())})})})})});Y5.displayName=jg;var yd="SelectItemText",Q5=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,...o}=t,a=ga(yd,n),l=xa(yd,n),c=K5(yd,n),u=Iue(yd,n),[d,h]=p.useState(null),m=Ie(e,v=>h(v),c.onItemTextChange,v=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,v,c.value,c.disabled)}),g=d==null?void 0:d.textContent,y=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=u;return $t(()=>(x(y),()=>w(y)),[x,w,y]),i.jsxs(i.Fragment,{children:[i.jsx(pe.span,{id:c.textId,...o,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?El.createPortal(o.children,a.valueNode):null]})});Q5.displayName=yd;var X5="SelectItemIndicator",J5=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return K5(X5,n).isSelected?i.jsx(pe.span,{"aria-hidden":!0,...s,ref:e}):null});J5.displayName=X5;var nb="SelectScrollUpButton",Z5=p.forwardRef((t,e)=>{const n=xa(nb,t.__scopeSelect),s=HN(nb,t.__scopeSelect),[r,o]=p.useState(!1),a=Ie(e,s.onScrollButtonChange);return $t(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?i.jsx(tV,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Z5.displayName=nb;var sb="SelectScrollDownButton",eV=p.forwardRef((t,e)=>{const n=xa(sb,t.__scopeSelect),s=HN(sb,t.__scopeSelect),[r,o]=p.useState(!1),a=Ie(e,s.onScrollButtonChange);return $t(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?i.jsx(tV,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});eV.displayName=sb;var tV=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...r}=t,o=xa("SelectScrollButton",n),a=p.useRef(null),l=Qx(n),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),$t(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(pe.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:se(r.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(s,50))}),onPointerMove:se(r.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(s,50))}),onPointerLeave:se(r.onPointerLeave,()=>{c()})})}),Bue="SelectSeparator",nV=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return i.jsx(pe.div,{"aria-hidden":!0,...s,ref:e})});nV.displayName=Bue;var rb="SelectArrow",Wue=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Xx(n),o=ga(rb,n),a=xa(rb,n);return o.open&&a.position==="popper"?i.jsx(Yg,{...r,...s,ref:e}):null});Wue.displayName=rb;var Hue="SelectBubbleInput",sV=p.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const r=p.useRef(null),o=Ie(s,r),a=WN(e);return p.useEffect(()=>{const l=r.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const h=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(h)}},[a,e]),i.jsx(pe.select,{...n,style:{...Ak,...n.style},ref:o,defaultValue:e})});sV.displayName=Hue;function rV(t){return t===""||t===void 0}function iV(t){const e=Ft(t),n=p.useRef(""),s=p.useRef(0),r=p.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),o=p.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,r,o]}function oV(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=que(t,Math.max(o,0));r.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function que(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var Gue=R5,aV=M5,Kue=L5,Yue=V5,Que=F5,lV=U5,Xue=W5,cV=G5,uV=Y5,Jue=Q5,Zue=J5,dV=Z5,hV=eV,fV=nV;const Ws=Gue,Hs=Kue,Ss=p.forwardRef(({className:t,children:e,...n},s)=>i.jsxs(aV,{ref:s,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,i.jsx(Yue,{asChild:!0,children:i.jsx(Qa,{className:"h-4 w-4 opacity-50"})})]}));Ss.displayName=aV.displayName;const mV=p.forwardRef(({className:t,...e},n)=>i.jsx(dV,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(J$,{className:"h-4 w-4"})}));mV.displayName=dV.displayName;const pV=p.forwardRef(({className:t,...e},n)=>i.jsx(hV,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(Qa,{className:"h-4 w-4"})}));pV.displayName=hV.displayName;const Es=p.forwardRef(({className:t,children:e,position:n="popper",...s},r)=>i.jsx(Que,{children:i.jsxs(lV,{ref:r,className:ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[i.jsx(mV,{}),i.jsx(Xue,{className:ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(pV,{})]})}));Es.displayName=lV.displayName;const ede=p.forwardRef(({className:t,...e},n)=>i.jsx(cV,{ref:n,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));ede.displayName=cV.displayName;const ke=p.forwardRef(({className:t,children:e,...n},s)=>i.jsxs(uV,{ref:s,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Zue,{children:i.jsx(dr,{className:"h-4 w-4"})})}),i.jsx(Jue,{children:e})]}));ke.displayName=uV.displayName;const tde=p.forwardRef(({className:t,...e},n)=>i.jsx(fV,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",t),...e}));tde.displayName=fV.displayName;var Jx="Tabs",[nde]=mn(Jx,[$x]),gV=$x(),[sde,qN]=nde(Jx),xV=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Tu(l),[h,m]=Cs({prop:s,onChange:r,defaultProp:o??"",caller:Jx});return i.jsx(sde,{scope:n,baseId:Ns(),value:h,onValueChange:m,orientation:a,dir:d,activationMode:c,children:i.jsx(pe.div,{dir:d,"data-orientation":a,...u,ref:e})})});xV.displayName=Jx;var yV="TabsList",vV=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...r}=t,o=qN(yV,n),a=gV(n);return i.jsx(UL,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:s,children:i.jsx(pe.div,{role:"tablist","aria-orientation":o.orientation,...r,ref:e})})});vV.displayName=yV;var wV="TabsTrigger",bV=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...o}=t,a=qN(wV,n),l=gV(n),c=_V(a.baseId,s),u=SV(a.baseId,s),d=s===a.value;return i.jsx($L,{asChild:!0,...l,focusable:!r,active:d,children:i.jsx(pe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...o,ref:e,onMouseDown:se(t.onMouseDown,h=>{!r&&h.button===0&&h.ctrlKey===!1?a.onValueChange(s):h.preventDefault()}),onKeyDown:se(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(s)}),onFocus:se(t.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!r&&h&&a.onValueChange(s)})})})});bV.displayName=wV;var jV="TabsContent",NV=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:r,children:o,...a}=t,l=qN(jV,n),c=_V(l.baseId,s),u=SV(l.baseId,s),d=s===l.value,h=p.useRef(d);return p.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),i.jsx(an,{present:r||d,children:({present:m})=>i.jsx(pe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&o})})});NV.displayName=jV;function _V(t,e){return`${t}-trigger-${e}`}function SV(t,e){return`${t}-content-${e}`}var rde=xV,EV=vV,TV=bV,CV=NV;const ide=rde,AV=p.forwardRef(({className:t,...e},n)=>i.jsx(EV,{ref:n,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));AV.displayName=EV.displayName;const ip=p.forwardRef(({className:t,...e},n)=>i.jsx(TV,{ref:n,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));ip.displayName=TV.displayName;const op=p.forwardRef(({className:t,...e},n)=>i.jsx(CV,{ref:n,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));op.displayName=CV.displayName;const ZA={name:"",price:"",category:"",stock:"",status:"Active",description:"",images:["","","",""],size:"",sizes:[{size:"",price:""}],details:"",howToUse:"",ingredients:"",deliveryReturn:""},ode=()=>{const[t,e]=p.useState([]),[n,s]=p.useState(!0),[r,o]=p.useState(""),[a,l]=p.useState(!1),[c,u]=p.useState(!1),[d,h]=p.useState(null),[m,g]=p.useState(!1),[y,x]=p.useState(ZA),[w,v]=p.useState("basic"),[j,b]=p.useState("table"),{collections:C}=bf();p.useEffect(()=>{const L=Ve(ue,"products"),F=vt(L,W=>{const B=[];W.forEach(V=>{var $,G;const M=V.data();B.push({id:V.id,name:M.name||"",price:M.price||0,category:M.category||"",stock:M.stock||0,status:M.status||"Active",images:M.images||[M.image||"/placeholder.svg"],description:M.description||"",size:M.size||"",sizes:M.sizes||[],details:M.details||"",howToUse:M.howToUse||"",ingredients:M.ingredients||"",deliveryReturn:M.deliveryReturn||"",createdAt:((G=($=M.createdAt)==null?void 0:$.toDate)==null?void 0:G.call($))||new Date(0)})}),B.sort((V,M)=>{const $=V.createdAt instanceof Date?V.createdAt.getTime():0;return(M.createdAt instanceof Date?M.createdAt.getTime():0)-$}),e(B),s(!1)},W=>{console.error("Error fetching products:",W),je({title:"Error",description:"Failed to load products",variant:"destructive"}),s(!1)});return()=>F()},[]);const k=t.filter(L=>L.name.toLowerCase().includes(r.toLowerCase())||L.category.toLowerCase().includes(r.toLowerCase())),I=()=>{x(ZA),v("basic")},_=(L,F)=>{const W=[...y.images];W[L]=F,x({...y,images:W})},S=async()=>{const L=y.sizes.some(F=>F.size.trim()!==""&&F.price!=="");if(!y.name||!y.category||!L){je({title:"Please fill in all required fields including at least one size variant",variant:"destructive"});return}g(!0);try{const F=y.images.filter(V=>V.trim()!==""),W=y.sizes.filter(V=>V.size.trim()!==""&&V.price!=="").map(V=>({size:V.size,price:parseFloat(V.price)||0})),B=W.length>0?W[0].price:parseFloat(y.price)||0;await ai(Ve(ue,"products"),{name:y.name,price:B,category:y.category,stock:parseInt(y.stock)||0,status:y.status,images:F.length>0?F:["/placeholder.svg"],image:F[0]||"/placeholder.svg",description:y.description,size:W.length>0?W[0].size:y.size,sizes:W,details:y.details,howToUse:y.howToUse,ingredients:y.ingredients,deliveryReturn:y.deliveryReturn,createdAt:Xe()}),l(!1),I(),je({title:"Product added",description:`${y.name} has been added successfully.`})}catch(F){console.error("Error adding product:",F),je({title:"Error",description:"Failed to add product",variant:"destructive"})}finally{g(!1)}},T=async()=>{if(d){g(!0);try{const L=y.images.filter(V=>V.trim()!==""),F=y.sizes.filter(V=>V.size.trim()!==""&&V.price!=="").map(V=>({size:V.size,price:parseFloat(V.price)||0})),W=F.length>0?F[0].price:parseFloat(y.price)||0,B=Ue(ue,"products",d.id);await $n(B,{name:y.name,price:W,category:y.category,stock:parseInt(y.stock)||0,status:y.status,images:L.length>0?L:d.images,image:L[0]||d.images[0]||"/placeholder.svg",description:y.description,size:F.length>0?F[0].size:y.size,sizes:F,details:y.details,howToUse:y.howToUse,ingredients:y.ingredients,deliveryReturn:y.deliveryReturn,updatedAt:Xe()}),u(!1),I(),je({title:"Product updated",description:`${y.name} has been updated successfully.`})}catch(L){console.error("Error updating product:",L),je({title:"Error",description:"Failed to update product",variant:"destructive"})}finally{g(!1)}}},E=async(L,F)=>{if(confirm(`Are you sure you want to delete "${F}"?`))try{await _r(Ue(ue,"products",L)),je({title:"Product deleted",description:"The product has been removed."})}catch(W){console.error("Error deleting product:",W),je({title:"Error",description:"Failed to delete product",variant:"destructive"})}},P=L=>{h(L);const F=L.images.length>=4?L.images.slice(0,4):[...L.images,...Array(4-L.images.length).fill("")],W=L.sizes&&L.sizes.length>0?L.sizes.map(B=>({size:B.size,price:B.price.toString()})):[{size:L.size||"",price:L.price.toString()}];x({name:L.name,price:L.price.toString(),category:L.category,stock:L.stock.toString(),status:L.status,description:L.description,images:F,size:L.size||"",sizes:W,details:L.details||"",howToUse:L.howToUse||"",ingredients:L.ingredients||"",deliveryReturn:L.deliveryReturn||""}),v("basic"),u(!0)},R=L=>{switch(L){case"Active":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"Draft":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"Out of Stock":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}},D=(L=!1)=>i.jsxs(ide,{value:w,onValueChange:v,className:"w-full",children:[i.jsxs(AV,{className:"grid w-full grid-cols-3 mb-4",children:[i.jsx(ip,{value:"basic",children:"Basic Info"}),i.jsx(ip,{value:"images",children:"Images"}),i.jsx(ip,{value:"details",children:"Details"})]}),i.jsxs(Ei,{className:"h-[400px] pr-4",children:[i.jsxs(op,{value:"basic",className:"space-y-4 mt-0",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Product Name *"}),i.jsx(Ne,{value:y.name,onChange:F=>x({...y,name:F.target.value}),placeholder:"Enter product name","data-testid":"input-product-name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Stock"}),i.jsx(Ne,{type:"number",value:y.stock,onChange:F=>x({...y,stock:F.target.value}),placeholder:"0","data-testid":"input-product-stock"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Category *"}),i.jsxs(Ws,{value:y.category,onValueChange:F=>x({...y,category:F}),children:[i.jsx(Ss,{"data-testid":"select-product-category",children:i.jsx(Hs,{placeholder:"Select category"})}),i.jsx(Es,{children:C.length>0?C.map(F=>i.jsx(ke,{value:F.name,children:F.name},F.id)):i.jsxs(i.Fragment,{children:[i.jsx(ke,{value:"Cleansers",children:"Cleansers"}),i.jsx(ke,{value:"Moisturizers",children:"Moisturizers"}),i.jsx(ke,{value:"Serums",children:"Serums"}),i.jsx(ke,{value:"Lotions",children:"Lotions"})]})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Status"}),i.jsxs(Ws,{value:y.status,onValueChange:F=>x({...y,status:F}),children:[i.jsx(Ss,{"data-testid":"select-product-status",children:i.jsx(Hs,{})}),i.jsxs(Es,{children:[i.jsx(ke,{value:"Active",children:"Active"}),i.jsx(ke,{value:"Draft",children:"Draft"}),i.jsx(ke,{value:"Out of Stock",children:"Out of Stock"})]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(me,{children:"Size Variants *"}),i.jsxs(ie,{type:"button",variant:"outline",size:"sm",onClick:()=>x({...y,sizes:[...y.sizes,{size:"",price:""}]}),children:[i.jsx(js,{className:"h-3 w-3 mr-1"}),"Add Size"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Add different sizes with their respective prices. The first size will be the default."}),i.jsx("div",{className:"space-y-2",children:y.sizes.map((F,W)=>i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsx(Ne,{value:F.size,onChange:B=>{const V=[...y.sizes];V[W]={...V[W],size:B.target.value},x({...y,sizes:V})},placeholder:"Size (e.g., 50ml)",className:"flex-1"}),i.jsx(Ne,{type:"number",step:"0.01",value:F.price,onChange:B=>{const V=[...y.sizes];V[W]={...V[W],price:B.target.value},x({...y,sizes:V})},placeholder:"Price ()",className:"w-28"}),y.sizes.length>1&&i.jsx(ie,{type:"button",variant:"ghost",size:"icon",onClick:()=>{const B=y.sizes.filter((V,M)=>M!==W);x({...y,sizes:B})},children:i.jsx(Ks,{className:"h-4 w-4 text-red-500"})})]},W))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Description"}),i.jsx(is,{value:y.description,onChange:F=>x({...y,description:F.target.value}),placeholder:"Brief product description...",rows:3,"data-testid":"input-product-description"})]})]}),i.jsxs(op,{value:"images",className:"space-y-4 mt-0",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Add up to 4 product images. The first image will be used as the main product image."}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:[0,1,2,3].map(F=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs(me,{children:["Image ",F+1," ",F===0&&"(Main)"]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ne,{value:y.images[F],onChange:W=>_(F,W.target.value),placeholder:"https://...","data-testid":`input-product-image-${F}`}),y.images[F]&&i.jsx("button",{type:"button",onClick:()=>_(F,""),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 hover:bg-secondary rounded",children:i.jsx(Ks,{className:"h-4 w-4 text-muted-foreground"})})]}),y.images[F]?i.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-secondary border",children:i.jsx("img",{src:y.images[F],alt:`Preview ${F+1}`,className:"w-full h-full object-cover",onError:W=>{W.target.src="/placeholder.svg"}})}):i.jsx("div",{className:"aspect-square rounded-lg bg-secondary/50 border border-dashed flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-muted-foreground",children:[i.jsx(_9,{className:"h-8 w-8 mx-auto mb-2"}),i.jsx("p",{className:"text-xs",children:"Paste URL above"})]})})]},F))})]}),i.jsxs(op,{value:"details",className:"space-y-4 mt-0",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Product Details"}),i.jsx(is,{value:y.details,onChange:F=>x({...y,details:F.target.value}),placeholder:"Detailed product information, benefits, features...",rows:4,"data-testid":"input-product-details"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"How to Use"}),i.jsx(is,{value:y.howToUse,onChange:F=>x({...y,howToUse:F.target.value}),placeholder:"Usage instructions, application steps...",rows:4,"data-testid":"input-product-how-to-use"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Ingredients"}),i.jsx(is,{value:y.ingredients,onChange:F=>x({...y,ingredients:F.target.value}),placeholder:"Full ingredient list...",rows:4,"data-testid":"input-product-ingredients"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Delivery & Returns"}),i.jsx(is,{value:y.deliveryReturn,onChange:F=>x({...y,deliveryReturn:F.target.value}),placeholder:"Shipping information, return policy...",rows:4,"data-testid":"input-product-delivery"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[i.jsx(ie,{variant:"outline",onClick:()=>L?u(!1):l(!1),"data-testid":L?"button-cancel-edit":"button-cancel-add",children:"Cancel"}),i.jsxs(ie,{onClick:L?T:S,disabled:m,"data-testid":L?"button-update-product":"button-save-product",children:[m?i.jsx(De,{className:"h-4 w-4 animate-spin mr-2"}):null,L?"Update Product":"Add Product"]})]})]});return n?i.jsx(fn,{children:i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading products..."})]})})}):i.jsx(fn,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-heading text-2xl md:text-3xl font-semibold text-foreground","data-testid":"text-products-title",children:"Products"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage your product catalog"})]}),i.jsxs(ie,{onClick:()=>{I(),l(!0)},"data-testid":"button-add-product",children:[i.jsx(js,{className:"h-4 w-4 mr-2"}),"Add Product"]})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[i.jsx(ae,{children:i.jsxs(le,{className:"p-4",children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Products"})]})}),i.jsx(ae,{children:i.jsxs(le,{className:"p-4",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.filter(L=>L.status==="Active").length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"})]})}),i.jsx(ae,{children:i.jsxs(le,{className:"p-4",children:[i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:t.filter(L=>L.status==="Draft").length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Draft"})]})}),i.jsx(ae,{children:i.jsxs(le,{className:"p-4",children:[i.jsx("p",{className:"text-2xl font-bold text-red-600",children:t.filter(L=>L.stock<=5).length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Low Stock"})]})})]}),i.jsxs(ae,{children:[i.jsx(it,{className:"pb-4",children:i.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(ri,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),i.jsx(Ne,{placeholder:"Search products...",value:r,onChange:L=>o(L.target.value),className:"pl-10","data-testid":"input-search-products"})]})})}),i.jsx(le,{children:k.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground","data-testid":"text-no-products",children:[i.jsx(jn,{className:"h-16 w-16 mx-auto mb-4 opacity-30"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products found"}),i.jsx("p",{className:"mb-4",children:"Get started by adding your first product."}),i.jsxs(ie,{onClick:()=>{I(),l(!0)},"data-testid":"button-add-first-product",children:[i.jsx(js,{className:"h-4 w-4 mr-2"}),"Add Your First Product"]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"hidden md:block overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"border-b",children:i.jsxs("tr",{className:"text-left text-sm text-muted-foreground",children:[i.jsx("th",{className:"pb-3 font-medium",children:"Product"}),i.jsx("th",{className:"pb-3 font-medium",children:"Category"}),i.jsx("th",{className:"pb-3 font-medium",children:"Price"}),i.jsx("th",{className:"pb-3 font-medium",children:"Stock"}),i.jsx("th",{className:"pb-3 font-medium",children:"Status"}),i.jsx("th",{className:"pb-3 font-medium text-right",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y",children:k.map(L=>i.jsxs("tr",{className:"text-sm group","data-testid":`product-row-${L.id}`,children:[i.jsx("td",{className:"py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:L.images[0]||"/placeholder.svg",alt:L.name,className:"h-12 w-12 rounded-lg object-cover"}),L.images.length>1&&i.jsxs("span",{className:"absolute -bottom-1 -right-1 bg-secondary text-xs px-1.5 py-0.5 rounded-full border",children:["+",L.images.length-1]})]}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-medium text-foreground truncate",children:L.name}),i.jsxs("p",{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:[L.size&&`${L.size}  `,L.description||"No description"]})]})]})}),i.jsx("td",{className:"py-4 text-muted-foreground",children:L.category}),i.jsxs("td",{className:"py-4 font-medium",children:["",L.price.toFixed(2)]}),i.jsx("td",{className:"py-4",children:i.jsx("span",{className:L.stock<=5?"text-red-500 font-medium":"",children:L.stock})}),i.jsx("td",{className:"py-4",children:i.jsx(wt,{variant:"secondary",className:R(L.status),children:L.status})}),i.jsx("td",{className:"py-4",children:i.jsxs("div",{className:"flex justify-end gap-1",children:[i.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>P(L),"data-testid":`button-edit-${L.id}`,children:i.jsx(Yc,{className:"h-4 w-4"})}),i.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>E(L.id,L.name),className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-950","data-testid":`button-delete-${L.id}`,children:i.jsx(Ii,{className:"h-4 w-4"})})]})})]},L.id))})]})}),i.jsx("div",{className:"md:hidden space-y-3",children:k.map(L=>i.jsx(ae,{className:"overflow-hidden","data-testid":`product-card-${L.id}`,children:i.jsx(le,{className:"p-4",children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx("img",{src:L.images[0]||"/placeholder.svg",alt:L.name,className:"h-20 w-20 rounded-lg object-cover flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-medium text-foreground truncate",children:L.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:L.category})]}),i.jsxs(If,{children:[i.jsx(kf,{asChild:!0,children:i.jsx(ie,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(a1,{className:"h-4 w-4"})})}),i.jsxs(Iu,{align:"end",children:[i.jsxs(ei,{onClick:()=>P(L),children:[i.jsx(Yc,{className:"h-4 w-4 mr-2"}),"Edit"]}),i.jsxs(ei,{onClick:()=>E(L.id,L.name),className:"text-red-600",children:[i.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsxs("span",{className:"font-semibold",children:["",L.price.toFixed(2)]}),i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsxs("span",{className:L.stock<=5?"text-red-500":"text-muted-foreground",children:[L.stock," in stock"]})]}),i.jsx(wt,{variant:"secondary",className:`mt-2 ${R(L.status)}`,children:L.status})]})]})})},L.id))})]})})]}),i.jsx(Ln,{open:a,onOpenChange:l,children:i.jsxs(Nn,{className:"max-w-2xl max-h-[90vh]",children:[i.jsx(Vn,{children:i.jsx(_n,{className:"font-heading text-xl",children:"Add New Product"})}),D(!1)]})}),i.jsx(Ln,{open:c,onOpenChange:u,children:i.jsxs(Nn,{className:"max-w-2xl max-h-[90vh]",children:[i.jsx(Vn,{children:i.jsx(_n,{className:"font-heading text-xl",children:"Edit Product"})}),D(!0)]})})]})})},ade=t=>{const e=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],s=c=>c===0?"":c<20?e[c]:c<100?n[Math.floor(c/10)]+(c%10?" "+e[c%10]:""):e[Math.floor(c/100)]+" Hundred"+(c%100?" And "+s(c%100):"");if(t===0)return"Zero";const r=Math.floor(t),o=Math.round((t-r)*100);let a="";if(r>=1e7&&(a+=s(Math.floor(r/1e7))+" Crore "),r>=1e5){const c=Math.floor(r%1e7/1e5);c>0&&(a+=s(c)+" Lakh ")}if(r>=1e3){const c=Math.floor(r%1e5/1e3);c>0&&(a+=s(c)+" Thousand ")}const l=r%1e3;return l>0&&(a+=s(l)),o>0&&(a+=" And "+s(o)+" Paise"),a.trim()+" Only"},PV=p.forwardRef(({order:t},e)=>{var o,a,l;const n=((l=(a=(o=t.createdAt)==null?void 0:o.toDate)==null?void 0:a.call(o))==null?void 0:l.toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}))||new Date().toLocaleDateString("en-IN"),s=`SKYN-${t.orderNumber}`,r="27";return i.jsxs("div",{ref:e,className:"bg-white text-black p-6 max-w-[210mm] mx-auto",style:{fontFamily:"Arial, sans-serif",fontSize:"11px",lineHeight:"1.4"},children:[i.jsx("style",{children:`
        @media print {
          @page { size: A4; margin: 8mm; }
          body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        }
        .invoice-table { border-collapse: collapse; width: 100%; }
        .invoice-table th, .invoice-table td { border: 1px solid #000; padding: 4px 6px; }
        .invoice-table th { background-color: #f5f5f5; font-weight: bold; text-align: left; }
      `}),i.jsx("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid #000"},children:i.jsxs("tbody",{children:[i.jsx("tr",{children:i.jsx("td",{colSpan:2,style:{borderBottom:"1px solid #000",padding:"12px"},children:i.jsx("table",{style:{width:"100%"},children:i.jsx("tbody",{children:i.jsxs("tr",{children:[i.jsx("td",{style:{width:"50%",verticalAlign:"top"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[i.jsx("img",{src:"/favicon.ico",alt:"Skyntales",style:{height:"32px",width:"32px"}}),i.jsx("span",{style:{fontSize:"20px",fontWeight:"bold",letterSpacing:"1px"},children:"Skyntales"})]})}),i.jsxs("td",{style:{width:"50%",textAlign:"right",verticalAlign:"top"},children:[i.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},children:"Tax Invoice/Bill of Supply/Cash Memo"}),i.jsx("div",{style:{fontSize:"10px",color:"#666"},children:"(Original for Recipient)"})]})]})})})})}),i.jsxs("tr",{children:[i.jsxs("td",{style:{width:"50%",borderRight:"1px solid #000",borderBottom:"1px solid #000",padding:"10px",verticalAlign:"top"},children:[i.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"Sold By :"}),i.jsx("div",{children:"Skyntales Pvt. Ltd."}),i.jsxs("div",{style:{fontSize:"10px",color:"#333",marginTop:"2px"},children:["* 123, Skincare Avenue,",i.jsx("br",{}),"Mumbai, Maharashtra, 400001",i.jsx("br",{}),"IN"]}),i.jsxs("div",{style:{marginTop:"8px"},children:[i.jsxs("div",{children:[i.jsx("strong",{children:"PAN No:"})," AABCS1234K"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"GST Registration No:"})," NotApplicable"]})]})]}),i.jsxs("td",{style:{width:"50%",borderBottom:"1px solid #000",padding:"10px",verticalAlign:"top"},children:[i.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"Billing Address :"}),i.jsxs("div",{children:[t.shipping.firstName," ",t.shipping.lastName]}),i.jsxs("div",{style:{fontSize:"10px",color:"#333"},children:[t.shipping.address,i.jsx("br",{}),t.shipping.city,", ",t.shipping.state,", ",t.shipping.zipCode,i.jsx("br",{}),t.shipping.country||"IN"]}),t.shipping.phone&&i.jsxs("div",{style:{marginTop:"4px"},children:[i.jsx("strong",{children:"Phone:"})," ",t.shipping.phone]}),i.jsxs("div",{style:{marginTop:"4px"},children:[i.jsx("strong",{children:"State/UT Code:"})," ",r]}),i.jsx("div",{style:{fontWeight:"bold",marginTop:"12px",marginBottom:"4px"},children:"Shipping Address :"}),i.jsxs("div",{children:[t.shipping.firstName," ",t.shipping.lastName]}),i.jsxs("div",{style:{fontSize:"10px",color:"#333"},children:[t.shipping.address,i.jsx("br",{}),t.shipping.city,", ",t.shipping.state,", ",t.shipping.zipCode,i.jsx("br",{}),t.shipping.country||"IN"]}),t.shipping.phone&&i.jsxs("div",{style:{marginTop:"4px"},children:[i.jsx("strong",{children:"Phone:"})," ",t.shipping.phone]}),i.jsxs("div",{style:{marginTop:"4px"},children:[i.jsx("strong",{children:"State/UT Code:"})," ",r]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Place of supply:"})," ",t.shipping.state||"MAHARASHTRA"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Place of delivery:"})," ",t.shipping.state||"MAHARASHTRA"]})]})]}),i.jsxs("tr",{children:[i.jsxs("td",{style:{borderRight:"1px solid #000",borderBottom:"1px solid #000",padding:"10px",verticalAlign:"top"},children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Order Number:"})," ",t.orderNumber]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Order Date:"})," ",n]})]}),i.jsxs("td",{style:{borderBottom:"1px solid #000",padding:"10px",verticalAlign:"top"},children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Invoice Number :"})," ",s]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Invoice Details :"})," ",t.paymentId||"N/A"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Invoice Date :"})," ",n]})]})]}),i.jsx("tr",{children:i.jsx("td",{colSpan:2,style:{padding:"0"},children:i.jsxs("table",{className:"invoice-table",style:{borderCollapse:"collapse",width:"100%",fontSize:"10px"},children:[i.jsx("thead",{children:i.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[i.jsxs("th",{style:{border:"1px solid #000",padding:"6px",textAlign:"left",width:"30px"},children:["Sl.",i.jsx("br",{}),"No"]}),i.jsx("th",{style:{border:"1px solid #000",padding:"6px",textAlign:"left"},children:"Description"}),i.jsxs("th",{style:{border:"1px solid #000",padding:"6px",textAlign:"right",width:"60px"},children:["Unit",i.jsx("br",{}),"Price"]}),i.jsx("th",{style:{border:"1px solid #000",padding:"6px",textAlign:"right",width:"50px"},children:"Discount"}),i.jsx("th",{style:{border:"1px solid #000",padding:"6px",textAlign:"center",width:"30px"},children:"Qty"}),i.jsxs("th",{style:{border:"1px solid #000",padding:"6px",textAlign:"right",width:"60px"},children:["Net",i.jsx("br",{}),"Amount"]}),i.jsxs("th",{style:{border:"1px solid #000",padding:"6px",textAlign:"center",width:"50px"},children:["Tax",i.jsx("br",{}),"Rate"]}),i.jsxs("th",{style:{border:"1px solid #000",padding:"6px",textAlign:"center",width:"50px"},children:["Tax",i.jsx("br",{}),"Type"]}),i.jsxs("th",{style:{border:"1px solid #000",padding:"6px",textAlign:"right",width:"50px"},children:["Tax",i.jsx("br",{}),"Amount"]}),i.jsxs("th",{style:{border:"1px solid #000",padding:"6px",textAlign:"right",width:"70px"},children:["Total",i.jsx("br",{}),"Amount"]})]})}),i.jsxs("tbody",{children:[t.items.map((c,u)=>{const d=c.price*c.quantity;return i.jsxs("tr",{children:[i.jsx("td",{style:{border:"1px solid #000",padding:"6px",verticalAlign:"top"},children:u+1}),i.jsxs("td",{style:{border:"1px solid #000",padding:"6px",verticalAlign:"top"},children:[c.name,c.size&&i.jsxs("span",{style:{fontSize:"9px",color:"#666"},children:[" | Size: ",c.size]})]}),i.jsxs("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"right",verticalAlign:"top"},children:["",c.price.toFixed(2)]}),i.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"right",verticalAlign:"top"},children:"0.00"}),i.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center",verticalAlign:"top"},children:c.quantity}),i.jsxs("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"right",verticalAlign:"top"},children:["",d.toFixed(2)]}),i.jsxs("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center",verticalAlign:"top"},children:["0%",i.jsx("br",{}),"0%",i.jsx("br",{}),"0%"]}),i.jsxs("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center",verticalAlign:"top"},children:["CGST",i.jsx("br",{}),"SGST",i.jsx("br",{}),"IGST"]}),i.jsxs("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"right",verticalAlign:"top"},children:["0.00",i.jsx("br",{}),"0.00",i.jsx("br",{}),"0.00"]}),i.jsxs("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"right",fontWeight:"bold",verticalAlign:"top"},children:["",d.toFixed(2)]})]},u)}),t.shippingCost>0&&i.jsxs("tr",{children:[i.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),i.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Shipping Charges"}),i.jsxs("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"right"},children:["",t.shippingCost.toFixed(2)]}),i.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"right"},children:"-0.00"}),i.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center"},children:"1"}),i.jsxs("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"right"},children:["",t.shippingCost.toFixed(2)]}),i.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center"},children:"0%"}),i.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center"},children:"None"}),i.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"right"},children:"0.00"}),i.jsxs("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"right",fontWeight:"bold"},children:["",t.shippingCost.toFixed(2)]})]}),i.jsxs("tr",{style:{backgroundColor:"#f9f9f9"},children:[i.jsx("td",{colSpan:5,style:{border:"1px solid #000",padding:"8px",fontWeight:"bold"},children:"TOTAL:"}),i.jsxs("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"right",fontWeight:"bold"},children:["",t.subtotal.toFixed(2)]}),i.jsx("td",{colSpan:3,style:{border:"1px solid #000",padding:"8px",textAlign:"right",fontWeight:"bold"},children:"0.00"}),i.jsxs("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"right",fontWeight:"bold",fontSize:"12px"},children:["",t.total.toFixed(2)]})]})]})]})})}),i.jsx("tr",{children:i.jsxs("td",{colSpan:2,style:{borderTop:"1px solid #000",padding:"10px",backgroundColor:"#fffbe6"},children:[i.jsx("div",{style:{fontWeight:"bold"},children:"Amount in Words:"}),i.jsx("div",{children:ade(t.total)})]})}),i.jsx("tr",{children:i.jsxs("td",{colSpan:2,style:{borderTop:"1px solid #000",padding:"10px",fontSize:"9px",color:"#666"},children:[i.jsx("div",{children:"Whether tax is payable under reverse charge - No"}),i.jsx("div",{style:{marginTop:"8px"},children:"This is a computer generated invoice and does not require a physical signature."})]})}),i.jsx("tr",{children:i.jsxs("td",{colSpan:2,style:{borderTop:"1px solid #000",padding:"8px",textAlign:"center",fontSize:"10px"},children:[i.jsx("strong",{children:"Thank you for shopping with Skyntales!"}),i.jsx("div",{style:{fontSize:"9px",color:"#666",marginTop:"4px"},children:"For queries: support@skyntales.com | www.skyntales.com"})]})})]})})]})});PV.displayName="OrderReceipt";const lde=()=>{var I,_,S;const[t,e]=p.useState([]),[n,s]=p.useState(!0),[r,o]=p.useState(""),[a,l]=p.useState("all"),[c,u]=p.useState(null),[d,h]=p.useState(null),m=p.useRef(null),g=T=>{h(T),setTimeout(()=>{if(m.current){const E=window.open("","_blank");E&&(E.document.write(`
            <!DOCTYPE html>
            <html>
              <head>
                <title>Invoice - ${T.orderNumber}</title>
                <style>
                  * { margin: 0; padding: 0; box-sizing: border-box; }
                  body { font-family: Arial, sans-serif; font-size: 12px; }
                  @media print {
                    @page { margin: 10mm; size: A4; }
                  }
                </style>
              </head>
              <body>
                ${m.current.innerHTML}
              </body>
            </html>
          `),E.document.close(),E.focus(),setTimeout(()=>{E.print(),E.close()},250))}h(null)},100)};p.useEffect(()=>{const T=Ve(ue,"orders"),E=bt(T,hs("createdAt","desc")),P=vt(E,R=>{const D=[];R.forEach(L=>{var W;const F=L.data();D.push({id:L.id,orderNumber:F.orderNumber||L.id.slice(0,8).toUpperCase(),userId:F.userId||"",userEmail:F.userEmail||((W=F.shipping)==null?void 0:W.email)||"",status:F.status||"pending",items:F.items||[],shipping:F.shipping||{},subtotal:F.subtotal||0,shippingCost:F.shippingCost||0,tax:F.tax||0,total:F.total||0,createdAt:F.createdAt})}),e(D),s(!1)},R=>{console.error("Error fetching orders:",R),s(!1)});return()=>P()},[]);const y=t.filter(T=>{const E=T.orderNumber.toLowerCase().includes(r.toLowerCase())||T.userEmail.toLowerCase().includes(r.toLowerCase())||(T.shipping.firstName+" "+T.shipping.lastName).toLowerCase().includes(r.toLowerCase()),P=a==="all"||T.status===a;return E&&P}),x=async(T,E)=>{try{const P=Ue(ue,"orders",T);await $n(P,{status:E,updatedAt:Xe()}),je({title:"Order updated",description:`Order status changed to ${E}`})}catch(P){console.error("Error updating order:",P),je({title:"Error",description:"Failed to update order",variant:"destructive"})}},w=T=>{switch(T){case"pending":return i.jsx(Go,{size:16});case"processing":return i.jsx(jn,{size:16});case"shipped":return i.jsx(wr,{size:16});case"delivered":return i.jsx(yn,{size:16});case"cancelled":return i.jsx(ur,{size:16})}},v=T=>{switch(T){case"pending":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"processing":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"shipped":return"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400";case"delivered":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"cancelled":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}},j=t.filter(T=>T.status==="pending").length,b=t.filter(T=>T.status==="processing").length,C=t.filter(T=>T.status==="shipped").length,k=t.filter(T=>T.status!=="cancelled").reduce((T,E)=>T+E.total,0);return n?i.jsx(fn,{children:i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading orders..."})]})})}):i.jsx(fn,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-heading text-2xl md:text-3xl font-semibold text-foreground","data-testid":"text-orders-title",children:"Orders"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage customer orders"})]}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(ae,{children:i.jsxs(le,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(Go,{className:"text-yellow-600 dark:text-yellow-400",size:20})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-pending-count",children:j}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]})]})}),i.jsx(ae,{children:i.jsxs(le,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(jn,{className:"text-blue-600 dark:text-blue-400",size:20})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-processing-count",children:b}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Processing"})]})]})}),i.jsx(ae,{children:i.jsxs(le,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(wr,{className:"text-purple-600 dark:text-purple-400",size:20})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-shipped-count",children:C}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Shipped"})]})]})}),i.jsx(ae,{children:i.jsxs(le,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(yn,{className:"text-green-600 dark:text-green-400",size:20})}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("p",{className:"text-xl font-bold text-foreground truncate","data-testid":"text-revenue",children:["",k.toFixed(2)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue"})]})]})})]}),i.jsxs(ae,{children:[i.jsx(it,{className:"pb-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(ri,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),i.jsx(Ne,{placeholder:"Search orders...",value:r,onChange:T=>o(T.target.value),className:"pl-10","data-testid":"input-search-orders"})]}),i.jsxs(Ws,{value:a,onValueChange:l,children:[i.jsx(Ss,{className:"w-full sm:w-40","data-testid":"select-order-status-filter",children:i.jsx(Hs,{placeholder:"Status"})}),i.jsxs(Es,{children:[i.jsx(ke,{value:"all",children:"All Status"}),i.jsx(ke,{value:"pending",children:"Pending"}),i.jsx(ke,{value:"processing",children:"Processing"}),i.jsx(ke,{value:"shipped",children:"Shipped"}),i.jsx(ke,{value:"delivered",children:"Delivered"}),i.jsx(ke,{value:"cancelled",children:"Cancelled"})]})]})]})}),i.jsx(le,{children:y.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground","data-testid":"text-no-orders",children:[i.jsx(jn,{className:"h-16 w-16 mx-auto mb-4 opacity-30"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No orders found"}),i.jsx("p",{children:"Orders will appear here once customers make purchases."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"hidden md:block overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"border-b",children:i.jsxs("tr",{className:"text-left text-sm text-muted-foreground",children:[i.jsx("th",{className:"pb-3 font-medium",children:"Order"}),i.jsx("th",{className:"pb-3 font-medium",children:"Customer"}),i.jsx("th",{className:"pb-3 font-medium",children:"Items"}),i.jsx("th",{className:"pb-3 font-medium",children:"Total"}),i.jsx("th",{className:"pb-3 font-medium",children:"Status"}),i.jsx("th",{className:"pb-3 font-medium",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y",children:y.map(T=>{var E,P,R;return i.jsxs("tr",{className:"text-sm","data-testid":`order-row-${T.id}`,children:[i.jsxs("td",{className:"py-4",children:[i.jsx("p",{className:"font-medium font-mono",children:T.orderNumber}),i.jsx("p",{className:"text-xs text-muted-foreground",children:((R=(P=(E=T.createdAt)==null?void 0:E.toDate)==null?void 0:P.call(E))==null?void 0:R.toLocaleDateString())||"Recent"})]}),i.jsxs("td",{className:"py-4",children:[i.jsxs("p",{className:"font-medium",children:[T.shipping.firstName," ",T.shipping.lastName]}),i.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:T.userEmail})]}),i.jsxs("td",{className:"py-4",children:[T.items.length," items"]}),i.jsxs("td",{className:"py-4 font-semibold",children:["",T.total.toFixed(2)]}),i.jsx("td",{className:"py-4",children:i.jsxs(wt,{variant:"secondary",className:`${v(T.status)} gap-1`,children:[w(T.status),T.status.charAt(0).toUpperCase()+T.status.slice(1)]})}),i.jsx("td",{className:"py-4",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>u(T),"data-testid":`button-view-order-${T.id}`,children:i.jsx(ah,{className:"h-4 w-4"})}),i.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>g(T),title:"Print Receipt",children:i.jsx(Hy,{className:"h-4 w-4"})}),i.jsxs(Ws,{value:T.status,onValueChange:D=>x(T.id,D),children:[i.jsx(Ss,{className:"w-28 h-9","data-testid":`select-order-status-${T.id}`,children:i.jsx(Hs,{})}),i.jsxs(Es,{children:[i.jsx(ke,{value:"pending",children:"Pending"}),i.jsx(ke,{value:"processing",children:"Processing"}),i.jsx(ke,{value:"shipped",children:"Shipped"}),i.jsx(ke,{value:"delivered",children:"Delivered"}),i.jsx(ke,{value:"cancelled",children:"Cancelled"})]})]})]})})]},T.id)})})]})}),i.jsx("div",{className:"md:hidden space-y-3",children:y.map(T=>{var E,P,R;return i.jsx(ae,{className:"overflow-hidden","data-testid":`order-card-${T.id}`,children:i.jsxs(le,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-mono font-semibold",children:T.orderNumber}),i.jsx("p",{className:"text-xs text-muted-foreground",children:((R=(P=(E=T.createdAt)==null?void 0:E.toDate)==null?void 0:P.call(E))==null?void 0:R.toLocaleDateString())||"Recent"})]}),i.jsxs(wt,{variant:"secondary",className:`${v(T.status)} gap-1`,children:[w(T.status),i.jsx("span",{className:"hidden xs:inline",children:T.status.charAt(0).toUpperCase()+T.status.slice(1)})]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Customer"}),i.jsxs("span",{className:"font-medium",children:[T.shipping.firstName," ",T.shipping.lastName]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Items"}),i.jsx("span",{children:T.items.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Total"}),i.jsxs("span",{className:"font-semibold",children:["",T.total.toFixed(2)]})]})]}),i.jsx(wn,{className:"my-3"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ie,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>u(T),children:[i.jsx(ah,{className:"h-4 w-4 mr-2"}),"View"]}),i.jsx(ie,{variant:"outline",size:"sm",onClick:()=>g(T),children:i.jsx(Hy,{className:"h-4 w-4"})}),i.jsxs(Ws,{value:T.status,onValueChange:D=>x(T.id,D),children:[i.jsx(Ss,{className:"flex-1 h-9",children:i.jsx(Hs,{})}),i.jsxs(Es,{children:[i.jsx(ke,{value:"pending",children:"Pending"}),i.jsx(ke,{value:"processing",children:"Processing"}),i.jsx(ke,{value:"shipped",children:"Shipped"}),i.jsx(ke,{value:"delivered",children:"Delivered"}),i.jsx(ke,{value:"cancelled",children:"Cancelled"})]})]})]})]})},T.id)})})]})})]}),i.jsx(Ln,{open:!!c,onOpenChange:()=>u(null),children:i.jsxs(Nn,{className:"max-w-2xl max-h-[90vh]",children:[i.jsx(Vn,{children:i.jsxs(_n,{className:"font-heading text-xl",children:["Order #",c==null?void 0:c.orderNumber]})}),c&&i.jsx(Ei,{className:"max-h-[70vh]",children:i.jsxs("div",{className:"space-y-6 pr-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(wt,{variant:"secondary",className:`${v(c.status)} gap-1`,children:[w(c.status),c.status.charAt(0).toUpperCase()+c.status.slice(1)]}),i.jsx("span",{className:"text-sm text-muted-foreground",children:((S=(_=(I=c.createdAt)==null?void 0:I.toDate)==null?void 0:_.call(I))==null?void 0:S.toLocaleDateString())||"Recent"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs(ae,{children:[i.jsx(it,{className:"pb-2",children:i.jsx(Nt,{className:"text-sm font-medium",children:"Customer Information"})}),i.jsxs(le,{className:"text-sm space-y-1",children:[i.jsxs("p",{className:"font-medium",children:[c.shipping.firstName," ",c.shipping.lastName]}),i.jsx("p",{className:"text-muted-foreground",children:c.userEmail}),c.shipping.phone&&i.jsx("p",{className:"text-muted-foreground",children:c.shipping.phone})]})]}),i.jsxs(ae,{children:[i.jsx(it,{className:"pb-2",children:i.jsx(Nt,{className:"text-sm font-medium",children:"Shipping Address"})}),i.jsxs(le,{className:"text-sm space-y-1",children:[i.jsx("p",{children:c.shipping.address}),i.jsxs("p",{children:[c.shipping.city,", ",c.shipping.state," ",c.shipping.zipCode]}),c.shipping.country&&i.jsx("p",{children:c.shipping.country})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Order Items"}),i.jsx("div",{className:"space-y-3",children:c.items.map((T,E)=>i.jsxs("div",{className:"flex gap-3 items-center p-3 bg-muted/50 rounded-lg",children:[T.image&&i.jsx("img",{src:T.image,alt:T.name,className:"w-12 h-12 rounded-lg object-cover"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:T.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Qty: ",T.quantity]})]}),i.jsxs("p",{className:"font-semibold",children:["",(T.price*T.quantity).toFixed(2)]})]},E))})]}),i.jsx(ae,{children:i.jsxs(le,{className:"p-4 space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),i.jsxs("span",{children:["",c.subtotal.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),i.jsx("span",{children:c.shippingCost===0?"Free":`${c.shippingCost.toFixed(2)}`})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Tax"}),i.jsxs("span",{children:["",c.tax.toFixed(2)]})]}),i.jsx(wn,{}),i.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[i.jsx("span",{children:"Total"}),i.jsxs("span",{children:["",c.total.toFixed(2)]})]})]})}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsxs(ie,{variant:"outline",onClick:()=>g(c),children:[i.jsx(Hy,{className:"h-4 w-4 mr-2"}),"Print Receipt"]}),i.jsx(ie,{onClick:()=>u(null),"data-testid":"button-close-order-details",children:"Close"})]})]})})]})}),d&&i.jsx("div",{className:"fixed left-[-9999px] top-0",children:i.jsx(PV,{ref:m,order:d})})]})})},cde=()=>{var w,v,j;const[t,e]=p.useState([]),[n,s]=p.useState(!0),[r,o]=p.useState(""),[a,l]=p.useState("all"),[c,u]=p.useState(null);p.useEffect(()=>{const b=Ve(ue,"users"),C=bt(b,hs("createdAt","desc")),k=vt(C,I=>{const _=[];I.forEach(S=>{const T=S.data();_.push({id:S.id,displayName:T.displayName||T.name||"User",email:T.email||"",phone:T.phone,createdAt:T.createdAt,address:T.address,orderCount:T.orderCount||0,totalSpent:T.totalSpent||0,status:T.status||"Active"})}),e(_),s(!1)},I=>{console.error("Error fetching users:",I),s(!1)});return()=>k()},[]);const d=t.filter(b=>{const C=b.displayName.toLowerCase().includes(r.toLowerCase())||b.email.toLowerCase().includes(r.toLowerCase()),k=a==="all"||b.status===a;return C&&k}),h=b=>{e(t.map(k=>k.id===b?{...k,status:k.status==="Active"?"Suspended":"Active"}:k));const C=t.find(k=>k.id===b);je({title:"User updated",description:`${C==null?void 0:C.displayName} has been ${(C==null?void 0:C.status)==="Active"?"suspended":"reactivated"}.`})},m=b=>b.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2),g=t.length,y=t.filter(b=>b.status==="Active").length,x=t.reduce((b,C)=>b+(C.totalSpent||0),0);return n?i.jsx(fn,{children:i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading users..."})]})})}):i.jsx(fn,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-heading text-2xl md:text-3xl font-semibold text-foreground",children:"User Management"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage customer accounts"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsx(ae,{children:i.jsx(le,{className:"p-5",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"h-12 w-12 rounded-xl bg-primary/10 flex items-center justify-center",children:i.jsx(Qc,{className:"text-primary",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:g}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"})]})]})})}),i.jsx(ae,{children:i.jsx(le,{className:"p-5",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"h-12 w-12 rounded-xl bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:i.jsx(yn,{className:"text-green-600 dark:text-green-400",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:y}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Users"})]})]})})}),i.jsx(ae,{children:i.jsx(le,{className:"p-5",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"h-12 w-12 rounded-xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:i.jsx(L0,{className:"text-blue-600 dark:text-blue-400",size:24})}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["",x.toFixed(2)]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]})]})})})]}),i.jsxs(ae,{children:[i.jsx(it,{className:"pb-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(ri,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),i.jsx(Ne,{placeholder:"Search users...",className:"pl-10",value:r,onChange:b=>o(b.target.value)})]}),i.jsxs(Ws,{value:a,onValueChange:l,children:[i.jsx(Ss,{className:"w-full sm:w-32",children:i.jsx(Hs,{placeholder:"Status"})}),i.jsxs(Es,{children:[i.jsx(ke,{value:"all",children:"All Status"}),i.jsx(ke,{value:"Active",children:"Active"}),i.jsx(ke,{value:"Suspended",children:"Suspended"})]})]})]})}),i.jsx(le,{children:d.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx(Qc,{className:"h-16 w-16 mx-auto mb-4 opacity-30"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No users found"}),i.jsx("p",{children:"Users will appear here when they create accounts."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"hidden md:block overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"User"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Orders"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Total Spent"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Status"}),i.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),i.jsx("tbody",{children:d.map(b=>i.jsxs("tr",{className:"border-b border-border last:border-0 hover:bg-muted/50 transition-colors",children:[i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Za,{className:"h-10 w-10",children:i.jsx(el,{className:"bg-primary/10 text-primary font-semibold",children:m(b.displayName)})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-medium text-foreground truncate",children:b.displayName}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:b.email})]})]})}),i.jsx("td",{className:"py-4 px-4 text-foreground",children:b.orderCount||0}),i.jsxs("td",{className:"py-4 px-4 font-medium text-foreground",children:["",(b.totalSpent||0).toFixed(2)]}),i.jsx("td",{className:"py-4 px-4",children:i.jsx(wt,{variant:"secondary",className:b.status==="Active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",children:b.status})}),i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>u(b),children:i.jsx(ah,{size:16})}),i.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>h(b.id),children:b.status==="Active"?i.jsx(QS,{size:16,className:"text-destructive"}):i.jsx(yn,{size:16,className:"text-green-600"})})]})})]},b.id))})]})}),i.jsx("div",{className:"md:hidden space-y-3",children:d.map(b=>i.jsx(ae,{className:"overflow-hidden",children:i.jsx(le,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Za,{className:"h-12 w-12",children:i.jsx(el,{className:"bg-primary/10 text-primary font-semibold",children:m(b.displayName)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-medium text-foreground truncate",children:b.displayName}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:b.email})]}),i.jsxs(If,{children:[i.jsx(kf,{asChild:!0,children:i.jsx(ie,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(a1,{className:"h-4 w-4"})})}),i.jsxs(Iu,{align:"end",children:[i.jsxs(ei,{onClick:()=>u(b),children:[i.jsx(ah,{className:"h-4 w-4 mr-2"}),"View Details"]}),i.jsx(ei,{onClick:()=>h(b.id),children:b.status==="Active"?i.jsxs(i.Fragment,{children:[i.jsx(QS,{className:"h-4 w-4 mr-2"}),"Suspend User"]}):i.jsxs(i.Fragment,{children:[i.jsx(yn,{className:"h-4 w-4 mr-2"}),"Activate User"]})})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[i.jsx(wt,{variant:"secondary",className:b.status==="Active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",children:b.status}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[b.orderCount||0," orders"]}),i.jsxs("span",{className:"text-sm font-medium",children:["",(b.totalSpent||0).toFixed(2)]})]})]})]})})},b.id))})]})})]}),i.jsx(Ln,{open:!!c,onOpenChange:()=>u(null),children:i.jsxs(Nn,{className:"max-w-md",children:[i.jsx(Vn,{children:i.jsx(_n,{className:"font-heading text-xl",children:"User Details"})}),c&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Za,{className:"h-16 w-16",children:i.jsx(el,{className:"bg-primary/10 text-primary text-xl font-semibold",children:m(c.displayName)})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xl font-semibold text-foreground",children:c.displayName}),i.jsx(wt,{variant:"secondary",className:c.status==="Active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",children:c.status})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[i.jsx(Ko,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-foreground",children:c.email})]}),c.phone&&i.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[i.jsx(t2,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-foreground",children:c.phone})]}),i.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[i.jsx(H$,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{className:"text-foreground",children:["Joined ",((j=(v=(w=c.createdAt)==null?void 0:w.toDate)==null?void 0:v.call(w))==null?void 0:j.toLocaleDateString())||"Recently"]})]})]}),i.jsx(wn,{}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(ae,{children:i.jsxs(le,{className:"p-4 text-center",children:[i.jsx(Yo,{className:"h-6 w-6 mx-auto mb-2 text-muted-foreground"}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:c.orderCount||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Orders"})]})}),i.jsx(ae,{children:i.jsxs(le,{className:"p-4 text-center",children:[i.jsx(L0,{className:"h-6 w-6 mx-auto mb-2 text-muted-foreground"}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:(c.totalSpent||0).toFixed(2)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Spent ()"})]})})]}),c.address&&(c.address.street||c.address.city)&&i.jsxs(i.Fragment,{children:[i.jsx(wn,{}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Address"}),i.jsxs("p",{className:"text-sm text-foreground",children:[c.address.street&&i.jsxs(i.Fragment,{children:[c.address.street,i.jsx("br",{})]}),c.address.city&&i.jsxs(i.Fragment,{children:[c.address.city,", "]}),c.address.state&&i.jsxs(i.Fragment,{children:[c.address.state," "]}),c.address.zipCode&&i.jsx(i.Fragment,{children:c.address.zipCode}),c.address.country&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),c.address.country]})]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(ie,{onClick:()=>u(null),children:"Close"})})]})]})})]})})},ude=()=>{const[t,e]=p.useState([]),[n,s]=p.useState(!0),[r,o]=p.useState(""),[a,l]=p.useState("all"),[c,u]=p.useState(null),[d,h]=p.useState(""),[m,g]=p.useState(!1);p.useEffect(()=>{const _=Ve(ue,"contacts"),S=bt(_,hs("createdAt","desc")),T=vt(S,E=>{const P=[];E.forEach(R=>{const D=R.data();P.push({id:R.id,name:D.name||"Unknown",email:D.email||"",subject:D.subject||"No Subject",message:D.message||"",status:D.status||"new",priority:D.priority||"Medium",createdAt:D.createdAt,response:D.response})}),e(P),s(!1)},E=>{console.error("Error fetching contacts:",E),s(!1)});return()=>T()},[]);const y=t.filter(_=>{const S=_.name.toLowerCase().includes(r.toLowerCase())||_.subject.toLowerCase().includes(r.toLowerCase())||_.email.toLowerCase().includes(r.toLowerCase()),T=a==="all"||_.status===a;return S&&T}),x=async(_,S)=>{try{const T=Ue(ue,"contacts",_);await $n(T,{status:S,updatedAt:Xe()}),je({title:"Ticket updated",description:`Status changed to ${S}`})}catch(T){console.error("Error updating ticket:",T),je({title:"Error",description:"Failed to update ticket",variant:"destructive"})}},w=async()=>{if(!(!c||!d.trim())){g(!0);try{const _=Ue(ue,"contacts",c.id);await $n(_,{response:d,status:"Resolved",updatedAt:Xe()}),je({title:"Response sent",description:"The ticket has been resolved."}),h(""),u(null)}catch(_){console.error("Error sending response:",_),je({title:"Error",description:"Failed to send response",variant:"destructive"})}finally{g(!1)}}},v=_=>{switch(_){case"new":case"Open":return i.jsx(oh,{size:16});case"In Progress":return i.jsx(Go,{size:16});case"Resolved":return i.jsx(yn,{size:16});case"Closed":return i.jsx(yn,{size:16})}},j=_=>{switch(_){case"new":case"Open":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"In Progress":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"Resolved":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"Closed":return"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}},b=_=>{switch(_){case"High":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"Medium":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"Low":return"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}},C=t.filter(_=>_.status==="new"||_.status==="Open").length,k=t.filter(_=>_.status==="In Progress").length,I=t.filter(_=>_.status==="Resolved"||_.status==="Closed").length;return n?i.jsx(fn,{children:i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading tickets..."})]})})}):i.jsx(fn,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-heading text-2xl md:text-3xl font-semibold text-foreground","data-testid":"text-contact-title",children:"Contact Messages"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"View and respond to customer inquiries"})]}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(ae,{children:i.jsxs(le,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(oh,{className:"text-yellow-600 dark:text-yellow-400",size:20})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-open-count",children:C}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Open"})]})]})}),i.jsx(ae,{children:i.jsxs(le,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(Go,{className:"text-blue-600 dark:text-blue-400",size:20})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-progress-count",children:k}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"In Progress"})]})]})}),i.jsx(ae,{children:i.jsxs(le,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(yn,{className:"text-green-600 dark:text-green-400",size:20})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-resolved-count",children:I}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Resolved"})]})]})}),i.jsx(ae,{children:i.jsxs(le,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx(XS,{className:"text-primary",size:20})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-total-count",children:t.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total"})]})]})})]}),i.jsxs(ae,{children:[i.jsx(it,{className:"pb-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(ri,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),i.jsx(Ne,{placeholder:"Search by name, email, or subject...",value:r,onChange:_=>o(_.target.value),className:"pl-10","data-testid":"input-search-tickets"})]}),i.jsxs(Ws,{value:a,onValueChange:l,children:[i.jsx(Ss,{className:"w-full sm:w-40","data-testid":"select-status-filter",children:i.jsx(Hs,{placeholder:"Filter by status"})}),i.jsxs(Es,{children:[i.jsx(ke,{value:"all",children:"All Status"}),i.jsx(ke,{value:"new",children:"New"}),i.jsx(ke,{value:"Open",children:"Open"}),i.jsx(ke,{value:"In Progress",children:"In Progress"}),i.jsx(ke,{value:"Resolved",children:"Resolved"}),i.jsx(ke,{value:"Closed",children:"Closed"})]})]})]})}),i.jsx(le,{children:y.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground","data-testid":"text-no-tickets",children:[i.jsx(XS,{className:"h-16 w-16 mx-auto mb-4 opacity-30"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No contact messages found"}),i.jsx("p",{children:"Tickets will appear here when customers submit inquiries."})]}):i.jsx("div",{className:"space-y-3",children:y.map(_=>{var S,T,E;return i.jsx(ae,{className:"overflow-hidden","data-testid":`ticket-${_.id}`,children:i.jsx(le,{className:"p-4",children:i.jsx("div",{className:"flex flex-col gap-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[i.jsxs(wt,{variant:"secondary",className:`${j(_.status)} gap-1`,children:[v(_.status),_.status]}),_.priority&&i.jsx(wt,{variant:"secondary",className:b(_.priority),children:_.priority})]}),i.jsx("h3",{className:"font-semibold text-foreground mb-1",children:_.subject}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-muted-foreground mb-2",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Wr,{size:14}),_.name]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Ko,{size:14}),i.jsx("span",{className:"truncate max-w-[200px]",children:_.email})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:_.message}),_.response&&i.jsxs("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[i.jsx("p",{className:"text-xs font-medium text-green-700 dark:text-green-400 mb-1",children:"Your Response:"}),i.jsx("p",{className:"text-sm text-green-600 dark:text-green-300",children:_.response})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:((E=(T=(S=_.createdAt)==null?void 0:S.toDate)==null?void 0:T.call(S))==null?void 0:E.toLocaleDateString())||"Recent"})]}),i.jsxs("div",{className:"flex sm:flex-col gap-2",children:[i.jsxs(Ws,{value:_.status,onValueChange:P=>x(_.id,P),children:[i.jsx(Ss,{className:"w-28 h-9","data-testid":`select-status-${_.id}`,children:i.jsx(Hs,{})}),i.jsxs(Es,{children:[i.jsx(ke,{value:"new",children:"New"}),i.jsx(ke,{value:"Open",children:"Open"}),i.jsx(ke,{value:"In Progress",children:"In Progress"}),i.jsx(ke,{value:"Resolved",children:"Resolved"}),i.jsx(ke,{value:"Closed",children:"Closed"})]})]}),i.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{u(_),h(_.response||"")},"data-testid":`button-respond-${_.id}`,children:[i.jsx(ch,{size:14,className:"mr-2"}),"Respond"]})]})]})})})},_.id)})})})]}),i.jsx(Ln,{open:!!c,onOpenChange:()=>u(null),children:i.jsxs(Nn,{className:"max-w-lg",children:[i.jsxs(Vn,{children:[i.jsx(_n,{className:"font-heading text-xl",children:"Respond to Ticket"}),i.jsx(Eu,{children:c==null?void 0:c.subject})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(ae,{children:i.jsxs(le,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Wr,{size:16,className:"text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:c==null?void 0:c.name})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c==null?void 0:c.message})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Your Response"}),i.jsx(is,{placeholder:"Type your response...",value:d,onChange:_=>h(_.target.value),rows:5,"data-testid":"input-response"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(ie,{variant:"outline",onClick:()=>u(null),"data-testid":"button-cancel",children:"Cancel"}),i.jsxs(ie,{onClick:w,disabled:m||!d.trim(),"data-testid":"button-send-response",children:[m?i.jsx(De,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx(ch,{size:16,className:"mr-2"}),"Send Response"]})]})]})]})})]})})};var Zx="Switch",[dde]=mn(Zx),[hde,fde]=dde(Zx),IV=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:r,defaultChecked:o,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[m,g]=p.useState(null),y=Ie(e,b=>g(b)),x=p.useRef(!1),w=m?d||!!m.closest("form"):!0,[v,j]=Cs({prop:r,defaultProp:o??!1,onChange:u,caller:Zx});return i.jsxs(hde,{scope:n,checked:v,disabled:l,children:[i.jsx(pe.button,{type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":MV(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:y,onClick:se(t.onClick,b=>{j(C=>!C),w&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),w&&i.jsx(DV,{control:m,bubbles:!x.current,name:s,value:c,checked:v,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});IV.displayName=Zx;var kV="SwitchThumb",RV=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,r=fde(kV,n);return i.jsx(pe.span,{"data-state":MV(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:e})});RV.displayName=kV;var mde="SwitchBubbleInput",DV=p.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:s=!0,...r},o)=>{const a=p.useRef(null),l=Ie(a,o),c=WN(n),u=w1(e);return p.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&g){const y=new Event("click",{bubbles:s});g.call(d,n),d.dispatchEvent(y)}},[c,n,s]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:l,style:{...r.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});DV.displayName=mde;function MV(t){return t?"checked":"unchecked"}var OV=IV,pde=RV;const Ng=p.forwardRef(({className:t,...e},n)=>i.jsx(OV,{className:ce("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:i.jsx(pde,{className:ce("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ng.displayName=OV.displayName;const gde=()=>{const[t,e]=p.useState([]),[n,s]=p.useState(!0),[r,o]=p.useState(!1),[a,l]=p.useState(null),[c,u]=p.useState(!1),[d,h]=p.useState({title:"",description:"",image:"",buttonText:"Shop Now",buttonLink:"/shop",isActive:!0});p.useEffect(()=>{const v=Ve(ue,"advertisements"),j=bt(v,hs("createdAt","desc")),b=vt(j,C=>{const k=[];C.forEach(I=>{const _=I.data();k.push({id:I.id,title:_.title||"",description:_.description||"",image:_.image||"",buttonText:_.buttonText||"Shop Now",buttonLink:_.buttonLink||"/shop",isActive:_.isActive||!1,createdAt:_.createdAt})}),e(k),s(!1)});return()=>b()},[]);const m=()=>{h({title:"",description:"",image:"",buttonText:"Shop Now",buttonLink:"/shop",isActive:!0}),l(null)},g=v=>{v?(l(v),h({title:v.title,description:v.description,image:v.image,buttonText:v.buttonText,buttonLink:v.buttonLink,isActive:v.isActive})):m(),o(!0)},y=async()=>{if(!d.title.trim()){je({title:"Error",description:"Title is required",variant:"destructive"});return}u(!0);try{a?(await $n(Ue(ue,"advertisements",a.id),{...d,updatedAt:Xe()}),je({title:"Success",description:"Advertisement updated successfully"})):(await ai(Ve(ue,"advertisements"),{...d,createdAt:Xe()}),je({title:"Success",description:"Advertisement created successfully"})),o(!1),m()}catch(v){console.error("Error saving advertisement:",v),je({title:"Error",description:"Failed to save advertisement",variant:"destructive"})}finally{u(!1)}},x=async v=>{if(confirm("Are you sure you want to delete this advertisement?"))try{await _r(Ue(ue,"advertisements",v)),je({title:"Success",description:"Advertisement deleted successfully"})}catch(j){console.error("Error deleting advertisement:",j),je({title:"Error",description:"Failed to delete advertisement",variant:"destructive"})}},w=async v=>{try{await $n(Ue(ue,"advertisements",v.id),{isActive:!v.isActive,updatedAt:Xe()}),je({title:"Success",description:`Advertisement ${v.isActive?"deactivated":"activated"}`})}catch(j){console.error("Error toggling advertisement:",j),je({title:"Error",description:"Failed to update advertisement",variant:"destructive"})}};return i.jsxs(fn,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-heading text-2xl md:text-3xl font-semibold text-foreground",children:"Advertisements"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage popup advertisements for your store"})]}),i.jsxs(ie,{onClick:()=>g(),className:"gap-2",children:[i.jsx(js,{className:"h-4 w-4"}),"Add Advertisement"]})]}),i.jsxs(ae,{children:[i.jsx(it,{children:i.jsxs(Nt,{className:"flex items-center gap-2",children:[i.jsx(F0,{className:"h-5 w-5"}),"All Advertisements (",t.length,")"]})}),i.jsx(le,{children:n?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):t.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx(F0,{className:"h-16 w-16 mx-auto mb-4 opacity-30"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No advertisements yet"}),i.jsx("p",{children:"Create your first advertisement to show popup promotions."})]}):i.jsx("div",{className:"grid gap-4",children:t.map(v=>i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-4 border rounded-lg",children:[v.image&&i.jsx("div",{className:"w-full sm:w-32 h-24 rounded-lg overflow-hidden bg-secondary flex-shrink-0",children:i.jsx("img",{src:v.image,alt:v.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold truncate",children:v.title}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:v.description})]}),i.jsx(wt,{variant:v.isActive?"default":"secondary",children:v.isActive?"Active":"Inactive"})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[i.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>g(v),children:[i.jsx(Yc,{className:"h-3 w-3 mr-1"}),"Edit"]}),i.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>w(v),children:[v.isActive?i.jsx(p9,{className:"h-3 w-3 mr-1"}):i.jsx(ah,{className:"h-3 w-3 mr-1"}),v.isActive?"Deactivate":"Activate"]}),i.jsxs(ie,{variant:"destructive",size:"sm",onClick:()=>x(v.id),children:[i.jsx(Ii,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]},v.id))})})]})]}),i.jsx(Ln,{open:r,onOpenChange:o,children:i.jsxs(Nn,{className:"sm:max-w-lg",children:[i.jsxs(Vn,{children:[i.jsx(_n,{children:a?"Edit Advertisement":"Create Advertisement"}),i.jsx(Eu,{children:a?"Update the advertisement details below.":"Fill in the details to create a new popup advertisement."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Title *"}),i.jsx(Ne,{value:d.title,onChange:v=>h({...d,title:v.target.value}),placeholder:"e.g., Summer Sale - 50% Off!"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Description"}),i.jsx(is,{value:d.description,onChange:v=>h({...d,description:v.target.value}),placeholder:"e.g., Get amazing discounts on all skincare products",rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Image URL"}),i.jsx(Ne,{value:d.image,onChange:v=>h({...d,image:v.target.value}),placeholder:"https://example.com/image.jpg"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Button Text"}),i.jsx(Ne,{value:d.buttonText,onChange:v=>h({...d,buttonText:v.target.value}),placeholder:"Shop Now"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Button Link"}),i.jsx(Ne,{value:d.buttonLink,onChange:v=>h({...d,buttonLink:v.target.value}),placeholder:"/shop"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(me,{children:"Active"}),i.jsx(Ng,{checked:d.isActive,onCheckedChange:v=>h({...d,isActive:v})})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(ie,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),i.jsxs(ie,{onClick:y,disabled:c,children:[c&&i.jsx(De,{className:"h-4 w-4 mr-2 animate-spin"}),a?"Update":"Create"]})]})]})})]})},xde=["Self-Care & Wellness","Sustainable Beauty","Skincare Tips","Product Guides","Ingredients"],yde=()=>{const[t,e]=p.useState([]),[n,s]=p.useState(!0),[r,o]=p.useState(""),[a,l]=p.useState(!1),[c,u]=p.useState(null),[d,h]=p.useState(!1),[m,g]=p.useState({title:"",category:"Skincare Tips",image:"",excerpt:"",content:"",author:"",status:"draft"});p.useEffect(()=>{const C=Ve(ue,"blogs"),k=bt(C,hs("createdAt","desc")),I=vt(k,_=>{const S=[];_.forEach(T=>{const E=T.data();S.push({id:T.id,title:E.title||"",category:E.category||"Skincare Tips",image:E.image||"",excerpt:E.excerpt||"",content:E.content||"",author:E.author||"",status:E.status||"draft",createdAt:E.createdAt})}),e(S),s(!1)});return()=>I()},[]);const y=t.filter(C=>C.title.toLowerCase().includes(r.toLowerCase())||C.category.toLowerCase().includes(r.toLowerCase())),x=()=>{g({title:"",category:"Skincare Tips",image:"",excerpt:"",content:"",author:"",status:"draft"}),u(null)},w=C=>{C?(u(C),g({title:C.title,category:C.category,image:C.image,excerpt:C.excerpt,content:C.content,author:C.author,status:C.status})):x(),l(!0)},v=async()=>{if(!m.title.trim()){je({title:"Error",description:"Title is required",variant:"destructive"});return}h(!0);try{c?(await $n(Ue(ue,"blogs",c.id),{...m,updatedAt:Xe()}),je({title:"Success",description:"Blog post updated successfully"})):(await ai(Ve(ue,"blogs"),{...m,createdAt:Xe()}),je({title:"Success",description:"Blog post created successfully"})),l(!1),x()}catch(C){console.error("Error saving blog:",C),je({title:"Error",description:"Failed to save blog post",variant:"destructive"})}finally{h(!1)}},j=async C=>{if(confirm("Are you sure you want to delete this blog post?"))try{await _r(Ue(ue,"blogs",C)),je({title:"Success",description:"Blog post deleted successfully"})}catch(k){console.error("Error deleting blog:",k),je({title:"Error",description:"Failed to delete blog post",variant:"destructive"})}},b=async C=>{const k=C.status==="published"?"draft":"published";try{await $n(Ue(ue,"blogs",C.id),{status:k,updatedAt:Xe()}),je({title:"Success",description:`Blog post ${k}`})}catch(I){console.error("Error updating blog:",I),je({title:"Error",description:"Failed to update blog post",variant:"destructive"})}};return i.jsxs(fn,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-heading text-2xl md:text-3xl font-semibold text-foreground",children:"Blog Posts"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage blog articles for your store"})]}),i.jsxs(ie,{onClick:()=>w(),className:"gap-2",children:[i.jsx(js,{className:"h-4 w-4"}),"Add Blog Post"]})]}),i.jsxs("div",{className:"relative max-w-sm",children:[i.jsx(ri,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ne,{placeholder:"Search blogs...",value:r,onChange:C=>o(C.target.value),className:"pl-9"})]}),i.jsxs(ae,{children:[i.jsx(it,{children:i.jsxs(Nt,{className:"flex items-center gap-2",children:[i.jsx(V0,{className:"h-5 w-5"}),"All Blog Posts (",y.length,")"]})}),i.jsx(le,{children:n?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):y.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx(V0,{className:"h-16 w-16 mx-auto mb-4 opacity-30"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No blog posts found"}),i.jsx("p",{children:"Create your first blog post to share with your customers."})]}):i.jsx("div",{className:"grid gap-4",children:y.map(C=>i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-4 border rounded-lg",children:[C.image&&i.jsx("div",{className:"w-full sm:w-32 h-24 rounded-lg overflow-hidden bg-secondary flex-shrink-0",children:i.jsx("img",{src:C.image,alt:C.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold truncate",children:C.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:C.category}),C.excerpt&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mt-1",children:C.excerpt})]}),i.jsx(wt,{variant:C.status==="published"?"default":"secondary",children:C.status==="published"?"Published":"Draft"})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[i.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>w(C),children:[i.jsx(Yc,{className:"h-3 w-3 mr-1"}),"Edit"]}),i.jsx(ie,{variant:"outline",size:"sm",onClick:()=>b(C),children:C.status==="published"?"Unpublish":"Publish"}),i.jsxs(ie,{variant:"destructive",size:"sm",onClick:()=>j(C.id),children:[i.jsx(Ii,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]},C.id))})})]})]}),i.jsx(Ln,{open:a,onOpenChange:l,children:i.jsxs(Nn,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(Vn,{children:[i.jsx(_n,{children:c?"Edit Blog Post":"Create Blog Post"}),i.jsx(Eu,{children:c?"Update the blog post details below.":"Fill in the details to create a new blog post."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Title *"}),i.jsx(Ne,{value:m.title,onChange:C=>g({...m,title:C.target.value}),placeholder:"e.g., 10 Tips for Glowing Skin"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Category"}),i.jsxs(Ws,{value:m.category,onValueChange:C=>g({...m,category:C}),children:[i.jsx(Ss,{children:i.jsx(Hs,{})}),i.jsx(Es,{children:xde.map(C=>i.jsx(ke,{value:C,children:C},C))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Author"}),i.jsx(Ne,{value:m.author,onChange:C=>g({...m,author:C.target.value}),placeholder:"e.g., Jane Doe"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Image URL"}),i.jsx(Ne,{value:m.image,onChange:C=>g({...m,image:C.target.value}),placeholder:"https://example.com/image.jpg"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Excerpt"}),i.jsx(is,{value:m.excerpt,onChange:C=>g({...m,excerpt:C.target.value}),placeholder:"A brief summary of the blog post...",rows:2})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Content"}),i.jsx(is,{value:m.content,onChange:C=>g({...m,content:C.target.value}),placeholder:"Write your blog post content here...",rows:8})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Status"}),i.jsxs(Ws,{value:m.status,onValueChange:C=>g({...m,status:C}),children:[i.jsx(Ss,{children:i.jsx(Hs,{})}),i.jsxs(Es,{children:[i.jsx(ke,{value:"draft",children:"Draft"}),i.jsx(ke,{value:"published",children:"Published"})]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(ie,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),i.jsxs(ie,{onClick:v,disabled:d,children:[d&&i.jsx(De,{className:"h-4 w-4 mr-2 animate-spin"}),c?"Update":"Create"]})]})]})})]})},LV=p.forwardRef(({className:t,...e},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:ce("w-full caption-bottom text-sm",t),...e})}));LV.displayName="Table";const VV=p.forwardRef(({className:t,...e},n)=>i.jsx("thead",{ref:n,className:ce("[&_tr]:border-b",t),...e}));VV.displayName="TableHeader";const FV=p.forwardRef(({className:t,...e},n)=>i.jsx("tbody",{ref:n,className:ce("[&_tr:last-child]:border-0",t),...e}));FV.displayName="TableBody";const vde=p.forwardRef(({className:t,...e},n)=>i.jsx("tfoot",{ref:n,className:ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));vde.displayName="TableFooter";const ib=p.forwardRef(({className:t,...e},n)=>i.jsx("tr",{ref:n,className:ce("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));ib.displayName="TableRow";const vd=p.forwardRef(({className:t,...e},n)=>i.jsx("th",{ref:n,className:ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));vd.displayName="TableHead";const wd=p.forwardRef(({className:t,...e},n)=>i.jsx("td",{ref:n,className:ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));wd.displayName="TableCell";const wde=p.forwardRef(({className:t,...e},n)=>i.jsx("caption",{ref:n,className:ce("mt-4 text-sm text-muted-foreground",t),...e}));wde.displayName="TableCaption";const bde=()=>{const[t,e]=p.useState([]),[n,s]=p.useState(!0),[r,o]=p.useState(!1),[a,l]=p.useState(null),[c,u]=p.useState({imageUrl:"",postUrl:"",order:0}),[d,h]=p.useState(!1);p.useEffect(()=>{const x=bt(Ve(ue,"instagramPosts"),hs("order","asc")),w=vt(x,v=>{const j=[];v.forEach(b=>{j.push({id:b.id,...b.data()})}),e(j),s(!1)});return()=>w()},[]);const m=x=>{x?(l(x),u({imageUrl:x.imageUrl,postUrl:x.postUrl,order:x.order})):(l(null),u({imageUrl:"",postUrl:"",order:t.length})),o(!0)},g=async()=>{if(!c.imageUrl||!c.postUrl){ql.error("Please fill in all required fields");return}h(!0);try{a?(await $n(Ue(ue,"instagramPosts",a.id),{imageUrl:c.imageUrl,postUrl:c.postUrl,order:c.order}),ql.success("Instagram post updated")):(await ai(Ve(ue,"instagramPosts"),{imageUrl:c.imageUrl,postUrl:c.postUrl,order:c.order,createdAt:Xe()}),ql.success("Instagram post added")),o(!1)}catch(x){console.error("Error saving post:",x),ql.error("Failed to save post")}finally{h(!1)}},y=async x=>{if(confirm("Are you sure you want to delete this post?"))try{await _r(Ue(ue,"instagramPosts",x)),ql.success("Post deleted")}catch(w){console.error("Error deleting post:",w),ql.error("Failed to delete post")}};return i.jsx(fn,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Instagram Posts"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage Instagram posts displayed on the homepage"})]}),i.jsxs(ie,{onClick:()=>m(),children:[i.jsx(js,{className:"h-4 w-4 mr-2"}),"Add Post"]})]}),n?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):t.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx("p",{children:"No Instagram posts yet."}),i.jsx("p",{className:"text-sm mt-1",children:"Add posts to display them on the homepage."})]}):i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsxs(LV,{children:[i.jsx(VV,{children:i.jsxs(ib,{children:[i.jsx(vd,{className:"w-20",children:"Order"}),i.jsx(vd,{className:"w-24",children:"Preview"}),i.jsx(vd,{children:"Post URL"}),i.jsx(vd,{className:"w-32 text-right",children:"Actions"})]})}),i.jsx(FV,{children:t.map(x=>i.jsxs(ib,{children:[i.jsx(wd,{children:x.order}),i.jsx(wd,{children:i.jsx("img",{src:x.imageUrl,alt:"Instagram post",className:"w-16 h-16 object-cover rounded"})}),i.jsx(wd,{children:i.jsxs("a",{href:x.postUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:[(x.postUrl||"").length>50?x.postUrl.substring(0,50)+"...":x.postUrl||"No URL",i.jsx(f9,{className:"h-3 w-3"})]})}),i.jsx(wd,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>m(x),children:i.jsx(Yc,{className:"h-4 w-4"})}),i.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>y(x.id),children:i.jsx(Ii,{className:"h-4 w-4 text-red-500"})})]})})]},x.id))})]})}),i.jsx(Ln,{open:r,onOpenChange:o,children:i.jsxs(Nn,{className:"sm:max-w-md",children:[i.jsx(Vn,{children:i.jsx(_n,{children:a?"Edit Instagram Post":"Add Instagram Post"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"imageUrl",children:"Image URL *"}),i.jsx(Ne,{id:"imageUrl",value:c.imageUrl,onChange:x=>u({...c,imageUrl:x.target.value}),placeholder:"https://example.com/image.jpg"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"postUrl",children:"Instagram Post URL *"}),i.jsx(Ne,{id:"postUrl",value:c.postUrl,onChange:x=>u({...c,postUrl:x.target.value}),placeholder:"https://instagram.com/p/..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"order",children:"Display Order"}),i.jsx(Ne,{id:"order",type:"number",value:c.order,onChange:x=>u({...c,order:parseInt(x.target.value)||0}),min:0})]}),c.imageUrl&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Preview"}),i.jsx("img",{src:c.imageUrl,alt:"Preview",className:"w-full h-48 object-cover rounded",onError:x=>{x.target.style.display="none"}})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(ie,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),i.jsxs(ie,{onClick:g,disabled:d,children:[d&&i.jsx(De,{className:"h-4 w-4 mr-2 animate-spin"}),a?"Update":"Add"]})]})]})]})})]})})};var ey="Checkbox",[jde]=mn(ey),[Nde,GN]=jde(ey);function _de(t){const{__scopeCheckbox:e,checked:n,children:s,defaultChecked:r,disabled:o,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=t,[m,g]=Cs({prop:n,defaultProp:r??!1,onChange:c,caller:ey}),[y,x]=p.useState(null),[w,v]=p.useState(null),j=p.useRef(!1),b=y?!!a||!!y.closest("form"):!0,C={checked:m,disabled:o,setChecked:g,control:y,setControl:x,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:j,required:u,defaultChecked:Bo(r)?!1:r,isFormControl:b,bubbleInput:w,setBubbleInput:v};return i.jsx(Nde,{scope:e,...C,children:Sde(h)?h(C):s})}var UV="CheckboxTrigger",$V=p.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...s},r)=>{const{control:o,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:y}=GN(UV,t),x=Ie(r,d),w=p.useRef(c);return p.useEffect(()=>{const v=o==null?void 0:o.form;if(v){const j=()=>h(w.current);return v.addEventListener("reset",j),()=>v.removeEventListener("reset",j)}},[o,h]),i.jsx(pe.button,{type:"button",role:"checkbox","aria-checked":Bo(c)?"mixed":c,"aria-required":u,"data-state":qV(c),"data-disabled":l?"":void 0,disabled:l,value:a,...s,ref:x,onKeyDown:se(e,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:se(n,v=>{h(j=>Bo(j)?!0:!j),y&&g&&(m.current=v.isPropagationStopped(),m.current||v.stopPropagation())})})});$V.displayName=UV;var KN=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:s,checked:r,defaultChecked:o,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...h}=t;return i.jsx(_de,{__scopeCheckbox:n,checked:r,defaultChecked:o,disabled:l,required:a,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>i.jsxs(i.Fragment,{children:[i.jsx($V,{...h,ref:e,__scopeCheckbox:n}),m&&i.jsx(HV,{__scopeCheckbox:n})]})})});KN.displayName=ey;var zV="CheckboxIndicator",BV=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:s,...r}=t,o=GN(zV,n);return i.jsx(an,{present:s||Bo(o.checked)||o.checked===!0,children:i.jsx(pe.span,{"data-state":qV(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:e,style:{pointerEvents:"none",...t.style}})})});BV.displayName=zV;var WV="CheckboxBubbleInput",HV=p.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:s,hasConsumerStoppedPropagationRef:r,checked:o,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:m,setBubbleInput:g}=GN(WV,t),y=Ie(n,g),x=WN(o),w=w1(s);p.useEffect(()=>{const j=m;if(!j)return;const b=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(b,"checked").set,I=!r.current;if(x!==o&&k){const _=new Event("click",{bubbles:I});j.indeterminate=Bo(o),k.call(j,Bo(o)?!1:o),j.dispatchEvent(_)}},[m,x,o,r]);const v=p.useRef(Bo(o)?!1:o);return i.jsx(pe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??v.current,required:l,disabled:c,name:u,value:d,form:h,...e,tabIndex:-1,ref:y,style:{...e.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});HV.displayName=WV;function Sde(t){return typeof t=="function"}function Bo(t){return t==="indeterminate"}function qV(t){return Bo(t)?"indeterminate":t?"checked":"unchecked"}const ob=p.forwardRef(({className:t,...e},n)=>i.jsx(KN,{ref:n,className:ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:i.jsx(BV,{className:ce("flex items-center justify-center text-current"),children:i.jsx(dr,{className:"h-4 w-4"})})}));ob.displayName=KN.displayName;const Ede=()=>{const[t,e]=p.useState([]),[n,s]=p.useState(!0),[r,o]=p.useState(""),[a,l]=p.useState(new Set),[c,u]=p.useState(!1),[d,h]=p.useState(!1),[m,g]=p.useState({subject:"",message:""});p.useEffect(()=>{const I=Ve(ue,"newsletterSubscribers"),_=bt(I),S=vt(_,T=>{const E=[];T.forEach(P=>{const R=P.data();E.push({id:P.id,email:R.email||"",subscribedAt:R.subscribedAt,status:R.status||"active"})}),E.sort((P,R)=>{var F,W,B,V;const D=((W=(F=P.subscribedAt)==null?void 0:F.toDate)==null?void 0:W.call(F))||new Date(0);return(((V=(B=R.subscribedAt)==null?void 0:B.toDate)==null?void 0:V.call(B))||new Date(0)).getTime()-D.getTime()}),e(E),s(!1)});return()=>S()},[]);const y=t.filter(I=>I.email.toLowerCase().includes(r.toLowerCase())),x=t.filter(I=>I.status==="active"),w=()=>{a.size===y.length?l(new Set):l(new Set(y.map(I=>I.email)))},v=I=>{const _=new Set(a);_.has(I)?_.delete(I):_.add(I),l(_)},j=async I=>{if(confirm("Are you sure you want to remove this subscriber?"))try{await _r(Ue(ue,"newsletterSubscribers",I)),je({title:"Success",description:"Subscriber removed"})}catch(_){console.error("Error deleting subscriber:",_),je({title:"Error",description:"Failed to remove subscriber",variant:"destructive"})}},b=async I=>{const _=I.status==="active"?"unsubscribed":"active";try{await $n(Ue(ue,"newsletterSubscribers",I.id),{status:_,updatedAt:Xe()}),je({title:"Success",description:`Subscriber ${_==="active"?"activated":"unsubscribed"}`})}catch(S){console.error("Error updating subscriber:",S),je({title:"Error",description:"Failed to update subscriber",variant:"destructive"})}},C=async()=>{if(!m.subject.trim()||!m.message.trim()){je({title:"Error",description:"Subject and message are required",variant:"destructive"});return}const I=a.size>0?Array.from(a):x.map(_=>_.email);if(I.length===0){je({title:"Error",description:"No recipients selected",variant:"destructive"});return}h(!0);try{const _=Ta.currentUser;if(!_)throw new Error("You must be logged in to send newsletters");const S=await _.getIdToken(),T=await fetch("/api/send-newsletter",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({recipients:I,subject:m.subject,message:m.message})}),E=await T.json();if(!T.ok)throw new Error(E.error||"Failed to send newsletter");je({title:"Newsletter Sent!",description:`Successfully sent to ${E.sent} subscriber${E.sent!==1?"s":""}${E.failed>0?`. ${E.failed} failed.`:""}`}),u(!1),g({subject:"",message:""}),l(new Set)}catch(_){console.error("Error sending newsletter:",_),je({title:"Failed to send",description:_ instanceof Error?_.message:"Please try again later.",variant:"destructive"})}finally{h(!1)}},k=I=>{if(!I)return"Unknown";try{const _=I.toDate?I.toDate():new Date(I);return k5(_,"MMM d, yyyy")}catch{return"Unknown"}};return i.jsxs(fn,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Newsletter"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage subscribers and send newsletters"})]}),i.jsxs(ie,{onClick:()=>u(!0),className:"gap-2",children:[i.jsx(ch,{size:16}),"Compose Newsletter"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(ae,{children:[i.jsx(it,{className:"pb-2",children:i.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Total Subscribers"})}),i.jsx(le,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qc,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"text-2xl font-bold",children:t.length})]})})]}),i.jsxs(ae,{children:[i.jsx(it,{className:"pb-2",children:i.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Active Subscribers"})}),i.jsx(le,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Rp,{className:"h-5 w-5 text-green-500"}),i.jsx("span",{className:"text-2xl font-bold",children:x.length})]})})]}),i.jsxs(ae,{children:[i.jsx(it,{className:"pb-2",children:i.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Selected"})}),i.jsx(le,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ko,{className:"h-5 w-5 text-blue-500"}),i.jsx("span",{className:"text-2xl font-bold",children:a.size})]})})]})]}),i.jsxs(ae,{children:[i.jsx(it,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsx(Nt,{children:"Subscribers"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("div",{className:"relative",children:[i.jsx(ri,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ne,{placeholder:"Search emails...",value:r,onChange:I=>o(I.target.value),className:"pl-9 w-64"})]})})]})}),i.jsx(le,{children:n?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):y.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx(Ko,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No subscribers yet"})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[i.jsx(ob,{checked:a.size===y.length&&y.length>0,onCheckedChange:w}),i.jsxs("span",{className:"text-sm font-medium",children:["Select All (",y.length,")"]})]}),i.jsx(Ei,{className:"h-[400px]",children:i.jsx("div",{className:"space-y-2",children:y.map(I=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/30 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ob,{checked:a.has(I.email),onCheckedChange:()=>v(I.email)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:I.email}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Subscribed: ",k(I.subscribedAt)]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wt,{variant:I.status==="active"?"default":"secondary",className:"cursor-pointer",onClick:()=>b(I),children:I.status==="active"?i.jsxs(i.Fragment,{children:[i.jsx(Rp,{className:"h-3 w-3 mr-1"})," Active"]}):i.jsxs(i.Fragment,{children:[i.jsx(ur,{className:"h-3 w-3 mr-1"})," Unsubscribed"]})}),i.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>j(I.id),className:"text-destructive hover:text-destructive",children:i.jsx(Ii,{size:16})})]})]},I.id))})})]})})]})]}),i.jsx(Ln,{open:c,onOpenChange:u,children:i.jsxs(Nn,{className:"max-w-2xl",children:[i.jsxs(Vn,{children:[i.jsx(_n,{children:"Compose Newsletter"}),i.jsxs(Eu,{children:["Send a newsletter to ",a.size>0?a.size:x.length," subscriber",(a.size>0?a.size:x.length)!==1?"s":""]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"subject",children:"Subject"}),i.jsx(Ne,{id:"subject",placeholder:"Newsletter subject...",value:m.subject,onChange:I=>g({...m,subject:I.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"message",children:"Message"}),i.jsx(is,{id:"message",placeholder:"Write your newsletter content...",value:m.message,onChange:I=>g({...m,message:I.target.value}),rows:10})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(ie,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),i.jsx(ie,{onClick:C,disabled:d,className:"gap-2",children:d?i.jsxs(i.Fragment,{children:[i.jsx(De,{className:"h-4 w-4 animate-spin"}),"Sending..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ch,{size:16}),"Send Newsletter"]})})]})]})]})})]})},eP={name:"",slug:"",description:"",image:"",isActive:!0,order:0},Tde=()=>{const[t,e]=p.useState([]),[n,s]=p.useState(!0),[r,o]=p.useState(""),[a,l]=p.useState(!1),[c,u]=p.useState(!1),[d,h]=p.useState(null),[m,g]=p.useState(!1),[y,x]=p.useState(eP);p.useEffect(()=>{const E=Ve(ue,"collections"),P=bt(E,hs("order","asc")),R=vt(P,D=>{const L=[];D.forEach(F=>{const W=F.data();L.push({id:F.id,name:W.name||"",slug:W.slug||"",description:W.description||"",image:W.image||"",isActive:W.isActive!==!1,order:W.order||0,createdAt:W.createdAt})}),e(L),s(!1)},D=>{console.error("Error fetching collections:",D),je({title:"Error",description:"Failed to load collections",variant:"destructive"}),s(!1)});return()=>R()},[]);const w=t.filter(E=>E.name.toLowerCase().includes(r.toLowerCase())),v=()=>{x(eP)},j=E=>E.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),b=E=>{x({...y,name:E,slug:j(E)})},C=async()=>{if(!y.name){je({title:"Please enter a collection name",variant:"destructive"});return}g(!0);try{await ai(Ve(ue,"collections"),{name:y.name,slug:y.slug||j(y.name),description:y.description,image:y.image||"/placeholder.svg",isActive:y.isActive,order:t.length,createdAt:Xe()}),l(!1),v(),je({title:"Collection added",description:`${y.name} has been added successfully.`})}catch(E){console.error("Error adding collection:",E),je({title:"Error",description:"Failed to add collection",variant:"destructive"})}finally{g(!1)}},k=async()=>{if(d){g(!0);try{const E=Ue(ue,"collections",d.id);await $n(E,{name:y.name,slug:y.slug||j(y.name),description:y.description,image:y.image,isActive:y.isActive,order:y.order,updatedAt:Xe()}),u(!1),v(),je({title:"Collection updated",description:`${y.name} has been updated.`})}catch(E){console.error("Error updating collection:",E),je({title:"Error",description:"Failed to update collection",variant:"destructive"})}finally{g(!1)}}},I=async E=>{if(confirm(`Are you sure you want to delete "${E.name}"?`))try{const P=Ue(ue,"collections",E.id);await _r(P),je({title:"Collection deleted",description:`${E.name} has been deleted.`})}catch(P){console.error("Error deleting collection:",P),je({title:"Error",description:"Failed to delete collection",variant:"destructive"})}},_=E=>{h(E),x({name:E.name,slug:E.slug,description:E.description,image:E.image,isActive:E.isActive,order:E.order}),u(!0)},S=async E=>{try{const P=Ue(ue,"collections",E.id);await $n(P,{isActive:!E.isActive}),je({title:E.isActive?"Collection deactivated":"Collection activated",description:`${E.name} is now ${E.isActive?"hidden":"visible"} on the website.`})}catch(P){console.error("Error toggling collection:",P),je({title:"Error",description:"Failed to update collection",variant:"destructive"})}},T=t.filter(E=>E.isActive).length;return n?i.jsx(fn,{children:i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading collections..."})]})})}):i.jsxs(fn,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-heading text-2xl md:text-3xl font-semibold text-foreground","data-testid":"text-collections-title",children:"Collections"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage product collections and categories"})]}),i.jsxs(ie,{onClick:()=>{v(),l(!0)},className:"gap-2","data-testid":"button-add-collection",children:[i.jsx(js,{size:16}),"Add Collection"]})]}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(ae,{children:i.jsxs(le,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(ld,{className:"text-blue-600 dark:text-blue-400",size:20})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-total-collections",children:t.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total"})]})]})}),i.jsx(ae,{children:i.jsxs(le,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(ld,{className:"text-green-600 dark:text-green-400",size:20})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-active-collections",children:T}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Active"})]})]})})]}),i.jsxs(ae,{children:[i.jsx(it,{className:"pb-4",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:items-center justify-between",children:[i.jsx(Nt,{className:"text-lg",children:"All Collections"}),i.jsxs("div",{className:"relative max-w-xs w-full",children:[i.jsx(ri,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ne,{placeholder:"Search collections...",className:"pl-9",value:r,onChange:E=>o(E.target.value),"data-testid":"input-search-collections"})]})]})}),i.jsx(le,{children:w.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ld,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"No collections found"}),i.jsx(ie,{onClick:()=>{v(),l(!0)},className:"mt-4",children:"Create your first collection"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(E=>i.jsxs(ae,{className:"overflow-hidden","data-testid":`collection-${E.id}`,children:[i.jsxs("div",{className:"aspect-video relative overflow-hidden bg-secondary",children:[E.image&&E.image!=="/placeholder.svg"?i.jsx("img",{src:E.image,alt:E.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(ld,{className:"h-12 w-12 text-muted-foreground"})}),i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx(wt,{className:E.isActive?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",children:E.isActive?"Active":"Hidden"})})]}),i.jsx(le,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h3",{className:"font-semibold truncate",children:E.name}),i.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["/",E.slug]}),E.description&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:E.description})]}),i.jsxs(If,{children:[i.jsx(kf,{asChild:!0,children:i.jsx(ie,{variant:"ghost",size:"icon",children:i.jsx(a1,{size:16})})}),i.jsxs(Iu,{align:"end",children:[i.jsxs(ei,{onClick:()=>_(E),children:[i.jsx(Yc,{size:14,className:"mr-2"}),"Edit"]}),i.jsx(ei,{onClick:()=>S(E),children:E.isActive?"Hide":"Show"}),i.jsxs(ei,{onClick:()=>I(E),className:"text-red-600",children:[i.jsx(Ii,{size:14,className:"mr-2"}),"Delete"]})]})]})]})})]},E.id))})})]})]}),i.jsx(Ln,{open:a,onOpenChange:l,children:i.jsxs(Nn,{className:"max-w-md",children:[i.jsx(Vn,{children:i.jsx(_n,{children:"Add Collection"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Name *"}),i.jsx(Ne,{value:y.name,onChange:E=>b(E.target.value),placeholder:"e.g., Cleansers","data-testid":"input-collection-name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Slug"}),i.jsx(Ne,{value:y.slug,onChange:E=>x({...y,slug:E.target.value}),placeholder:"cleansers","data-testid":"input-collection-slug"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"URL-friendly name (auto-generated)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Description"}),i.jsx(is,{value:y.description,onChange:E=>x({...y,description:E.target.value}),placeholder:"Brief description of this collection...",rows:3,"data-testid":"input-collection-description"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Image URL"}),i.jsx(Ne,{value:y.image,onChange:E=>x({...y,image:E.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-collection-image"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(me,{children:"Active"}),i.jsx(Ng,{checked:y.isActive,onCheckedChange:E=>x({...y,isActive:E}),"data-testid":"switch-collection-active"})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(ie,{variant:"outline",onClick:()=>l(!1),className:"flex-1",children:"Cancel"}),i.jsx(ie,{onClick:C,disabled:m,className:"flex-1","data-testid":"button-save-collection",children:m?i.jsx(De,{className:"h-4 w-4 animate-spin"}):"Add Collection"})]})]})]})}),i.jsx(Ln,{open:c,onOpenChange:u,children:i.jsxs(Nn,{className:"max-w-md",children:[i.jsx(Vn,{children:i.jsx(_n,{children:"Edit Collection"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Name *"}),i.jsx(Ne,{value:y.name,onChange:E=>x({...y,name:E.target.value}),placeholder:"e.g., Cleansers"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Slug"}),i.jsx(Ne,{value:y.slug,onChange:E=>x({...y,slug:E.target.value}),placeholder:"cleansers"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Description"}),i.jsx(is,{value:y.description,onChange:E=>x({...y,description:E.target.value}),placeholder:"Brief description of this collection...",rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{children:"Image URL"}),i.jsx(Ne,{value:y.image,onChange:E=>x({...y,image:E.target.value}),placeholder:"https://example.com/image.jpg"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(me,{children:"Active"}),i.jsx(Ng,{checked:y.isActive,onCheckedChange:E=>x({...y,isActive:E})})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(ie,{variant:"outline",onClick:()=>u(!1),className:"flex-1",children:"Cancel"}),i.jsx(ie,{onClick:k,disabled:m,className:"flex-1",children:m?i.jsx(De,{className:"h-4 w-4 animate-spin"}):"Save Changes"})]})]})]})})]})},Cde=()=>{const[t,e]=p.useState([]),[n,s]=p.useState([]),[r,o]=p.useState(!0),[a,l]=p.useState(""),[c,u]=p.useState(!1),[d,h]=p.useState(null),[m,g]=p.useState("center"),[y,x]=p.useState(0);p.useEffect(()=>{const I=Ve(ue,"products"),_=bt(I,hs("createdAt","desc")),S=vt(_,T=>{const E=[];T.forEach(P=>{const R=P.data();E.push({id:P.id,name:R.name||"",price:R.price||0,category:R.category||"",image:R.image||"/placeholder.svg",images:R.images||[R.image||"/placeholder.svg"]})}),e(E)},T=>{console.error("Error fetching products:",T),je({title:"Error",description:"Failed to load products",variant:"destructive"})});return()=>S()},[]),p.useEffect(()=>{const I=Ve(ue,"featuredProducts"),_=bt(I,hs("slideIndex","asc")),S=vt(_,T=>{const E=[];T.forEach(P=>{const R=P.data();E.push({id:P.id,productId:R.productId||"",position:R.position||"center",slideIndex:R.slideIndex||0,productName:R.productName||"",productImage:R.productImage||"/placeholder.svg",productPrice:R.productPrice||0,productCategory:R.productCategory||""})}),s(E),o(!1)},T=>{console.error("Error fetching featured products:",T),je({title:"Error",description:"Failed to load featured products",variant:"destructive"}),o(!1)});return()=>S()},[]);const w=t.filter(I=>I.name.toLowerCase().includes(a.toLowerCase())||I.category.toLowerCase().includes(a.toLowerCase())),v=(I,_)=>n.some(S=>S.slideIndex===I&&S.position===_),j=async()=>{if(!d){je({title:"Please select a product",variant:"destructive"});return}if(v(y,m)){je({title:"Position already taken",description:`Slide ${y+1}, ${C[m]} already has a product assigned. Please choose a different position or remove the existing one first.`,variant:"destructive"});return}u(!0);try{await ai(Ve(ue,"featuredProducts"),{productId:d.id,position:m,slideIndex:y,productName:d.name,productImage:d.image,productPrice:d.price,productCategory:d.category,createdAt:Xe()}),h(null),g("center"),x(0),l(""),je({title:"Success",description:"Featured product added successfully"})}catch(I){console.error("Error adding featured product:",I),je({title:"Error",description:"Failed to add featured product",variant:"destructive"})}finally{u(!1)}},b=async(I,_)=>{try{await _r(Ue(ue,"featuredProducts",I)),je({title:"Removed",description:`${_} removed from featured products`})}catch(S){console.error("Error deleting featured product:",S),je({title:"Error",description:"Failed to remove featured product",variant:"destructive"})}},C={top_left:"Top Left",top_right:"Top Right",bottom_left:"Bottom Left",bottom_right:"Bottom Right",center:"Center"},k=I=>n.filter(_=>_.slideIndex===I);return r?i.jsx(fn,{children:i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading featured products..."})]})})}):i.jsx(fn,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-heading text-2xl md:text-3xl font-semibold text-foreground","data-testid":"text-featured-products-title",children:"Featured Products"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage products featured in the hero section carousel (click dots on hero slides)"})]}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"md:col-span-2 space-y-4",children:[0,1,2].map(I=>{const _=k(I);return i.jsxs(ae,{children:[i.jsx(it,{className:"pb-3",children:i.jsxs(Nt,{className:"text-base flex items-center justify-between gap-2",children:[i.jsxs("span",{children:["Slide ",I+1]}),i.jsxs(wt,{variant:"outline",className:"text-xs",children:[_.length," / 5 positions"]})]})}),i.jsx(le,{className:"space-y-2",children:_.length===0?i.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No featured products on this slide"}):_.map(S=>{var T;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("img",{src:S.productImage,alt:S.productName,className:"h-12 w-12 rounded object-cover flex-shrink-0",onError:E=>{E.target.src="/placeholder.svg"}}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-sm truncate",children:S.productName}),i.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[i.jsx(wt,{variant:"outline",className:"text-xs",children:C[S.position]}),S.productCategory&&i.jsx(wt,{variant:"secondary",className:"text-xs",children:S.productCategory}),i.jsxs(wt,{variant:"secondary",className:"text-xs",children:["",((T=S.productPrice)==null?void 0:T.toFixed(2))||"0.00"]})]})]})]}),i.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>b(S.id,S.productName),"data-testid":`button-delete-featured-${S.id}`,children:i.jsx(Ii,{className:"h-4 w-4 text-destructive"})})]},S.id)})})]},I)})}),i.jsxs(ae,{children:[i.jsx(it,{children:i.jsx(Nt,{className:"text-lg",children:"Add Featured Product"})}),i.jsxs(le,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Slide"}),i.jsxs(Ws,{value:y.toString(),onValueChange:I=>x(Number(I)),children:[i.jsx(Ss,{"data-testid":"select-slide",children:i.jsx(Hs,{placeholder:"Select slide"})}),i.jsxs(Es,{children:[i.jsx(ke,{value:"0",children:"Slide 1"}),i.jsx(ke,{value:"1",children:"Slide 2"}),i.jsx(ke,{value:"2",children:"Slide 3"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Position"}),i.jsxs(Ws,{value:m,onValueChange:I=>g(I),children:[i.jsx(Ss,{"data-testid":"select-position",children:i.jsx(Hs,{placeholder:"Select position"})}),i.jsx(Es,{children:Object.entries(C).map(([I,_])=>{const S=v(y,I);return i.jsxs(ke,{value:I,disabled:S,children:[_," ",S&&"(Taken)"]},I)})})]}),v(y,m)&&i.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[i.jsx(oh,{className:"h-3 w-3"}),"This position is already taken"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Search Product"}),i.jsxs("div",{className:"relative",children:[i.jsx(ri,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:16}),i.jsx(Ne,{placeholder:"Search by name or category...",value:a,onChange:I=>l(I.target.value),className:"pl-10","data-testid":"input-search-products"})]})]}),i.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:w.length===0?i.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No products found"}):w.map(I=>i.jsxs("button",{onClick:()=>h(I),className:`w-full flex items-center gap-3 p-2 rounded-lg text-left transition ${(d==null?void 0:d.id)===I.id?"bg-primary text-primary-foreground":"bg-secondary/50 hover:bg-secondary"}`,"data-testid":`button-select-product-${I.id}`,children:[i.jsx("img",{src:I.image,alt:I.name,className:"h-10 w-10 rounded object-cover flex-shrink-0",onError:_=>{_.target.src="/placeholder.svg"}}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("span",{className:"text-sm font-medium truncate block",children:I.name}),i.jsxs("span",{className:`text-xs ${(d==null?void 0:d.id)===I.id?"text-primary-foreground/70":"text-muted-foreground"}`,children:[I.category,"  ",I.price.toFixed(2)]})]})]},I.id))}),d&&i.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg border border-primary/20",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Selected:"}),i.jsx("p",{className:"text-sm font-medium",children:d.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.category,"  ",d.price.toFixed(2)]})]}),i.jsxs(ie,{onClick:j,disabled:c||!d||v(y,m),className:"w-full","data-testid":"button-add-featured",children:[c?i.jsx(De,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx(js,{className:"h-4 w-4 mr-2"}),"Add to Slide ",y+1]})]})]})]})]})})},Ade=()=>{const t=p.useRef(null),e=p.useRef(),n=p.useRef({x:0,y:0}),s=p.useRef({x:0,y:0});return p.useEffect(()=>{const r=a=>{n.current={x:a.clientX,y:a.clientY}},o=()=>{s.current.x+=(n.current.x-s.current.x)*.1,s.current.y+=(n.current.y-s.current.y)*.1,t.current&&(t.current.style.transform=`translate(-50%, -50%) translate3d(${s.current.x}px, ${s.current.y}px, 0)`),e.current=requestAnimationFrame(o)};return e.current=requestAnimationFrame(o),window.addEventListener("mousemove",r),()=>{e.current&&cancelAnimationFrame(e.current),window.removeEventListener("mousemove",r)}},[]),i.jsx("div",{ref:t,className:"custom-cursor-dot"})},Pde=new M7,Ide=()=>i.jsx(L7,{client:Pde,children:i.jsx(LJ,{children:i.jsx(pee,{children:i.jsx(VJ,{children:i.jsx(FJ,{children:i.jsxs(d7,{children:[i.jsx(Y8,{}),i.jsx(Tz,{}),i.jsx(Ade,{}),i.jsx(OW,{children:i.jsxs(CW,{children:[i.jsx(Ze,{path:"/",element:i.jsx(joe,{})}),i.jsx(Ze,{path:"/shop",element:i.jsx(Jae,{})}),i.jsx(Ze,{path:"/shop/:category",element:i.jsx(rle,{})}),i.jsx(Ze,{path:"/shop/product/:id",element:i.jsx(Ele,{})}),i.jsx(Ze,{path:"/about",element:i.jsx(Ile,{})}),i.jsx(Ze,{path:"/contact",element:i.jsx(Dle,{})}),i.jsx(Ze,{path:"/blog",element:i.jsx(Mle,{})}),i.jsx(Ze,{path:"/blog/:id",element:i.jsx(Ole,{})}),i.jsx(Ze,{path:"/faq",element:i.jsx(Fle,{})}),i.jsx(Ze,{path:"/shipping",element:i.jsx(zle,{})}),i.jsx(Ze,{path:"/returns",element:i.jsx(Ble,{})}),i.jsx(Ze,{path:"/terms",element:i.jsx(Wle,{})}),i.jsx(Ze,{path:"/favorites",element:i.jsx(Hle,{})}),i.jsx(Ze,{path:"/account",element:i.jsx(cce,{})}),i.jsx(Ze,{path:"/checkout",element:i.jsx(hce,{})}),i.jsx(Ze,{path:"/privacy",element:i.jsx(fce,{})}),i.jsx(Ze,{path:"/cookies",element:i.jsx(mce,{})}),i.jsx(Ze,{path:"/admin",element:i.jsx(gce,{})}),i.jsx(Ze,{path:"/admin/dashboard",element:i.jsx(Sue,{})}),i.jsx(Ze,{path:"/admin/products",element:i.jsx(ode,{})}),i.jsx(Ze,{path:"/admin/orders",element:i.jsx(lde,{})}),i.jsx(Ze,{path:"/admin/users",element:i.jsx(cde,{})}),i.jsx(Ze,{path:"/admin/contact",element:i.jsx(ude,{})}),i.jsx(Ze,{path:"/admin/collections",element:i.jsx(Tde,{})}),i.jsx(Ze,{path:"/admin/featured",element:i.jsx(Cde,{})}),i.jsx(Ze,{path:"/admin/newsletter",element:i.jsx(Ede,{})}),i.jsx(Ze,{path:"/admin/ads",element:i.jsx(gde,{})}),i.jsx(Ze,{path:"/admin/blogs",element:i.jsx(yde,{})}),i.jsx(Ze,{path:"/admin/instagram",element:i.jsx(bde,{})}),i.jsx(Ze,{path:"*",element:i.jsx(pce,{})})]})})]})})})})})});Nk(document.getElementById("root")).render(i.jsx(Ide,{}));
